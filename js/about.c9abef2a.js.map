{"version":3,"file":"js/about.c9abef2a.js","mappings":"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","sources":["webpack://paul-family-cookbook/./src/views/RecipeView.vue","webpack://paul-family-cookbook/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://paul-family-cookbook/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://paul-family-cookbook/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://paul-family-cookbook/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://paul-family-cookbook/./node_modules/marked/lib/marked.esm.js","webpack://paul-family-cookbook/./node_modules/vue-property-decorator/lib/helpers/metadata.js","webpack://paul-family-cookbook/./node_modules/vue-class-component/dist/vue-class-component.esm.js","webpack://paul-family-cookbook/./src/views/RecipeView.vue?8efd","webpack://paul-family-cookbook/./src/views/RecipeView.vue?cb70","webpack://paul-family-cookbook/./src/views/RecipeView.vue?7039","webpack://paul-family-cookbook/../../../src/components/VGrid/VLayout.ts","webpack://paul-family-cookbook/./src/views/RecipesView.vue","webpack://paul-family-cookbook/../../../src/components/VGrid/VFlex.ts","webpack://paul-family-cookbook/./src/components/RecipePreview.vue","webpack://paul-family-cookbook/./src/components/RecipePreview.vue?350b","webpack://paul-family-cookbook/./src/components/RecipePreview.vue?65e1","webpack://paul-family-cookbook/./src/components/RecipePreview.vue?af95","webpack://paul-family-cookbook/./src/views/RecipesView.vue?4300","webpack://paul-family-cookbook/./src/views/RecipesView.vue?585e","webpack://paul-family-cookbook/./src/views/RecipesView.vue?4088","webpack://paul-family-cookbook/./src/views/TagsView.vue","webpack://paul-family-cookbook/./src/views/TagsView.vue?37e2","webpack://paul-family-cookbook/./node_modules/@supabase/functions-js/dist/module/helper.js","webpack://paul-family-cookbook/./node_modules/@supabase/functions-js/dist/module/types.js","webpack://paul-family-cookbook/./node_modules/@supabase/functions-js/dist/module/FunctionsClient.js","webpack://paul-family-cookbook/./node_modules/@supabase/postgrest-js/dist/module/PostgrestBuilder.js","webpack://paul-family-cookbook/./node_modules/@supabase/postgrest-js/dist/module/PostgrestTransformBuilder.js","webpack://paul-family-cookbook/./node_modules/@supabase/postgrest-js/dist/module/PostgrestFilterBuilder.js","webpack://paul-family-cookbook/./node_modules/@supabase/postgrest-js/dist/module/PostgrestQueryBuilder.js","webpack://paul-family-cookbook/./node_modules/@supabase/postgrest-js/dist/module/version.js","webpack://paul-family-cookbook/./node_modules/@supabase/postgrest-js/dist/module/constants.js","webpack://paul-family-cookbook/./node_modules/@supabase/postgrest-js/dist/module/PostgrestClient.js","webpack://paul-family-cookbook/./node_modules/@supabase/realtime-js/dist/module/lib/version.js","webpack://paul-family-cookbook/./node_modules/@supabase/realtime-js/dist/module/lib/constants.js","webpack://paul-family-cookbook/./node_modules/@supabase/realtime-js/dist/module/RealtimePresence.js","webpack://paul-family-cookbook/./node_modules/@supabase/realtime-js/dist/module/lib/transformers.js","webpack://paul-family-cookbook/./node_modules/@supabase/realtime-js/dist/module/lib/timer.js","webpack://paul-family-cookbook/./node_modules/@supabase/realtime-js/dist/module/lib/serializer.js","webpack://paul-family-cookbook/./node_modules/@supabase/realtime-js/dist/module/lib/push.js","webpack://paul-family-cookbook/./node_modules/@supabase/realtime-js/dist/module/RealtimeChannel.js","webpack://paul-family-cookbook/./node_modules/@supabase/realtime-js/dist/module/RealtimeClient.js","webpack://paul-family-cookbook/./node_modules/@supabase/storage-js/dist/module/lib/errors.js","webpack://paul-family-cookbook/./node_modules/@supabase/storage-js/dist/module/lib/helpers.js","webpack://paul-family-cookbook/./node_modules/@supabase/storage-js/dist/module/lib/fetch.js","webpack://paul-family-cookbook/./node_modules/@supabase/storage-js/dist/module/packages/StorageFileApi.js","webpack://paul-family-cookbook/./node_modules/@supabase/storage-js/dist/module/lib/version.js","webpack://paul-family-cookbook/./node_modules/@supabase/storage-js/dist/module/lib/constants.js","webpack://paul-family-cookbook/./node_modules/@supabase/storage-js/dist/module/packages/StorageBucketApi.js","webpack://paul-family-cookbook/./node_modules/@supabase/storage-js/dist/module/StorageClient.js","webpack://paul-family-cookbook/./node_modules/@supabase/supabase-js/dist/module/lib/version.js","webpack://paul-family-cookbook/./node_modules/@supabase/supabase-js/dist/module/lib/constants.js","webpack://paul-family-cookbook/./node_modules/@supabase/supabase-js/dist/module/lib/fetch.js","webpack://paul-family-cookbook/./node_modules/@supabase/supabase-js/dist/module/lib/helpers.js","webpack://paul-family-cookbook/./node_modules/@supabase/gotrue-js/dist/module/lib/helpers.js","webpack://paul-family-cookbook/./node_modules/@supabase/gotrue-js/dist/module/lib/errors.js","webpack://paul-family-cookbook/./node_modules/@supabase/gotrue-js/dist/module/lib/fetch.js","webpack://paul-family-cookbook/./node_modules/@supabase/gotrue-js/dist/module/GoTrueAdminApi.js","webpack://paul-family-cookbook/./node_modules/@supabase/gotrue-js/dist/module/lib/version.js","webpack://paul-family-cookbook/./node_modules/@supabase/gotrue-js/dist/module/lib/constants.js","webpack://paul-family-cookbook/./node_modules/@supabase/gotrue-js/dist/module/lib/local-storage.js","webpack://paul-family-cookbook/./node_modules/@supabase/gotrue-js/dist/module/lib/polyfills.js","webpack://paul-family-cookbook/./node_modules/@supabase/gotrue-js/dist/module/GoTrueClient.js","webpack://paul-family-cookbook/./node_modules/@supabase/supabase-js/dist/module/lib/SupabaseAuthClient.js","webpack://paul-family-cookbook/./node_modules/@supabase/supabase-js/dist/module/SupabaseClient.js","webpack://paul-family-cookbook/./node_modules/@supabase/supabase-js/dist/module/index.js","webpack://paul-family-cookbook/./src/lib/supabase.ts","webpack://paul-family-cookbook/./src/vuetils/useRecipes.ts","webpack://paul-family-cookbook/../../../src/components/transitions/createTransition.ts","webpack://paul-family-cookbook/../../../src/components/transitions/expand-transition.ts","webpack://paul-family-cookbook/../../../src/components/transitions/index.ts","webpack://paul-family-cookbook/../../../src/mixins/proxyable/index.ts","webpack://paul-family-cookbook/../../../src/components/VProgressLinear/VProgressLinear.ts","webpack://paul-family-cookbook/../../../src/components/VProgressLinear/index.ts","webpack://paul-family-cookbook/../../../src/mixins/loadable/index.ts","webpack://paul-family-cookbook/../../../src/components/VCard/VCard.ts","webpack://paul-family-cookbook/../../../src/components/VCard/index.ts","webpack://paul-family-cookbook/./node_modules/cross-fetch/dist/browser-ponyfill.js","webpack://paul-family-cookbook/./node_modules/dompurify/dist/purify.js","webpack://paul-family-cookbook/./node_modules/es5-ext/global.js","webpack://paul-family-cookbook/./node_modules/websocket/lib/browser.js","webpack://paul-family-cookbook/./node_modules/websocket/lib/version.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('br'),_c('v-card',{staticClass:\"mx-auto\",attrs:{\"elevation\":\"4\"}},[_c('v-img',{attrs:{\"src\":_vm.currentRecipe?.thumbnail_url ||\n        'https://www.saga.co.uk/contentlibrary/saga/publishing/verticals/food/hero-and-hub/food/food-hero-1260x600.jpg',\"height\":\"200px\"}}),_c('v-card-title',[_c('h1',[_vm._v(\" \"+_vm._s(_vm.currentRecipe?.title)+\" \")])]),_c('v-cart-text',[_c('div',{staticClass:\"col-md-12\",domProps:{\"innerHTML\":_vm._s(_vm.HtmlBody)}})])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2022, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\nfunction getDefaults() {\n  return {\n    async: false,\n    baseUrl: null,\n    breaks: false,\n    extensions: null,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartypants: false,\n    tokenizer: null,\n    walkTokens: null,\n    xhtml: false\n  };\n}\n\nlet defaults = getDefaults();\n\nfunction changeDefaults(newDefaults) {\n  defaults = newDefaults;\n}\n\n/**\n * Helpers\n */\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = new RegExp(escapeTest.source, 'g');\nconst escapeTestNoEncode = /[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/;\nconst escapeReplaceNoEncode = new RegExp(escapeTestNoEncode.source, 'g');\nconst escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\nconst getEscapeReplacement = (ch) => escapeReplacements[ch];\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\n\nconst unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\n/**\n * @param {string} html\n */\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, (_, n) => {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nconst caret = /(^|[^\\[])\\^/g;\n\n/**\n * @param {string | RegExp} regex\n * @param {string} opt\n */\nfunction edit(regex, opt) {\n  regex = typeof regex === 'string' ? regex : regex.source;\n  opt = opt || '';\n  const obj = {\n    replace: (name, val) => {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: () => {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\n\nconst nonWordAndColonTest = /[^\\w:]/g;\nconst originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\n/**\n * @param {boolean} sanitize\n * @param {string} base\n * @param {string} href\n */\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    let prot;\n    try {\n      prot = decodeURIComponent(unescape(href))\n        .replace(nonWordAndColonTest, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nconst baseUrls = {};\nconst justDomain = /^[^:]+:\\/*[^/]*$/;\nconst protocol = /^([^:]+:)[\\s\\S]*$/;\nconst domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\n/**\n * @param {string} base\n * @param {string} href\n */\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n  const relativeBase = base.indexOf(':') === -1;\n\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\n\nconst noopTest = { exec: function noopTest() {} };\n\nfunction merge(obj) {\n  let i = 1,\n    target,\n    key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  const row = tableRow.replace(/\\|/g, (match, offset, str) => {\n      let escaped = false,\n        curr = offset;\n      while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n    cells = row.split(/ \\|/);\n  let i = 0;\n\n  // First/last cell in a row cannot be empty if it has no leading/trailing pipe\n  if (!cells[0].trim()) { cells.shift(); }\n  if (cells.length > 0 && !cells[cells.length - 1].trim()) { cells.pop(); }\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n/**\n * Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n * /c*$/ is vulnerable to REDOS.\n *\n * @param {string} str\n * @param {string} c\n * @param {boolean} invert Remove suffix of non-c chars instead. Default falsey.\n */\nfunction rtrim(str, c, invert) {\n  const l = str.length;\n  if (l === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  let suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < l) {\n    const currChar = str.charAt(l - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.slice(0, l - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  const l = str.length;\n  let level = 0,\n    i = 0;\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n}\n\n// copied from https://stackoverflow.com/a/5450113/806777\n/**\n * @param {string} pattern\n * @param {number} count\n */\nfunction repeatString(pattern, count) {\n  if (count < 1) {\n    return '';\n  }\n  let result = '';\n  while (count > 1) {\n    if (count & 1) {\n      result += pattern;\n    }\n    count >>= 1;\n    pattern += pattern;\n  }\n  return result + pattern;\n}\n\nfunction outputLink(cap, link, raw, lexer) {\n  const href = link.href;\n  const title = link.title ? escape(link.title) : null;\n  const text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n  if (cap[0].charAt(0) !== '!') {\n    lexer.state.inLink = true;\n    const token = {\n      type: 'link',\n      raw,\n      href,\n      title,\n      text,\n      tokens: lexer.inlineTokens(text)\n    };\n    lexer.state.inLink = false;\n    return token;\n  }\n  return {\n    type: 'image',\n    raw,\n    href,\n    title,\n    text: escape(text)\n  };\n}\n\nfunction indentCodeCompensation(raw, text) {\n  const matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n  if (matchIndentToCode === null) {\n    return text;\n  }\n\n  const indentToCode = matchIndentToCode[1];\n\n  return text\n    .split('\\n')\n    .map(node => {\n      const matchIndentInNode = node.match(/^\\s+/);\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      const [indentInNode] = matchIndentInNode;\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    })\n    .join('\\n');\n}\n\n/**\n * Tokenizer\n */\nclass Tokenizer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  space(src) {\n    const cap = this.rules.block.newline.exec(src);\n    if (cap && cap[0].length > 0) {\n      return {\n        type: 'space',\n        raw: cap[0]\n      };\n    }\n  }\n\n  code(src) {\n    const cap = this.rules.block.code.exec(src);\n    if (cap) {\n      const text = cap[0].replace(/^ {1,4}/gm, '');\n      return {\n        type: 'code',\n        raw: cap[0],\n        codeBlockStyle: 'indented',\n        text: !this.options.pedantic\n          ? rtrim(text, '\\n')\n          : text\n      };\n    }\n  }\n\n  fences(src) {\n    const cap = this.rules.block.fences.exec(src);\n    if (cap) {\n      const raw = cap[0];\n      const text = indentCodeCompensation(raw, cap[3] || '');\n\n      return {\n        type: 'code',\n        raw,\n        lang: cap[2] ? cap[2].trim().replace(this.rules.inline._escapes, '$1') : cap[2],\n        text\n      };\n    }\n  }\n\n  heading(src) {\n    const cap = this.rules.block.heading.exec(src);\n    if (cap) {\n      let text = cap[2].trim();\n\n      // remove trailing #s\n      if (/#$/.test(text)) {\n        const trimmed = rtrim(text, '#');\n        if (this.options.pedantic) {\n          text = trimmed.trim();\n        } else if (!trimmed || / $/.test(trimmed)) {\n          // CommonMark requires space before trailing #s\n          text = trimmed.trim();\n        }\n      }\n\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[1].length,\n        text,\n        tokens: this.lexer.inline(text)\n      };\n    }\n  }\n\n  hr(src) {\n    const cap = this.rules.block.hr.exec(src);\n    if (cap) {\n      return {\n        type: 'hr',\n        raw: cap[0]\n      };\n    }\n  }\n\n  blockquote(src) {\n    const cap = this.rules.block.blockquote.exec(src);\n    if (cap) {\n      const text = cap[0].replace(/^ *>[ \\t]?/gm, '');\n      const top = this.lexer.state.top;\n      this.lexer.state.top = true;\n      const tokens = this.lexer.blockTokens(text);\n      this.lexer.state.top = top;\n      return {\n        type: 'blockquote',\n        raw: cap[0],\n        tokens,\n        text\n      };\n    }\n  }\n\n  list(src) {\n    let cap = this.rules.block.list.exec(src);\n    if (cap) {\n      let raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine,\n        line, nextLine, rawLine, itemContents, endEarly;\n\n      let bull = cap[1].trim();\n      const isordered = bull.length > 1;\n\n      const list = {\n        type: 'list',\n        raw: '',\n        ordered: isordered,\n        start: isordered ? +bull.slice(0, -1) : '',\n        loose: false,\n        items: []\n      };\n\n      bull = isordered ? `\\\\d{1,9}\\\\${bull.slice(-1)}` : `\\\\${bull}`;\n\n      if (this.options.pedantic) {\n        bull = isordered ? bull : '[*+-]';\n      }\n\n      // Get next list item\n      const itemRegex = new RegExp(`^( {0,3}${bull})((?:[\\t ][^\\\\n]*)?(?:\\\\n|$))`);\n\n      // Check if current bullet point can start a new List Item\n      while (src) {\n        endEarly = false;\n        if (!(cap = itemRegex.exec(src))) {\n          break;\n        }\n\n        if (this.rules.block.hr.test(src)) { // End list if bullet was actually HR (possibly move into itemRegex?)\n          break;\n        }\n\n        raw = cap[0];\n        src = src.substring(raw.length);\n\n        line = cap[2].split('\\n', 1)[0].replace(/^\\t+/, (t) => ' '.repeat(3 * t.length));\n        nextLine = src.split('\\n', 1)[0];\n\n        if (this.options.pedantic) {\n          indent = 2;\n          itemContents = line.trimLeft();\n        } else {\n          indent = cap[2].search(/[^ ]/); // Find first non-space char\n          indent = indent > 4 ? 1 : indent; // Treat indented code blocks (> 4 spaces) as having only 1 indent\n          itemContents = line.slice(indent);\n          indent += cap[1].length;\n        }\n\n        blankLine = false;\n\n        if (!line && /^ *$/.test(nextLine)) { // Items begin with at most one blank line\n          raw += nextLine + '\\n';\n          src = src.substring(nextLine.length + 1);\n          endEarly = true;\n        }\n\n        if (!endEarly) {\n          const nextBulletRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:[*+-]|\\\\d{1,9}[.)])((?:[ \\t][^\\\\n]*)?(?:\\\\n|$))`);\n          const hrRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)`);\n          const fencesBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:\\`\\`\\`|~~~)`);\n          const headingBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}#`);\n\n          // Check if following lines should be included in List Item\n          while (src) {\n            rawLine = src.split('\\n', 1)[0];\n            nextLine = rawLine;\n\n            // Re-align to follow commonmark nesting rules\n            if (this.options.pedantic) {\n              nextLine = nextLine.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');\n            }\n\n            // End list item if found code fences\n            if (fencesBeginRegex.test(nextLine)) {\n              break;\n            }\n\n            // End list item if found start of new heading\n            if (headingBeginRegex.test(nextLine)) {\n              break;\n            }\n\n            // End list item if found start of new bullet\n            if (nextBulletRegex.test(nextLine)) {\n              break;\n            }\n\n            // Horizontal rule found\n            if (hrRegex.test(src)) {\n              break;\n            }\n\n            if (nextLine.search(/[^ ]/) >= indent || !nextLine.trim()) { // Dedent if possible\n              itemContents += '\\n' + nextLine.slice(indent);\n            } else {\n              // not enough indentation\n              if (blankLine) {\n                break;\n              }\n\n              // paragraph continuation unless last line was a different block level element\n              if (line.search(/[^ ]/) >= 4) { // indented code block\n                break;\n              }\n              if (fencesBeginRegex.test(line)) {\n                break;\n              }\n              if (headingBeginRegex.test(line)) {\n                break;\n              }\n              if (hrRegex.test(line)) {\n                break;\n              }\n\n              itemContents += '\\n' + nextLine;\n            }\n\n            if (!blankLine && !nextLine.trim()) { // Check if current line is blank\n              blankLine = true;\n            }\n\n            raw += rawLine + '\\n';\n            src = src.substring(rawLine.length + 1);\n            line = nextLine.slice(indent);\n          }\n        }\n\n        if (!list.loose) {\n          // If the previous item ended with a blank line, the list is loose\n          if (endsWithBlankLine) {\n            list.loose = true;\n          } else if (/\\n *\\n *$/.test(raw)) {\n            endsWithBlankLine = true;\n          }\n        }\n\n        // Check for task list items\n        if (this.options.gfm) {\n          istask = /^\\[[ xX]\\] /.exec(itemContents);\n          if (istask) {\n            ischecked = istask[0] !== '[ ] ';\n            itemContents = itemContents.replace(/^\\[[ xX]\\] +/, '');\n          }\n        }\n\n        list.items.push({\n          type: 'list_item',\n          raw,\n          task: !!istask,\n          checked: ischecked,\n          loose: false,\n          text: itemContents\n        });\n\n        list.raw += raw;\n      }\n\n      // Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic\n      list.items[list.items.length - 1].raw = raw.trimRight();\n      list.items[list.items.length - 1].text = itemContents.trimRight();\n      list.raw = list.raw.trimRight();\n\n      const l = list.items.length;\n\n      // Item child tokens handled here at end because we needed to have the final item to trim it first\n      for (i = 0; i < l; i++) {\n        this.lexer.state.top = false;\n        list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);\n\n        if (!list.loose) {\n          // Check if list should be loose\n          const spacers = list.items[i].tokens.filter(t => t.type === 'space');\n          const hasMultipleLineBreaks = spacers.length > 0 && spacers.some(t => /\\n.*\\n/.test(t.raw));\n\n          list.loose = hasMultipleLineBreaks;\n        }\n      }\n\n      // Set all items to loose if list is loose\n      if (list.loose) {\n        for (i = 0; i < l; i++) {\n          list.items[i].loose = true;\n        }\n      }\n\n      return list;\n    }\n  }\n\n  html(src) {\n    const cap = this.rules.block.html.exec(src);\n    if (cap) {\n      const token = {\n        type: 'html',\n        raw: cap[0],\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      };\n      if (this.options.sanitize) {\n        const text = this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]);\n        token.type = 'paragraph';\n        token.text = text;\n        token.tokens = this.lexer.inline(text);\n      }\n      return token;\n    }\n  }\n\n  def(src) {\n    const cap = this.rules.block.def.exec(src);\n    if (cap) {\n      const tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      const href = cap[2] ? cap[2].replace(/^<(.*)>$/, '$1').replace(this.rules.inline._escapes, '$1') : '';\n      const title = cap[3] ? cap[3].substring(1, cap[3].length - 1).replace(this.rules.inline._escapes, '$1') : cap[3];\n      return {\n        type: 'def',\n        tag,\n        raw: cap[0],\n        href,\n        title\n      };\n    }\n  }\n\n  table(src) {\n    const cap = this.rules.block.table.exec(src);\n    if (cap) {\n      const item = {\n        type: 'table',\n        header: splitCells(cap[1]).map(c => { return { text: c }; }),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        rows: cap[3] && cap[3].trim() ? cap[3].replace(/\\n[ \\t]*$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        item.raw = cap[0];\n\n        let l = item.align.length;\n        let i, j, k, row;\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.rows.length;\n        for (i = 0; i < l; i++) {\n          item.rows[i] = splitCells(item.rows[i], item.header.length).map(c => { return { text: c }; });\n        }\n\n        // parse child tokens inside headers and cells\n\n        // header child tokens\n        l = item.header.length;\n        for (j = 0; j < l; j++) {\n          item.header[j].tokens = this.lexer.inline(item.header[j].text);\n        }\n\n        // cell child tokens\n        l = item.rows.length;\n        for (j = 0; j < l; j++) {\n          row = item.rows[j];\n          for (k = 0; k < row.length; k++) {\n            row[k].tokens = this.lexer.inline(row[k].text);\n          }\n        }\n\n        return item;\n      }\n    }\n  }\n\n  lheading(src) {\n    const cap = this.rules.block.lheading.exec(src);\n    if (cap) {\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[2].charAt(0) === '=' ? 1 : 2,\n        text: cap[1],\n        tokens: this.lexer.inline(cap[1])\n      };\n    }\n  }\n\n  paragraph(src) {\n    const cap = this.rules.block.paragraph.exec(src);\n    if (cap) {\n      const text = cap[1].charAt(cap[1].length - 1) === '\\n'\n        ? cap[1].slice(0, -1)\n        : cap[1];\n      return {\n        type: 'paragraph',\n        raw: cap[0],\n        text,\n        tokens: this.lexer.inline(text)\n      };\n    }\n  }\n\n  text(src) {\n    const cap = this.rules.block.text.exec(src);\n    if (cap) {\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: cap[0],\n        tokens: this.lexer.inline(cap[0])\n      };\n    }\n  }\n\n  escape(src) {\n    const cap = this.rules.inline.escape.exec(src);\n    if (cap) {\n      return {\n        type: 'escape',\n        raw: cap[0],\n        text: escape(cap[1])\n      };\n    }\n  }\n\n  tag(src) {\n    const cap = this.rules.inline.tag.exec(src);\n    if (cap) {\n      if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {\n        this.lexer.state.inLink = true;\n      } else if (this.lexer.state.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.lexer.state.inLink = false;\n      }\n      if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = true;\n      } else if (this.lexer.state.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = false;\n      }\n\n      return {\n        type: this.options.sanitize\n          ? 'text'\n          : 'html',\n        raw: cap[0],\n        inLink: this.lexer.state.inLink,\n        inRawBlock: this.lexer.state.inRawBlock,\n        text: this.options.sanitize\n          ? (this.options.sanitizer\n            ? this.options.sanitizer(cap[0])\n            : escape(cap[0]))\n          : cap[0]\n      };\n    }\n  }\n\n  link(src) {\n    const cap = this.rules.inline.link.exec(src);\n    if (cap) {\n      const trimmedUrl = cap[2].trim();\n      if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n        // commonmark requires matching angle brackets\n        if (!(/>$/.test(trimmedUrl))) {\n          return;\n        }\n\n        // ending angle bracket cannot be escaped\n        const rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n          return;\n        }\n      } else {\n        // find closing parenthesis\n        const lastParenIndex = findClosingBracket(cap[2], '()');\n        if (lastParenIndex > -1) {\n          const start = cap[0].indexOf('!') === 0 ? 5 : 4;\n          const linkLen = start + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n      }\n      let href = cap[2];\n      let title = '';\n      if (this.options.pedantic) {\n        // split pedantic href and title\n        const link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n\n      href = href.trim();\n      if (/^</.test(href)) {\n        if (this.options.pedantic && !(/>$/.test(trimmedUrl))) {\n          // pedantic allows starting angle bracket without ending angle bracket\n          href = href.slice(1);\n        } else {\n          href = href.slice(1, -1);\n        }\n      }\n      return outputLink(cap, {\n        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n        title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n      }, cap[0], this.lexer);\n    }\n  }\n\n  reflink(src, links) {\n    let cap;\n    if ((cap = this.rules.inline.reflink.exec(src))\n        || (cap = this.rules.inline.nolink.exec(src))) {\n      let link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = links[link.toLowerCase()];\n      if (!link) {\n        const text = cap[0].charAt(0);\n        return {\n          type: 'text',\n          raw: text,\n          text\n        };\n      }\n      return outputLink(cap, link, cap[0], this.lexer);\n    }\n  }\n\n  emStrong(src, maskedSrc, prevChar = '') {\n    let match = this.rules.inline.emStrong.lDelim.exec(src);\n    if (!match) return;\n\n    // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n    if (match[3] && prevChar.match(/[\\p{L}\\p{N}]/u)) return;\n\n    const nextChar = match[1] || match[2] || '';\n\n    if (!nextChar || (nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n      const lLength = match[0].length - 1;\n      let rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;\n\n      const endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\n      endReg.lastIndex = 0;\n\n      // Clip maskedSrc to same section of string as src (move to lexer?)\n      maskedSrc = maskedSrc.slice(-1 * src.length + lLength);\n\n      while ((match = endReg.exec(maskedSrc)) != null) {\n        rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n\n        if (!rDelim) continue; // skip single * in __abc*abc__\n\n        rLength = rDelim.length;\n\n        if (match[3] || match[4]) { // found another Left Delim\n          delimTotal += rLength;\n          continue;\n        } else if (match[5] || match[6]) { // either Left or Right Delim\n          if (lLength % 3 && !((lLength + rLength) % 3)) {\n            midDelimTotal += rLength;\n            continue; // CommonMark Emphasis Rules 9-10\n          }\n        }\n\n        delimTotal -= rLength;\n\n        if (delimTotal > 0) continue; // Haven't found enough closing delimiters\n\n        // Remove extra characters. *a*** -> *a*\n        rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal);\n\n        const raw = src.slice(0, lLength + match.index + (match[0].length - rDelim.length) + rLength);\n\n        // Create `em` if smallest delimiter has odd char count. *a***\n        if (Math.min(lLength, rLength) % 2) {\n          const text = raw.slice(1, -1);\n          return {\n            type: 'em',\n            raw,\n            text,\n            tokens: this.lexer.inlineTokens(text)\n          };\n        }\n\n        // Create 'strong' if smallest delimiter has even char count. **a***\n        const text = raw.slice(2, -2);\n        return {\n          type: 'strong',\n          raw,\n          text,\n          tokens: this.lexer.inlineTokens(text)\n        };\n      }\n    }\n  }\n\n  codespan(src) {\n    const cap = this.rules.inline.code.exec(src);\n    if (cap) {\n      let text = cap[2].replace(/\\n/g, ' ');\n      const hasNonSpaceChars = /[^ ]/.test(text);\n      const hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n      if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n        text = text.substring(1, text.length - 1);\n      }\n      text = escape(text, true);\n      return {\n        type: 'codespan',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n\n  br(src) {\n    const cap = this.rules.inline.br.exec(src);\n    if (cap) {\n      return {\n        type: 'br',\n        raw: cap[0]\n      };\n    }\n  }\n\n  del(src) {\n    const cap = this.rules.inline.del.exec(src);\n    if (cap) {\n      return {\n        type: 'del',\n        raw: cap[0],\n        text: cap[2],\n        tokens: this.lexer.inlineTokens(cap[2])\n      };\n    }\n  }\n\n  autolink(src, mangle) {\n    const cap = this.rules.inline.autolink.exec(src);\n    if (cap) {\n      let text, href;\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [\n          {\n            type: 'text',\n            raw: text,\n            text\n          }\n        ]\n      };\n    }\n  }\n\n  url(src, mangle) {\n    let cap;\n    if (cap = this.rules.inline.url.exec(src)) {\n      let text, href;\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        let prevCapZero;\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + cap[0];\n        } else {\n          href = cap[0];\n        }\n      }\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [\n          {\n            type: 'text',\n            raw: text,\n            text\n          }\n        ]\n      };\n    }\n  }\n\n  inlineText(src, smartypants) {\n    const cap = this.rules.inline.text.exec(src);\n    if (cap) {\n      let text;\n      if (this.lexer.state.inRawBlock) {\n        text = this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0])) : cap[0];\n      } else {\n        text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n      }\n      return {\n        type: 'text',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n}\n\n/**\n * Block-Level Grammar\n */\nconst block = {\n  newline: /^(?: *(?:\\n|$))+/,\n  code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n  fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,\n  hr: /^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (6)\n    + '|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) open tag\n    + '|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *(?:\\n *)?([^<\\s][^\\s]*|<.*?>)(?:(?: +(?:\\n *)?| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noopTest,\n  lheading: /^((?:.|\\n(?!\\n))+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  // regex template, placeholders will be replaced according to different paragraph\n  // interruption rules of commonmark and the original markdown spec:\n  _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\.|[^\\[\\]\\\\])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\nblock.listItemStart = edit(/^( *)(bull) */)\n  .replace('bull', block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block._paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('|table', '')\n  .replace('blockquote', ' {0,3}>')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  table: '^ *([^\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' {0,3}(?:\\\\| *)?(:?-+:? *(?:\\\\| *:?-+:? *)*)(?:\\\\| *)?' // Align\n    + '(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n});\n\nblock.gfm.table = edit(block.gfm.table)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('blockquote', ' {0,3}>')\n  .replace('code', ' {4}[^\\\\n]')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n  .replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.gfm.paragraph = edit(block._paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('table', block.gfm.table) // interrupt paragraphs with table\n  .replace('blockquote', ' {0,3}>')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n  heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n  fences: noopTest, // fences not supported\n  lheading: /^(.+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  paragraph: edit(block.normal._paragraph)\n    .replace('hr', block.hr)\n    .replace('heading', ' *#{1,6} *[^\\n]')\n    .replace('lheading', block.lheading)\n    .replace('blockquote', ' {0,3}>')\n    .replace('|fences', '')\n    .replace('|list', '')\n    .replace('|html', '')\n    .getRegex()\n});\n\n/**\n * Inline-Level Grammar\n */\nconst inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noopTest,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(ref)\\]/,\n  nolink: /^!?\\[(ref)\\](?:\\[\\])?/,\n  reflinkSearch: 'reflink|nolink(?!\\\\()',\n  emStrong: {\n    lDelim: /^(?:\\*+(?:([punct_])|[^\\s*]))|^_+(?:([punct*])|([^\\s_]))/,\n    //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.\n    //          () Skip orphan inside strong                                      () Consume to delim     (1) #***                (2) a***#, a***                             (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a\n    rDelimAst: /^(?:[^_*\\\\]|\\\\.)*?\\_\\_(?:[^_*\\\\]|\\\\.)*?\\*(?:[^_*\\\\]|\\\\.)*?(?=\\_\\_)|(?:[^*\\\\]|\\\\.)+(?=[^*])|[punct_](\\*+)(?=[\\s]|$)|(?:[^punct*_\\s\\\\]|\\\\.)(\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct*_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|(?:[^punct*_\\s\\\\]|\\\\.)(\\*+)(?=[^punct*_\\s])/,\n    rDelimUnd: /^(?:[^_*\\\\]|\\\\.)*?\\*\\*(?:[^_*\\\\]|\\\\.)*?\\_(?:[^_*\\\\]|\\\\.)*?(?=\\*\\*)|(?:[^_\\\\]|\\\\.)+(?=[^_])|[punct*](\\_+)(?=[\\s]|$)|(?:[^punct*_\\s\\\\]|\\\\.)(\\_+)(?=[punct*\\s]|$)|[punct*\\s](\\_+)(?=[^punct*_\\s])|[\\s](\\_+)(?=[punct*])|[punct*](\\_+)(?=[punct*])/ // ^- Not allowed for _\n  },\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noopTest,\n  text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n  punctuation: /^([\\spunctuation])/\n};\n\n// list of punctuation marks from CommonMark spec\n// without * and _ to handle the different emphasis markers * and _\ninline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\ninline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex();\n\n// sequences em should skip over [title](link), `code`, <html>\ninline.blockSkip = /\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>/g;\n// lookbehind is not available on Safari as of version 16\n// inline.escapedEmSt = /(?<=(?:^|[^\\\\)(?:\\\\[^])*)\\\\[*_]/g;\ninline.escapedEmSt = /(?:^|[^\\\\])(?:\\\\\\\\)*\\\\[*_]/g;\n\ninline._comment = edit(block._comment).replace('(?:-->|$)', '-->').getRegex();\n\ninline.emStrong.lDelim = edit(inline.emStrong.lDelim)\n  .replace(/punct/g, inline._punctuation)\n  .getRegex();\n\ninline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, 'g')\n  .replace(/punct/g, inline._punctuation)\n  .getRegex();\n\ninline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, 'g')\n  .replace(/punct/g, inline._punctuation)\n  .getRegex();\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', inline._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .replace('ref', block._label)\n  .getRegex();\n\ninline.nolink = edit(inline.nolink)\n  .replace('ref', block._label)\n  .getRegex();\n\ninline.reflinkSearch = edit(inline.reflinkSearch, 'g')\n  .replace('reflink', inline.reflink)\n  .replace('nolink', inline.nolink)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: {\n    start: /^__|\\*\\*/,\n    middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n    endAst: /\\*\\*(?!\\*)/g,\n    endUnd: /__(?!_)/g\n  },\n  em: {\n    start: /^_|\\*/,\n    middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n    endAst: /\\*(?!\\*)/g,\n    endUnd: /_(?!_)/g\n  },\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_'\"~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'\"~)]+(?!$))+/,\n  del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n  text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/\n});\n\ninline.gfm.url = edit(inline.gfm.url, 'i')\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text)\n    .replace('\\\\b_', '\\\\b_| {2,}\\\\n')\n    .replace(/\\{2,\\}/g, '*')\n    .getRegex()\n});\n\n/**\n * smartypants text replacement\n * @param {string} text\n */\nfunction smartypants(text) {\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n}\n\n/**\n * mangle email addresses\n * @param {string} text\n */\nfunction mangle(text) {\n  let out = '',\n    i,\n    ch;\n\n  const l = text.length;\n  for (i = 0; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n}\n\n/**\n * Block Lexer\n */\nclass Lexer {\n  constructor(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || defaults;\n    this.options.tokenizer = this.options.tokenizer || new Tokenizer();\n    this.tokenizer = this.options.tokenizer;\n    this.tokenizer.options = this.options;\n    this.tokenizer.lexer = this;\n    this.inlineQueue = [];\n    this.state = {\n      inLink: false,\n      inRawBlock: false,\n      top: true\n    };\n\n    const rules = {\n      block: block.normal,\n      inline: inline.normal\n    };\n\n    if (this.options.pedantic) {\n      rules.block = block.pedantic;\n      rules.inline = inline.pedantic;\n    } else if (this.options.gfm) {\n      rules.block = block.gfm;\n      if (this.options.breaks) {\n        rules.inline = inline.breaks;\n      } else {\n        rules.inline = inline.gfm;\n      }\n    }\n    this.tokenizer.rules = rules;\n  }\n\n  /**\n   * Expose Rules\n   */\n  static get rules() {\n    return {\n      block,\n      inline\n    };\n  }\n\n  /**\n   * Static Lex Method\n   */\n  static lex(src, options) {\n    const lexer = new Lexer(options);\n    return lexer.lex(src);\n  }\n\n  /**\n   * Static Lex Inline Method\n   */\n  static lexInline(src, options) {\n    const lexer = new Lexer(options);\n    return lexer.inlineTokens(src);\n  }\n\n  /**\n   * Preprocessing\n   */\n  lex(src) {\n    src = src\n      .replace(/\\r\\n|\\r/g, '\\n');\n\n    this.blockTokens(src, this.tokens);\n\n    let next;\n    while (next = this.inlineQueue.shift()) {\n      this.inlineTokens(next.src, next.tokens);\n    }\n\n    return this.tokens;\n  }\n\n  /**\n   * Lexing\n   */\n  blockTokens(src, tokens = []) {\n    if (this.options.pedantic) {\n      src = src.replace(/\\t/g, '    ').replace(/^ +$/gm, '');\n    } else {\n      src = src.replace(/^( *)(\\t+)/gm, (_, leading, tabs) => {\n        return leading + '    '.repeat(tabs.length);\n      });\n    }\n\n    let token, lastToken, cutSrc, lastParagraphClipped;\n\n    while (src) {\n      if (this.options.extensions\n        && this.options.extensions.block\n        && this.options.extensions.block.some((extTokenizer) => {\n          if (token = extTokenizer.call({ lexer: this }, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n          return false;\n        })) {\n        continue;\n      }\n\n      // newline\n      if (token = this.tokenizer.space(src)) {\n        src = src.substring(token.raw.length);\n        if (token.raw.length === 1 && tokens.length > 0) {\n          // if there's a single \\n as a spacer, it's terminating the last line,\n          // so move it there so that we don't get unecessary paragraph tags\n          tokens[tokens.length - 1].raw += '\\n';\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // code\n      if (token = this.tokenizer.code(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        // An indented code block cannot interrupt a paragraph.\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // fences\n      if (token = this.tokenizer.fences(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // heading\n      if (token = this.tokenizer.heading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // hr\n      if (token = this.tokenizer.hr(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // blockquote\n      if (token = this.tokenizer.blockquote(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // list\n      if (token = this.tokenizer.list(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // html\n      if (token = this.tokenizer.html(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // def\n      if (token = this.tokenizer.def(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.raw;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else if (!this.tokens.links[token.tag]) {\n          this.tokens.links[token.tag] = {\n            href: token.href,\n            title: token.title\n          };\n        }\n        continue;\n      }\n\n      // table (gfm)\n      if (token = this.tokenizer.table(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // lheading\n      if (token = this.tokenizer.lheading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // top-level paragraph\n      // prevent paragraph consuming extensions by clipping 'src' to extension start\n      cutSrc = src;\n      if (this.options.extensions && this.options.extensions.startBlock) {\n        let startIndex = Infinity;\n        const tempSrc = src.slice(1);\n        let tempStart;\n        this.options.extensions.startBlock.forEach(function(getStartIndex) {\n          tempStart = getStartIndex.call({ lexer: this }, tempSrc);\n          if (typeof tempStart === 'number' && tempStart >= 0) { startIndex = Math.min(startIndex, tempStart); }\n        });\n        if (startIndex < Infinity && startIndex >= 0) {\n          cutSrc = src.substring(0, startIndex + 1);\n        }\n      }\n      if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {\n        lastToken = tokens[tokens.length - 1];\n        if (lastParagraphClipped && lastToken.type === 'paragraph') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n        lastParagraphClipped = (cutSrc.length !== src.length);\n        src = src.substring(token.raw.length);\n        continue;\n      }\n\n      // text\n      if (token = this.tokenizer.text(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    this.state.top = true;\n    return tokens;\n  }\n\n  inline(src, tokens = []) {\n    this.inlineQueue.push({ src, tokens });\n    return tokens;\n  }\n\n  /**\n   * Lexing/Compiling\n   */\n  inlineTokens(src, tokens = []) {\n    let token, lastToken, cutSrc;\n\n    // String with links masked to avoid interference with em and strong\n    let maskedSrc = src;\n    let match;\n    let keepPrevChar, prevChar;\n\n    // Mask out reflinks\n    if (this.tokens.links) {\n      const links = Object.keys(this.tokens.links);\n      if (links.length > 0) {\n        while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n          if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n            maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n          }\n        }\n      }\n    }\n    // Mask out other blocks\n    while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n    }\n\n    // Mask out escaped em & strong delimiters\n    while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index + match[0].length - 2) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);\n      this.tokenizer.rules.inline.escapedEmSt.lastIndex--;\n    }\n\n    while (src) {\n      if (!keepPrevChar) {\n        prevChar = '';\n      }\n      keepPrevChar = false;\n\n      // extensions\n      if (this.options.extensions\n        && this.options.extensions.inline\n        && this.options.extensions.inline.some((extTokenizer) => {\n          if (token = extTokenizer.call({ lexer: this }, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n          return false;\n        })) {\n        continue;\n      }\n\n      // escape\n      if (token = this.tokenizer.escape(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // tag\n      if (token = this.tokenizer.tag(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // link\n      if (token = this.tokenizer.link(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // reflink, nolink\n      if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // em & strong\n      if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // code\n      if (token = this.tokenizer.codespan(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // br\n      if (token = this.tokenizer.br(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // del (gfm)\n      if (token = this.tokenizer.del(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // autolink\n      if (token = this.tokenizer.autolink(src, mangle)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // url (gfm)\n      if (!this.state.inLink && (token = this.tokenizer.url(src, mangle))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // text\n      // prevent inlineText consuming extensions by clipping 'src' to extension start\n      cutSrc = src;\n      if (this.options.extensions && this.options.extensions.startInline) {\n        let startIndex = Infinity;\n        const tempSrc = src.slice(1);\n        let tempStart;\n        this.options.extensions.startInline.forEach(function(getStartIndex) {\n          tempStart = getStartIndex.call({ lexer: this }, tempSrc);\n          if (typeof tempStart === 'number' && tempStart >= 0) { startIndex = Math.min(startIndex, tempStart); }\n        });\n        if (startIndex < Infinity && startIndex >= 0) {\n          cutSrc = src.substring(0, startIndex + 1);\n        }\n      }\n      if (token = this.tokenizer.inlineText(cutSrc, smartypants)) {\n        src = src.substring(token.raw.length);\n        if (token.raw.slice(-1) !== '_') { // Track prevChar before string of ____ started\n          prevChar = token.raw.slice(-1);\n        }\n        keepPrevChar = true;\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  }\n}\n\n/**\n * Renderer\n */\nclass Renderer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  code(code, infostring, escaped) {\n    const lang = (infostring || '').match(/\\S*/)[0];\n    if (this.options.highlight) {\n      const out = this.options.highlight(code, lang);\n      if (out != null && out !== code) {\n        escaped = true;\n        code = out;\n      }\n    }\n\n    code = code.replace(/\\n$/, '') + '\\n';\n\n    if (!lang) {\n      return '<pre><code>'\n        + (escaped ? code : escape(code, true))\n        + '</code></pre>\\n';\n    }\n\n    return '<pre><code class=\"'\n      + this.options.langPrefix\n      + escape(lang)\n      + '\">'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>\\n';\n  }\n\n  /**\n   * @param {string} quote\n   */\n  blockquote(quote) {\n    return `<blockquote>\\n${quote}</blockquote>\\n`;\n  }\n\n  html(html) {\n    return html;\n  }\n\n  /**\n   * @param {string} text\n   * @param {string} level\n   * @param {string} raw\n   * @param {any} slugger\n   */\n  heading(text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      const id = this.options.headerPrefix + slugger.slug(raw);\n      return `<h${level} id=\"${id}\">${text}</h${level}>\\n`;\n    }\n\n    // ignore IDs\n    return `<h${level}>${text}</h${level}>\\n`;\n  }\n\n  hr() {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  }\n\n  list(body, ordered, start) {\n    const type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  }\n\n  /**\n   * @param {string} text\n   */\n  listitem(text) {\n    return `<li>${text}</li>\\n`;\n  }\n\n  checkbox(checked) {\n    return '<input '\n      + (checked ? 'checked=\"\" ' : '')\n      + 'disabled=\"\" type=\"checkbox\"'\n      + (this.options.xhtml ? ' /' : '')\n      + '> ';\n  }\n\n  /**\n   * @param {string} text\n   */\n  paragraph(text) {\n    return `<p>${text}</p>\\n`;\n  }\n\n  /**\n   * @param {string} header\n   * @param {string} body\n   */\n  table(header, body) {\n    if (body) body = `<tbody>${body}</tbody>`;\n\n    return '<table>\\n'\n      + '<thead>\\n'\n      + header\n      + '</thead>\\n'\n      + body\n      + '</table>\\n';\n  }\n\n  /**\n   * @param {string} content\n   */\n  tablerow(content) {\n    return `<tr>\\n${content}</tr>\\n`;\n  }\n\n  tablecell(content, flags) {\n    const type = flags.header ? 'th' : 'td';\n    const tag = flags.align\n      ? `<${type} align=\"${flags.align}\">`\n      : `<${type}>`;\n    return tag + content + `</${type}>\\n`;\n  }\n\n  /**\n   * span level renderer\n   * @param {string} text\n   */\n  strong(text) {\n    return `<strong>${text}</strong>`;\n  }\n\n  /**\n   * @param {string} text\n   */\n  em(text) {\n    return `<em>${text}</em>`;\n  }\n\n  /**\n   * @param {string} text\n   */\n  codespan(text) {\n    return `<code>${text}</code>`;\n  }\n\n  br() {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  }\n\n  /**\n   * @param {string} text\n   */\n  del(text) {\n    return `<del>${text}</del>`;\n  }\n\n  /**\n   * @param {string} href\n   * @param {string} title\n   * @param {string} text\n   */\n  link(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n    let out = '<a href=\"' + href + '\"';\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n    out += '>' + text + '</a>';\n    return out;\n  }\n\n  /**\n   * @param {string} href\n   * @param {string} title\n   * @param {string} text\n   */\n  image(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n\n    let out = `<img src=\"${href}\" alt=\"${text}\"`;\n    if (title) {\n      out += ` title=\"${title}\"`;\n    }\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  }\n\n  text(text) {\n    return text;\n  }\n}\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\nclass TextRenderer {\n  // no need for block level renderers\n  strong(text) {\n    return text;\n  }\n\n  em(text) {\n    return text;\n  }\n\n  codespan(text) {\n    return text;\n  }\n\n  del(text) {\n    return text;\n  }\n\n  html(text) {\n    return text;\n  }\n\n  text(text) {\n    return text;\n  }\n\n  link(href, title, text) {\n    return '' + text;\n  }\n\n  image(href, title, text) {\n    return '' + text;\n  }\n\n  br() {\n    return '';\n  }\n}\n\n/**\n * Slugger generates header id\n */\nclass Slugger {\n  constructor() {\n    this.seen = {};\n  }\n\n  /**\n   * @param {string} value\n   */\n  serialize(value) {\n    return value\n      .toLowerCase()\n      .trim()\n      // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '')\n      // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n      .replace(/\\s/g, '-');\n  }\n\n  /**\n   * Finds the next safe (unique) slug to use\n   * @param {string} originalSlug\n   * @param {boolean} isDryRun\n   */\n  getNextSafeSlug(originalSlug, isDryRun) {\n    let slug = originalSlug;\n    let occurenceAccumulator = 0;\n    if (this.seen.hasOwnProperty(slug)) {\n      occurenceAccumulator = this.seen[originalSlug];\n      do {\n        occurenceAccumulator++;\n        slug = originalSlug + '-' + occurenceAccumulator;\n      } while (this.seen.hasOwnProperty(slug));\n    }\n    if (!isDryRun) {\n      this.seen[originalSlug] = occurenceAccumulator;\n      this.seen[slug] = 0;\n    }\n    return slug;\n  }\n\n  /**\n   * Convert string to unique id\n   * @param {object} [options]\n   * @param {boolean} [options.dryrun] Generates the next unique slug without\n   * updating the internal accumulator.\n   */\n  slug(value, options = {}) {\n    const slug = this.serialize(value);\n    return this.getNextSafeSlug(slug, options.dryrun);\n  }\n}\n\n/**\n * Parsing & Compiling\n */\nclass Parser {\n  constructor(options) {\n    this.options = options || defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.textRenderer = new TextRenderer();\n    this.slugger = new Slugger();\n  }\n\n  /**\n   * Static Parse Method\n   */\n  static parse(tokens, options) {\n    const parser = new Parser(options);\n    return parser.parse(tokens);\n  }\n\n  /**\n   * Static Parse Inline Method\n   */\n  static parseInline(tokens, options) {\n    const parser = new Parser(options);\n    return parser.parseInline(tokens);\n  }\n\n  /**\n   * Parse Loop\n   */\n  parse(tokens, top = true) {\n    let out = '',\n      i,\n      j,\n      k,\n      l2,\n      l3,\n      row,\n      cell,\n      header,\n      body,\n      token,\n      ordered,\n      start,\n      loose,\n      itemBody,\n      item,\n      checked,\n      task,\n      checkbox,\n      ret;\n\n    const l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      // Run any renderer extensions\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);\n        if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n\n      switch (token.type) {\n        case 'space': {\n          continue;\n        }\n        case 'hr': {\n          out += this.renderer.hr();\n          continue;\n        }\n        case 'heading': {\n          out += this.renderer.heading(\n            this.parseInline(token.tokens),\n            token.depth,\n            unescape(this.parseInline(token.tokens, this.textRenderer)),\n            this.slugger);\n          continue;\n        }\n        case 'code': {\n          out += this.renderer.code(token.text,\n            token.lang,\n            token.escaped);\n          continue;\n        }\n        case 'table': {\n          header = '';\n\n          // header\n          cell = '';\n          l2 = token.header.length;\n          for (j = 0; j < l2; j++) {\n            cell += this.renderer.tablecell(\n              this.parseInline(token.header[j].tokens),\n              { header: true, align: token.align[j] }\n            );\n          }\n          header += this.renderer.tablerow(cell);\n\n          body = '';\n          l2 = token.rows.length;\n          for (j = 0; j < l2; j++) {\n            row = token.rows[j];\n\n            cell = '';\n            l3 = row.length;\n            for (k = 0; k < l3; k++) {\n              cell += this.renderer.tablecell(\n                this.parseInline(row[k].tokens),\n                { header: false, align: token.align[k] }\n              );\n            }\n\n            body += this.renderer.tablerow(cell);\n          }\n          out += this.renderer.table(header, body);\n          continue;\n        }\n        case 'blockquote': {\n          body = this.parse(token.tokens);\n          out += this.renderer.blockquote(body);\n          continue;\n        }\n        case 'list': {\n          ordered = token.ordered;\n          start = token.start;\n          loose = token.loose;\n          l2 = token.items.length;\n\n          body = '';\n          for (j = 0; j < l2; j++) {\n            item = token.items[j];\n            checked = item.checked;\n            task = item.task;\n\n            itemBody = '';\n            if (item.task) {\n              checkbox = this.renderer.checkbox(checked);\n              if (loose) {\n                if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {\n                  item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n                  if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                    item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                  }\n                } else {\n                  item.tokens.unshift({\n                    type: 'text',\n                    text: checkbox\n                  });\n                }\n              } else {\n                itemBody += checkbox;\n              }\n            }\n\n            itemBody += this.parse(item.tokens, loose);\n            body += this.renderer.listitem(itemBody, task, checked);\n          }\n\n          out += this.renderer.list(body, ordered, start);\n          continue;\n        }\n        case 'html': {\n          // TODO parse inline content if parameter markdown=1\n          out += this.renderer.html(token.text);\n          continue;\n        }\n        case 'paragraph': {\n          out += this.renderer.paragraph(this.parseInline(token.tokens));\n          continue;\n        }\n        case 'text': {\n          body = token.tokens ? this.parseInline(token.tokens) : token.text;\n          while (i + 1 < l && tokens[i + 1].type === 'text') {\n            token = tokens[++i];\n            body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n          }\n          out += top ? this.renderer.paragraph(body) : body;\n          continue;\n        }\n\n        default: {\n          const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n          if (this.options.silent) {\n            console.error(errMsg);\n            return;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n    }\n\n    return out;\n  }\n\n  /**\n   * Parse Inline Tokens\n   */\n  parseInline(tokens, renderer) {\n    renderer = renderer || this.renderer;\n    let out = '',\n      i,\n      token,\n      ret;\n\n    const l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      // Run any renderer extensions\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);\n        if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n\n      switch (token.type) {\n        case 'escape': {\n          out += renderer.text(token.text);\n          break;\n        }\n        case 'html': {\n          out += renderer.html(token.text);\n          break;\n        }\n        case 'link': {\n          out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'image': {\n          out += renderer.image(token.href, token.title, token.text);\n          break;\n        }\n        case 'strong': {\n          out += renderer.strong(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'em': {\n          out += renderer.em(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'codespan': {\n          out += renderer.codespan(token.text);\n          break;\n        }\n        case 'br': {\n          out += renderer.br();\n          break;\n        }\n        case 'del': {\n          out += renderer.del(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'text': {\n          out += renderer.text(token.text);\n          break;\n        }\n        default: {\n          const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n          if (this.options.silent) {\n            console.error(errMsg);\n            return;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n    }\n    return out;\n  }\n}\n\n/**\n * Marked\n */\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (typeof opt === 'function') {\n    callback = opt;\n    opt = null;\n  }\n\n  opt = merge({}, marked.defaults, opt || {});\n  checkSanitizeDeprecation(opt);\n\n  if (callback) {\n    const highlight = opt.highlight;\n    let tokens;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    const done = function(err) {\n      let out;\n\n      if (!err) {\n        try {\n          if (opt.walkTokens) {\n            marked.walkTokens(tokens, opt.walkTokens);\n          }\n          out = Parser.parse(tokens, opt);\n        } catch (e) {\n          err = e;\n        }\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!tokens.length) return done();\n\n    let pending = 0;\n    marked.walkTokens(tokens, function(token) {\n      if (token.type === 'code') {\n        pending++;\n        setTimeout(() => {\n          highlight(token.text, token.lang, function(err, code) {\n            if (err) {\n              return done(err);\n            }\n            if (code != null && code !== token.text) {\n              token.text = code;\n              token.escaped = true;\n            }\n\n            pending--;\n            if (pending === 0) {\n              done();\n            }\n          });\n        }, 0);\n      }\n    });\n\n    if (pending === 0) {\n      done();\n    }\n\n    return;\n  }\n\n  function onError(e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n\n  try {\n    const tokens = Lexer.lex(src, opt);\n    if (opt.walkTokens) {\n      if (opt.async) {\n        return Promise.all(marked.walkTokens(tokens, opt.walkTokens))\n          .then(() => {\n            return Parser.parse(tokens, opt);\n          })\n          .catch(onError);\n      }\n      marked.walkTokens(tokens, opt.walkTokens);\n    }\n    return Parser.parse(tokens, opt);\n  } catch (e) {\n    onError(e);\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  changeDefaults(marked.defaults);\n  return marked;\n};\n\nmarked.getDefaults = getDefaults;\n\nmarked.defaults = defaults;\n\n/**\n * Use Extension\n */\n\nmarked.use = function(...args) {\n  const extensions = marked.defaults.extensions || { renderers: {}, childTokens: {} };\n\n  args.forEach((pack) => {\n    // copy options to new object\n    const opts = merge({}, pack);\n\n    // set async to true if it was set to true before\n    opts.async = marked.defaults.async || opts.async;\n\n    // ==-- Parse \"addon\" extensions --== //\n    if (pack.extensions) {\n      pack.extensions.forEach((ext) => {\n        if (!ext.name) {\n          throw new Error('extension name required');\n        }\n        if (ext.renderer) { // Renderer extensions\n          const prevRenderer = extensions.renderers[ext.name];\n          if (prevRenderer) {\n            // Replace extension with func to run new extension but fall back if false\n            extensions.renderers[ext.name] = function(...args) {\n              let ret = ext.renderer.apply(this, args);\n              if (ret === false) {\n                ret = prevRenderer.apply(this, args);\n              }\n              return ret;\n            };\n          } else {\n            extensions.renderers[ext.name] = ext.renderer;\n          }\n        }\n        if (ext.tokenizer) { // Tokenizer Extensions\n          if (!ext.level || (ext.level !== 'block' && ext.level !== 'inline')) {\n            throw new Error(\"extension level must be 'block' or 'inline'\");\n          }\n          if (extensions[ext.level]) {\n            extensions[ext.level].unshift(ext.tokenizer);\n          } else {\n            extensions[ext.level] = [ext.tokenizer];\n          }\n          if (ext.start) { // Function to check for start of token\n            if (ext.level === 'block') {\n              if (extensions.startBlock) {\n                extensions.startBlock.push(ext.start);\n              } else {\n                extensions.startBlock = [ext.start];\n              }\n            } else if (ext.level === 'inline') {\n              if (extensions.startInline) {\n                extensions.startInline.push(ext.start);\n              } else {\n                extensions.startInline = [ext.start];\n              }\n            }\n          }\n        }\n        if (ext.childTokens) { // Child tokens to be visited by walkTokens\n          extensions.childTokens[ext.name] = ext.childTokens;\n        }\n      });\n      opts.extensions = extensions;\n    }\n\n    // ==-- Parse \"overwrite\" extensions --== //\n    if (pack.renderer) {\n      const renderer = marked.defaults.renderer || new Renderer();\n      for (const prop in pack.renderer) {\n        const prevRenderer = renderer[prop];\n        // Replace renderer with func to run extension, but fall back if false\n        renderer[prop] = (...args) => {\n          let ret = pack.renderer[prop].apply(renderer, args);\n          if (ret === false) {\n            ret = prevRenderer.apply(renderer, args);\n          }\n          return ret;\n        };\n      }\n      opts.renderer = renderer;\n    }\n    if (pack.tokenizer) {\n      const tokenizer = marked.defaults.tokenizer || new Tokenizer();\n      for (const prop in pack.tokenizer) {\n        const prevTokenizer = tokenizer[prop];\n        // Replace tokenizer with func to run extension, but fall back if false\n        tokenizer[prop] = (...args) => {\n          let ret = pack.tokenizer[prop].apply(tokenizer, args);\n          if (ret === false) {\n            ret = prevTokenizer.apply(tokenizer, args);\n          }\n          return ret;\n        };\n      }\n      opts.tokenizer = tokenizer;\n    }\n\n    // ==-- Parse WalkTokens extensions --== //\n    if (pack.walkTokens) {\n      const walkTokens = marked.defaults.walkTokens;\n      opts.walkTokens = function(token) {\n        let values = [];\n        values.push(pack.walkTokens.call(this, token));\n        if (walkTokens) {\n          values = values.concat(walkTokens.call(this, token));\n        }\n        return values;\n      };\n    }\n\n    marked.setOptions(opts);\n  });\n};\n\n/**\n * Run callback for every token\n */\n\nmarked.walkTokens = function(tokens, callback) {\n  let values = [];\n  for (const token of tokens) {\n    values = values.concat(callback.call(marked, token));\n    switch (token.type) {\n      case 'table': {\n        for (const cell of token.header) {\n          values = values.concat(marked.walkTokens(cell.tokens, callback));\n        }\n        for (const row of token.rows) {\n          for (const cell of row) {\n            values = values.concat(marked.walkTokens(cell.tokens, callback));\n          }\n        }\n        break;\n      }\n      case 'list': {\n        values = values.concat(marked.walkTokens(token.items, callback));\n        break;\n      }\n      default: {\n        if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) { // Walk any extensions\n          marked.defaults.extensions.childTokens[token.type].forEach(function(childTokens) {\n            values = values.concat(marked.walkTokens(token[childTokens], callback));\n          });\n        } else if (token.tokens) {\n          values = values.concat(marked.walkTokens(token.tokens, callback));\n        }\n      }\n    }\n  }\n  return values;\n};\n\n/**\n * Parse Inline\n * @param {string} src\n */\nmarked.parseInline = function(src, opt) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked.parseInline(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked.parseInline(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  opt = merge({}, marked.defaults, opt || {});\n  checkSanitizeDeprecation(opt);\n\n  try {\n    const tokens = Lexer.lexInline(src, opt);\n    if (opt.walkTokens) {\n      marked.walkTokens(tokens, opt.walkTokens);\n    }\n    return Parser.parseInline(tokens, opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if (opt.silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n};\n\n/**\n * Expose\n */\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\nmarked.Tokenizer = Tokenizer;\nmarked.Slugger = Slugger;\nmarked.parse = marked;\n\nconst options = marked.options;\nconst setOptions = marked.setOptions;\nconst use = marked.use;\nconst walkTokens = marked.walkTokens;\nconst parseInline = marked.parseInline;\nconst parse = marked;\nconst parser = Parser.parse;\nconst lexer = Lexer.lex;\n\nexport { Lexer, Parser, Renderer, Slugger, TextRenderer, Tokenizer, defaults, getDefaults, lexer, marked, options, parse, parseInline, parser, setOptions, use, walkTokens };\n","/** @see {@link https://github.com/vuejs/vue-class-component/blob/master/src/reflect.ts} */\nvar reflectMetadataIsSupported = typeof Reflect !== 'undefined' && typeof Reflect.getMetadata !== 'undefined';\nexport function applyMetadata(options, target, key) {\n    if (reflectMetadataIsSupported) {\n        if (!Array.isArray(options) &&\n            typeof options !== 'function' &&\n            !options.hasOwnProperty('type') &&\n            typeof options.type === 'undefined') {\n            var type = Reflect.getMetadata('design:type', target, key);\n            if (type !== Object) {\n                options.type = type;\n            }\n        }\n    }\n}\n","/**\n  * vue-class-component v7.2.6\n  * (c) 2015-present Evan You\n  * @license MIT\n  */\nimport Vue from 'vue';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\n// The rational behind the verbose Reflect-feature check below is the fact that there are polyfills\n// which add an implementation for Reflect.defineMetadata but not for Reflect.getOwnMetadataKeys.\n// Without this check consumers will encounter hard to track down runtime errors.\nfunction reflectionIsSupported() {\n  return typeof Reflect !== 'undefined' && Reflect.defineMetadata && Reflect.getOwnMetadataKeys;\n}\nfunction copyReflectionMetadata(to, from) {\n  forwardMetadata(to, from);\n  Object.getOwnPropertyNames(from.prototype).forEach(function (key) {\n    forwardMetadata(to.prototype, from.prototype, key);\n  });\n  Object.getOwnPropertyNames(from).forEach(function (key) {\n    forwardMetadata(to, from, key);\n  });\n}\n\nfunction forwardMetadata(to, from, propertyKey) {\n  var metaKeys = propertyKey ? Reflect.getOwnMetadataKeys(from, propertyKey) : Reflect.getOwnMetadataKeys(from);\n  metaKeys.forEach(function (metaKey) {\n    var metadata = propertyKey ? Reflect.getOwnMetadata(metaKey, from, propertyKey) : Reflect.getOwnMetadata(metaKey, from);\n\n    if (propertyKey) {\n      Reflect.defineMetadata(metaKey, metadata, to, propertyKey);\n    } else {\n      Reflect.defineMetadata(metaKey, metadata, to);\n    }\n  });\n}\n\nvar fakeArray = {\n  __proto__: []\n};\nvar hasProto = fakeArray instanceof Array;\nfunction createDecorator(factory) {\n  return function (target, key, index) {\n    var Ctor = typeof target === 'function' ? target : target.constructor;\n\n    if (!Ctor.__decorators__) {\n      Ctor.__decorators__ = [];\n    }\n\n    if (typeof index !== 'number') {\n      index = undefined;\n    }\n\n    Ctor.__decorators__.push(function (options) {\n      return factory(options, key, index);\n    });\n  };\n}\nfunction mixins() {\n  for (var _len = arguments.length, Ctors = new Array(_len), _key = 0; _key < _len; _key++) {\n    Ctors[_key] = arguments[_key];\n  }\n\n  return Vue.extend({\n    mixins: Ctors\n  });\n}\nfunction isPrimitive(value) {\n  var type = _typeof(value);\n\n  return value == null || type !== 'object' && type !== 'function';\n}\nfunction warn(message) {\n  if (typeof console !== 'undefined') {\n    console.warn('[vue-class-component] ' + message);\n  }\n}\n\nfunction collectDataFromConstructor(vm, Component) {\n  // override _init to prevent to init as Vue instance\n  var originalInit = Component.prototype._init;\n\n  Component.prototype._init = function () {\n    var _this = this;\n\n    // proxy to actual vm\n    var keys = Object.getOwnPropertyNames(vm); // 2.2.0 compat (props are no longer exposed as self properties)\n\n    if (vm.$options.props) {\n      for (var key in vm.$options.props) {\n        if (!vm.hasOwnProperty(key)) {\n          keys.push(key);\n        }\n      }\n    }\n\n    keys.forEach(function (key) {\n      Object.defineProperty(_this, key, {\n        get: function get() {\n          return vm[key];\n        },\n        set: function set(value) {\n          vm[key] = value;\n        },\n        configurable: true\n      });\n    });\n  }; // should be acquired class property values\n\n\n  var data = new Component(); // restore original _init to avoid memory leak (#209)\n\n  Component.prototype._init = originalInit; // create plain data object\n\n  var plainData = {};\n  Object.keys(data).forEach(function (key) {\n    if (data[key] !== undefined) {\n      plainData[key] = data[key];\n    }\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!(Component.prototype instanceof Vue) && Object.keys(plainData).length > 0) {\n      warn('Component class must inherit Vue or its descendant class ' + 'when class property is used.');\n    }\n  }\n\n  return plainData;\n}\n\nvar $internalHooks = ['data', 'beforeCreate', 'created', 'beforeMount', 'mounted', 'beforeDestroy', 'destroyed', 'beforeUpdate', 'updated', 'activated', 'deactivated', 'render', 'errorCaptured', 'serverPrefetch' // 2.6\n];\nfunction componentFactory(Component) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  options.name = options.name || Component._componentTag || Component.name; // prototype props.\n\n  var proto = Component.prototype;\n  Object.getOwnPropertyNames(proto).forEach(function (key) {\n    if (key === 'constructor') {\n      return;\n    } // hooks\n\n\n    if ($internalHooks.indexOf(key) > -1) {\n      options[key] = proto[key];\n      return;\n    }\n\n    var descriptor = Object.getOwnPropertyDescriptor(proto, key);\n\n    if (descriptor.value !== void 0) {\n      // methods\n      if (typeof descriptor.value === 'function') {\n        (options.methods || (options.methods = {}))[key] = descriptor.value;\n      } else {\n        // typescript decorated data\n        (options.mixins || (options.mixins = [])).push({\n          data: function data() {\n            return _defineProperty({}, key, descriptor.value);\n          }\n        });\n      }\n    } else if (descriptor.get || descriptor.set) {\n      // computed properties\n      (options.computed || (options.computed = {}))[key] = {\n        get: descriptor.get,\n        set: descriptor.set\n      };\n    }\n  });\n  (options.mixins || (options.mixins = [])).push({\n    data: function data() {\n      return collectDataFromConstructor(this, Component);\n    }\n  }); // decorate options\n\n  var decorators = Component.__decorators__;\n\n  if (decorators) {\n    decorators.forEach(function (fn) {\n      return fn(options);\n    });\n    delete Component.__decorators__;\n  } // find super\n\n\n  var superProto = Object.getPrototypeOf(Component.prototype);\n  var Super = superProto instanceof Vue ? superProto.constructor : Vue;\n  var Extended = Super.extend(options);\n  forwardStaticMembers(Extended, Component, Super);\n\n  if (reflectionIsSupported()) {\n    copyReflectionMetadata(Extended, Component);\n  }\n\n  return Extended;\n}\nvar reservedPropertyNames = [// Unique id\n'cid', // Super Vue constructor\n'super', // Component options that will be used by the component\n'options', 'superOptions', 'extendOptions', 'sealedOptions', // Private assets\n'component', 'directive', 'filter'];\nvar shouldIgnore = {\n  prototype: true,\n  arguments: true,\n  callee: true,\n  caller: true\n};\n\nfunction forwardStaticMembers(Extended, Original, Super) {\n  // We have to use getOwnPropertyNames since Babel registers methods as non-enumerable\n  Object.getOwnPropertyNames(Original).forEach(function (key) {\n    // Skip the properties that should not be overwritten\n    if (shouldIgnore[key]) {\n      return;\n    } // Some browsers does not allow reconfigure built-in properties\n\n\n    var extendedDescriptor = Object.getOwnPropertyDescriptor(Extended, key);\n\n    if (extendedDescriptor && !extendedDescriptor.configurable) {\n      return;\n    }\n\n    var descriptor = Object.getOwnPropertyDescriptor(Original, key); // If the user agent does not support `__proto__` or its family (IE <= 10),\n    // the sub class properties may be inherited properties from the super class in TypeScript.\n    // We need to exclude such properties to prevent to overwrite\n    // the component options object which stored on the extended constructor (See #192).\n    // If the value is a referenced value (object or function),\n    // we can check equality of them and exclude it if they have the same reference.\n    // If it is a primitive value, it will be forwarded for safety.\n\n    if (!hasProto) {\n      // Only `cid` is explicitly exluded from property forwarding\n      // because we cannot detect whether it is a inherited property or not\n      // on the no `__proto__` environment even though the property is reserved.\n      if (key === 'cid') {\n        return;\n      }\n\n      var superDescriptor = Object.getOwnPropertyDescriptor(Super, key);\n\n      if (!isPrimitive(descriptor.value) && superDescriptor && superDescriptor.value === descriptor.value) {\n        return;\n      }\n    } // Warn if the users manually declare reserved properties\n\n\n    if (process.env.NODE_ENV !== 'production' && reservedPropertyNames.indexOf(key) >= 0) {\n      warn(\"Static property name '\".concat(key, \"' declared on class '\").concat(Original.name, \"' \") + 'conflicts with reserved property name of Vue internal. ' + 'It may cause unexpected behavior of the component. Consider renaming the property.');\n    }\n\n    Object.defineProperty(Extended, key, descriptor);\n  });\n}\n\nfunction Component(options) {\n  if (typeof options === 'function') {\n    return componentFactory(options);\n  }\n\n  return function (Component) {\n    return componentFactory(Component, options);\n  };\n}\n\nComponent.registerHooks = function registerHooks(keys) {\n  $internalHooks.push.apply($internalHooks, _toConsumableArray(keys));\n};\n\nexport default Component;\nexport { createDecorator, mixins };\n","\nimport { allRecipes, fetchRecipes } from '@/vuetils/useRecipes'\nimport { marked } from 'marked'\nimport DOMPurify from 'dompurify'\nimport { Vue } from 'vue-property-decorator'\nimport Component from 'vue-class-component'\n\n@Component\nexport default class RecipeView extends Vue {\n  // eslint-disable-next-line no-undef\n  curRec: Recipe | undefined | null = null\n  curSlug: string = ''\n\n  get currentRecipe() {\n    const slug = this.$route.params.slug\n\n    if (this.curRec === null || this.curSlug !== slug) {\n      fetchRecipes()\n      const curRec = allRecipes.value.find((x) => x.slug === slug)\n\n      this.curSlug = slug\n      this.curRec = curRec\n    }\n\n    // eslint-disable-next-line no-undef\n    return this.curRec as Recipe\n  }\n\n  get HtmlBody(): string {\n    const dirtyHtml = marked(this.currentRecipe.details)\n    console.log(dirtyHtml)\n    return DOMPurify.sanitize(dirtyHtml).replace(/(?:\\r\\n|\\r|\\n|\\t)/g, '')\n  }\n}\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RecipeView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RecipeView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RecipeView.vue?vue&type=template&id=217d7226&scoped=true&\"\nimport script from \"./RecipeView.vue?vue&type=script&lang=ts&\"\nexport * from \"./RecipeView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"217d7226\",\n  null\n  \n)\n\nexport default component.exports","import './_grid.sass'\n\nimport Grid from './grid'\n\nexport default Grid('layout')\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"grid-list-xl\":\"\"}},[_c('v-layout',{staticClass:\"mt-4 pt-2\",attrs:{\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-layout',{staticClass:\"mt-4 pt-2\",attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.allRecipes),function(recipe){return _c('RecipePreview',{key:recipe.id,attrs:{\"id\":recipe.id,\"title\":recipe.title,\"slug\":recipe.slug,\"subtitle\":recipe.created_at,\"thumbnailImage\":// use default image if one happens to not exist\n          recipe.thumbnail_url ||\n          'https://cdn.pixabay.com/photo/2016/06/29/16/29/cartoon-1487217_1280.png'}})}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import './_grid.sass'\n\nimport Grid from './grid'\n\nexport default Grid('flex')\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\",\"lg4\":\"\",\"xl4\":\"\"}},[_c('v-card',{attrs:{\"to\":'/recipes/' + _vm.slug,\"hover\":\"\"}},[_c('v-img',{attrs:{\"src\":_vm.thumbnailImage,\"aspect-ratio\":\"2.75\",\"height\":\"230\",\"alt\":_vm.title}}),_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('div',[_c('h3',{staticClass:\"headline mb-0\"},[_vm._v(_vm._s(_vm.title))])])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nexport default {\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    subtitle: {\n      type: String,\n      required: true\n    },\n    thumbnailImage: {\n      type: String,\n      required: true\n    },\n    id: {\n      type: Number,\n      required: true\n    },\n    slug: {\n      type: String,\n      required: true\n    }\n  }\n}\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RecipePreview.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RecipePreview.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RecipePreview.vue?vue&type=template&id=776d8006&scoped=true&\"\nimport script from \"./RecipePreview.vue?vue&type=script&lang=ts&\"\nexport * from \"./RecipePreview.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"776d8006\",\n  null\n  \n)\n\nexport default component.exports","\nimport { allRecipes, fetchRecipes } from '@/vuetils/useRecipes'\nimport RecipePreview from '../components/RecipePreview.vue'\n\nexport default {\n  setup() {\n    fetchRecipes()\n\n    return { allRecipes }\n  },\n\n  components: {\n    RecipePreview\n  }\n}\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RecipesView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RecipesView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RecipesView.vue?vue&type=template&id=4f52c596&scoped=true&\"\nimport script from \"./RecipesView.vue?vue&type=script&lang=ts&\"\nexport * from \"./RecipesView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f52c596\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"about\"},[_c('v-spacer'),_c('h1',{staticClass:\"font-weight-light\"},[_vm._v(\"Under construction\")]),_c('v-img',{attrs:{\"height\":\"250\",\"contain\":\"true\",\"src\":\"https://64.media.tumblr.com/f0da7c50d726e64c6c0d8a985240b6f4/dfbbb68a95adf2d4-ce/s250x400/afe73dd5883647200c53408018ed3be99b567b80.gif\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./TagsView.vue?vue&type=template&id=21820af1&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => __awaiter(void 0, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\n//# sourceMappingURL=helper.js.map","export class FunctionsError extends Error {\n    constructor(message, name = 'FunctionsError', context) {\n        super(message);\n        super.name = name;\n        this.context = context;\n    }\n}\nexport class FunctionsFetchError extends FunctionsError {\n    constructor(context) {\n        super('Failed to send a request to the Edge Function', 'FunctionsFetchError', context);\n    }\n}\nexport class FunctionsRelayError extends FunctionsError {\n    constructor(context) {\n        super('Relay Error invoking the Edge Function', 'FunctionsRelayError', context);\n    }\n}\nexport class FunctionsHttpError extends FunctionsError {\n    constructor(context) {\n        super('Edge Function returned a non-2xx status code', 'FunctionsHttpError', context);\n    }\n}\n//# sourceMappingURL=types.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { resolveFetch } from './helper';\nimport { FunctionsFetchError, FunctionsHttpError, FunctionsRelayError, } from './types';\nexport class FunctionsClient {\n    constructor(url, { headers = {}, customFetch, } = {}) {\n        this.url = url;\n        this.headers = headers;\n        this.fetch = resolveFetch(customFetch);\n    }\n    /**\n     * Updates the authorization header\n     * @param token - the new jwt token sent in the authorisation header\n     */\n    setAuth(token) {\n        this.headers.Authorization = `Bearer ${token}`;\n    }\n    /**\n     * Invokes a function\n     * @param functionName - the name of the function to invoke\n     */\n    invoke(functionName, invokeOptions = {}) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { headers, body: functionArgs } = invokeOptions;\n                let _headers = {};\n                let body;\n                if (functionArgs &&\n                    ((headers && !Object.prototype.hasOwnProperty.call(headers, 'Content-Type')) || !headers)) {\n                    if ((typeof Blob !== 'undefined' && functionArgs instanceof Blob) ||\n                        functionArgs instanceof ArrayBuffer) {\n                        // will work for File as File inherits Blob\n                        // also works for ArrayBuffer as it is the same underlying structure as a Blob\n                        _headers['Content-Type'] = 'application/octet-stream';\n                        body = functionArgs;\n                    }\n                    else if (typeof functionArgs === 'string') {\n                        // plain string\n                        _headers['Content-Type'] = 'text/plain';\n                        body = functionArgs;\n                    }\n                    else if (typeof FormData !== 'undefined' && functionArgs instanceof FormData) {\n                        // don't set content-type headers\n                        // Request will automatically add the right boundary value\n                        body = functionArgs;\n                    }\n                    else {\n                        // default, assume this is JSON\n                        _headers['Content-Type'] = 'application/json';\n                        body = JSON.stringify(functionArgs);\n                    }\n                }\n                const response = yield this.fetch(`${this.url}/${functionName}`, {\n                    method: 'POST',\n                    // headers priority is (high to low):\n                    // 1. invoke-level headers\n                    // 2. client-level headers\n                    // 3. default Content-Type header\n                    headers: Object.assign(Object.assign(Object.assign({}, _headers), this.headers), headers),\n                    body,\n                }).catch((fetchError) => {\n                    throw new FunctionsFetchError(fetchError);\n                });\n                const isRelayError = response.headers.get('x-relay-error');\n                if (isRelayError && isRelayError === 'true') {\n                    throw new FunctionsRelayError(response);\n                }\n                if (!response.ok) {\n                    throw new FunctionsHttpError(response);\n                }\n                let responseType = ((_a = response.headers.get('Content-Type')) !== null && _a !== void 0 ? _a : 'text/plain').split(';')[0].trim();\n                let data;\n                if (responseType === 'application/json') {\n                    data = yield response.json();\n                }\n                else if (responseType === 'application/octet-stream') {\n                    data = yield response.blob();\n                }\n                else if (responseType === 'multipart/form-data') {\n                    data = yield response.formData();\n                }\n                else {\n                    // default to text\n                    data = yield response.text();\n                }\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n}\n//# sourceMappingURL=FunctionsClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport crossFetch from 'cross-fetch';\nexport default class PostgrestBuilder {\n    constructor(builder) {\n        this.shouldThrowOnError = false;\n        this.method = builder.method;\n        this.url = builder.url;\n        this.headers = builder.headers;\n        this.schema = builder.schema;\n        this.body = builder.body;\n        this.shouldThrowOnError = builder.shouldThrowOnError;\n        this.signal = builder.signal;\n        this.allowEmpty = builder.allowEmpty;\n        if (builder.fetch) {\n            this.fetch = builder.fetch;\n        }\n        else if (typeof fetch === 'undefined') {\n            this.fetch = crossFetch;\n        }\n        else {\n            this.fetch = fetch;\n        }\n    }\n    /**\n     * If there's an error with the query, throwOnError will reject the promise by\n     * throwing the error instead of returning it as part of a successful response.\n     *\n     * {@link https://github.com/supabase/supabase-js/issues/92}\n     */\n    throwOnError() {\n        this.shouldThrowOnError = true;\n        return this;\n    }\n    then(onfulfilled, onrejected) {\n        // https://postgrest.org/en/stable/api.html#switching-schemas\n        if (this.schema === undefined) {\n            // skip\n        }\n        else if (['GET', 'HEAD'].includes(this.method)) {\n            this.headers['Accept-Profile'] = this.schema;\n        }\n        else {\n            this.headers['Content-Profile'] = this.schema;\n        }\n        if (this.method !== 'GET' && this.method !== 'HEAD') {\n            this.headers['Content-Type'] = 'application/json';\n        }\n        // NOTE: Invoke w/o `this` to avoid illegal invocation error.\n        // https://github.com/supabase/postgrest-js/pull/247\n        const _fetch = this.fetch;\n        let res = _fetch(this.url.toString(), {\n            method: this.method,\n            headers: this.headers,\n            body: JSON.stringify(this.body),\n            signal: this.signal,\n        }).then((res) => __awaiter(this, void 0, void 0, function* () {\n            var _a, _b, _c;\n            let error = null;\n            let data = null;\n            let count = null;\n            let status = res.status;\n            let statusText = res.statusText;\n            if (res.ok) {\n                if (this.method !== 'HEAD') {\n                    const body = yield res.text();\n                    if (body === '') {\n                        // Prefer: return=minimal\n                    }\n                    else if (this.headers['Accept'] === 'text/csv') {\n                        data = body;\n                    }\n                    else if (this.headers['Accept'] &&\n                        this.headers['Accept'].includes('application/vnd.pgrst.plan+text')) {\n                        data = body;\n                    }\n                    else {\n                        data = JSON.parse(body);\n                    }\n                }\n                const countHeader = (_a = this.headers['Prefer']) === null || _a === void 0 ? void 0 : _a.match(/count=(exact|planned|estimated)/);\n                const contentRange = (_b = res.headers.get('content-range')) === null || _b === void 0 ? void 0 : _b.split('/');\n                if (countHeader && contentRange && contentRange.length > 1) {\n                    count = parseInt(contentRange[1]);\n                }\n            }\n            else {\n                const body = yield res.text();\n                try {\n                    error = JSON.parse(body);\n                    // Workaround for https://github.com/supabase/postgrest-js/issues/295\n                    if (Array.isArray(error) && res.status === 404) {\n                        data = [];\n                        error = null;\n                        status = 200;\n                        statusText = 'OK';\n                    }\n                }\n                catch (_d) {\n                    // Workaround for https://github.com/supabase/postgrest-js/issues/295\n                    if (res.status === 404 && body === '') {\n                        status = 204;\n                        statusText = 'No Content';\n                    }\n                    else {\n                        error = {\n                            message: body,\n                        };\n                    }\n                }\n                if (error && this.allowEmpty && ((_c = error === null || error === void 0 ? void 0 : error.details) === null || _c === void 0 ? void 0 : _c.includes('Results contain 0 rows'))) {\n                    error = null;\n                    status = 200;\n                    statusText = 'OK';\n                }\n                if (error && this.shouldThrowOnError) {\n                    throw error;\n                }\n            }\n            const postgrestResponse = {\n                error,\n                data,\n                count,\n                status,\n                statusText,\n            };\n            return postgrestResponse;\n        }));\n        if (!this.shouldThrowOnError) {\n            res = res.catch((fetchError) => ({\n                error: {\n                    message: `FetchError: ${fetchError.message}`,\n                    details: '',\n                    hint: '',\n                    code: fetchError.code || '',\n                },\n                data: null,\n                count: null,\n                status: 0,\n                statusText: '',\n            }));\n        }\n        return res.then(onfulfilled, onrejected);\n    }\n}\n//# sourceMappingURL=PostgrestBuilder.js.map","import PostgrestBuilder from './PostgrestBuilder';\nexport default class PostgrestTransformBuilder extends PostgrestBuilder {\n    /**\n     * Perform a SELECT on the query result.\n     *\n     * By default, `.insert()`, `.update()`, `.upsert()`, and `.delete()` do not\n     * return modified rows. By calling this method, modified rows are returned in\n     * `data`.\n     *\n     * @param columns - The columns to retrieve, separated by commas\n     */\n    select(columns) {\n        // Remove whitespaces except when quoted\n        let quoted = false;\n        const cleanedColumns = (columns !== null && columns !== void 0 ? columns : '*')\n            .split('')\n            .map((c) => {\n            if (/\\s/.test(c) && !quoted) {\n                return '';\n            }\n            if (c === '\"') {\n                quoted = !quoted;\n            }\n            return c;\n        })\n            .join('');\n        this.url.searchParams.set('select', cleanedColumns);\n        if (this.headers['Prefer']) {\n            this.headers['Prefer'] += ',';\n        }\n        this.headers['Prefer'] += 'return=representation';\n        return this;\n    }\n    /**\n     * Order the query result by `column`.\n     *\n     * You can call this method multiple times to order by multiple columns.\n     *\n     * You can order foreign tables, but it doesn't affect the ordering of the\n     * current table.\n     *\n     * @param column - The column to order by\n     * @param options - Named parameters\n     * @param options.ascending - If `true`, the result will be in ascending order\n     * @param options.nullsFirst - If `true`, `null`s appear first. If `false`,\n     * `null`s appear last.\n     * @param options.foreignTable - Set this to order a foreign table by foreign\n     * columns\n     */\n    order(column, { ascending = true, nullsFirst, foreignTable, } = {}) {\n        const key = foreignTable ? `${foreignTable}.order` : 'order';\n        const existingOrder = this.url.searchParams.get(key);\n        this.url.searchParams.set(key, `${existingOrder ? `${existingOrder},` : ''}${column}.${ascending ? 'asc' : 'desc'}${nullsFirst === undefined ? '' : nullsFirst ? '.nullsfirst' : '.nullslast'}`);\n        return this;\n    }\n    /**\n     * Limit the query result by `count`.\n     *\n     * @param count - The maximum number of rows to return\n     * @param options - Named parameters\n     * @param options.foreignTable - Set this to limit rows of foreign tables\n     * instead of the current table\n     */\n    limit(count, { foreignTable } = {}) {\n        const key = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`;\n        this.url.searchParams.set(key, `${count}`);\n        return this;\n    }\n    /**\n     * Limit the query result by `from` and `to` inclusively.\n     *\n     * @param from - The starting index from which to limit the result\n     * @param to - The last index to which to limit the result\n     * @param options - Named parameters\n     * @param options.foreignTable - Set this to limit rows of foreign tables\n     * instead of the current table\n     */\n    range(from, to, { foreignTable } = {}) {\n        const keyOffset = typeof foreignTable === 'undefined' ? 'offset' : `${foreignTable}.offset`;\n        const keyLimit = typeof foreignTable === 'undefined' ? 'limit' : `${foreignTable}.limit`;\n        this.url.searchParams.set(keyOffset, `${from}`);\n        // Range is inclusive, so add 1\n        this.url.searchParams.set(keyLimit, `${to - from + 1}`);\n        return this;\n    }\n    /**\n     * Set the AbortSignal for the fetch request.\n     *\n     * @param signal - The AbortSignal to use for the fetch request\n     */\n    abortSignal(signal) {\n        this.signal = signal;\n        return this;\n    }\n    /**\n     * Return `data` as a single object instead of an array of objects.\n     *\n     * Query result must be one row (e.g. using `.limit(1)`), otherwise this\n     * returns an error.\n     */\n    single() {\n        this.headers['Accept'] = 'application/vnd.pgrst.object+json';\n        return this;\n    }\n    /**\n     * Return `data` as a single object instead of an array of objects.\n     *\n     * Query result must be zero or one row (e.g. using `.limit(1)`), otherwise\n     * this returns an error.\n     */\n    maybeSingle() {\n        this.headers['Accept'] = 'application/vnd.pgrst.object+json';\n        this.allowEmpty = true;\n        return this;\n    }\n    /**\n     * Return `data` as a string in CSV format.\n     */\n    csv() {\n        this.headers['Accept'] = 'text/csv';\n        return this;\n    }\n    /**\n     * Return `data` as an object in [GeoJSON](https://geojson.org) format.\n     */\n    geojson() {\n        this.headers['Accept'] = 'application/geo+json';\n        return this;\n    }\n    /**\n     * Return `data` as the EXPLAIN plan for the query.\n     *\n     * @param options - Named parameters\n     *\n     * @param options.analyze - If `true`, the query will be executed and the\n     * actual run time will be returned\n     *\n     * @param options.verbose - If `true`, the query identifier will be returned\n     * and `data` will include the output columns of the query\n     *\n     * @param options.settings - If `true`, include information on configuration\n     * parameters that affect query planning\n     *\n     * @param options.buffers - If `true`, include information on buffer usage\n     *\n     * @param options.wal - If `true`, include information on WAL record generation\n     *\n     * @param options.format - The format of the output, can be `\"text\"` (default)\n     * or `\"json\"`\n     */\n    explain({ analyze = false, verbose = false, settings = false, buffers = false, wal = false, format = 'text', } = {}) {\n        const options = [\n            analyze ? 'analyze' : null,\n            verbose ? 'verbose' : null,\n            settings ? 'settings' : null,\n            buffers ? 'buffers' : null,\n            wal ? 'wal' : null,\n        ]\n            .filter(Boolean)\n            .join('|');\n        // An Accept header can carry multiple media types but postgrest-js always sends one\n        const forMediatype = this.headers['Accept'];\n        this.headers['Accept'] = `application/vnd.pgrst.plan+${format}; for=\"${forMediatype}\"; options=${options};`;\n        if (format === 'json')\n            return this;\n        else\n            return this;\n    }\n    /**\n     * Rollback the query.\n     *\n     * `data` will still be returned, but the query is not committed.\n     */\n    rollback() {\n        var _a;\n        if (((_a = this.headers['Prefer']) !== null && _a !== void 0 ? _a : '').trim().length > 0) {\n            this.headers['Prefer'] += ',tx=rollback';\n        }\n        else {\n            this.headers['Prefer'] = 'tx=rollback';\n        }\n        return this;\n    }\n    /**\n     * Override the type of the returned `data`.\n     *\n     * @typeParam NewResult - The new result type to override with\n     */\n    returns() {\n        return this;\n    }\n}\n//# sourceMappingURL=PostgrestTransformBuilder.js.map","import PostgrestTransformBuilder from './PostgrestTransformBuilder';\nexport default class PostgrestFilterBuilder extends PostgrestTransformBuilder {\n    /**\n     * Match only rows where `column` is equal to `value`.\n     *\n     * To check if the value of `column` is NULL, you should use `.is()` instead.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    eq(column, value) {\n        this.url.searchParams.append(column, `eq.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` is not equal to `value`.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    neq(column, value) {\n        this.url.searchParams.append(column, `neq.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` is greater than `value`.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    gt(column, value) {\n        this.url.searchParams.append(column, `gt.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` is greater than or equal to `value`.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    gte(column, value) {\n        this.url.searchParams.append(column, `gte.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` is less than `value`.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    lt(column, value) {\n        this.url.searchParams.append(column, `lt.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` is less than or equal to `value`.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    lte(column, value) {\n        this.url.searchParams.append(column, `lte.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` matches `pattern` case-sensitively.\n     *\n     * @param column - The column to filter on\n     * @param pattern - The pattern to match with\n     */\n    like(column, pattern) {\n        this.url.searchParams.append(column, `like.${pattern}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` matches `pattern` case-insensitively.\n     *\n     * @param column - The column to filter on\n     * @param pattern - The pattern to match with\n     */\n    ilike(column, pattern) {\n        this.url.searchParams.append(column, `ilike.${pattern}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` IS `value`.\n     *\n     * For non-boolean columns, this is only relevant for checking if the value of\n     * `column` is NULL by setting `value` to `null`.\n     *\n     * For boolean columns, you can also set `value` to `true` or `false` and it\n     * will behave the same way as `.eq()`.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    is(column, value) {\n        this.url.searchParams.append(column, `is.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` is included in the `values` array.\n     *\n     * @param column - The column to filter on\n     * @param values - The values array to filter with\n     */\n    in(column, values) {\n        const cleanedValues = values\n            .map((s) => {\n            // handle postgrest reserved characters\n            // https://postgrest.org/en/v7.0.0/api.html#reserved-characters\n            if (typeof s === 'string' && new RegExp('[,()]').test(s))\n                return `\"${s}\"`;\n            else\n                return `${s}`;\n        })\n            .join(',');\n        this.url.searchParams.append(column, `in.(${cleanedValues})`);\n        return this;\n    }\n    /**\n     * Only relevant for jsonb, array, and range columns. Match only rows where\n     * `column` contains every element appearing in `value`.\n     *\n     * @param column - The jsonb, array, or range column to filter on\n     * @param value - The jsonb, array, or range value to filter with\n     */\n    contains(column, value) {\n        if (typeof value === 'string') {\n            // range types can be inclusive '[', ']' or exclusive '(', ')' so just\n            // keep it simple and accept a string\n            this.url.searchParams.append(column, `cs.${value}`);\n        }\n        else if (Array.isArray(value)) {\n            // array\n            this.url.searchParams.append(column, `cs.{${value.join(',')}}`);\n        }\n        else {\n            // json\n            this.url.searchParams.append(column, `cs.${JSON.stringify(value)}`);\n        }\n        return this;\n    }\n    /**\n     * Only relevant for jsonb, array, and range columns. Match only rows where\n     * every element appearing in `column` is contained by `value`.\n     *\n     * @param column - The jsonb, array, or range column to filter on\n     * @param value - The jsonb, array, or range value to filter with\n     */\n    containedBy(column, value) {\n        if (typeof value === 'string') {\n            // range\n            this.url.searchParams.append(column, `cd.${value}`);\n        }\n        else if (Array.isArray(value)) {\n            // array\n            this.url.searchParams.append(column, `cd.{${value.join(',')}}`);\n        }\n        else {\n            // json\n            this.url.searchParams.append(column, `cd.${JSON.stringify(value)}`);\n        }\n        return this;\n    }\n    /**\n     * Only relevant for range columns. Match only rows where every element in\n     * `column` is greater than any element in `range`.\n     *\n     * @param column - The range column to filter on\n     * @param range - The range to filter with\n     */\n    rangeGt(column, range) {\n        this.url.searchParams.append(column, `sr.${range}`);\n        return this;\n    }\n    /**\n     * Only relevant for range columns. Match only rows where every element in\n     * `column` is either contained in `range` or greater than any element in\n     * `range`.\n     *\n     * @param column - The range column to filter on\n     * @param range - The range to filter with\n     */\n    rangeGte(column, range) {\n        this.url.searchParams.append(column, `nxl.${range}`);\n        return this;\n    }\n    /**\n     * Only relevant for range columns. Match only rows where every element in\n     * `column` is less than any element in `range`.\n     *\n     * @param column - The range column to filter on\n     * @param range - The range to filter with\n     */\n    rangeLt(column, range) {\n        this.url.searchParams.append(column, `sl.${range}`);\n        return this;\n    }\n    /**\n     * Only relevant for range columns. Match only rows where every element in\n     * `column` is either contained in `range` or less than any element in\n     * `range`.\n     *\n     * @param column - The range column to filter on\n     * @param range - The range to filter with\n     */\n    rangeLte(column, range) {\n        this.url.searchParams.append(column, `nxr.${range}`);\n        return this;\n    }\n    /**\n     * Only relevant for range columns. Match only rows where `column` is\n     * mutually exclusive to `range` and there can be no element between the two\n     * ranges.\n     *\n     * @param column - The range column to filter on\n     * @param range - The range to filter with\n     */\n    rangeAdjacent(column, range) {\n        this.url.searchParams.append(column, `adj.${range}`);\n        return this;\n    }\n    /**\n     * Only relevant for array and range columns. Match only rows where\n     * `column` and `value` have an element in common.\n     *\n     * @param column - The array or range column to filter on\n     * @param value - The array or range value to filter with\n     */\n    overlaps(column, value) {\n        if (typeof value === 'string') {\n            // range\n            this.url.searchParams.append(column, `ov.${value}`);\n        }\n        else {\n            // array\n            this.url.searchParams.append(column, `ov.{${value.join(',')}}`);\n        }\n        return this;\n    }\n    /**\n     * Only relevant for text and tsvector columns. Match only rows where\n     * `column` matches the query string in `query`.\n     *\n     * @param column - The text or tsvector column to filter on\n     * @param query - The query text to match with\n     * @param options - Named parameters\n     * @param options.config - The text search configuration to use\n     * @param options.type - Change how the `query` text is interpreted\n     */\n    textSearch(column, query, { config, type } = {}) {\n        let typePart = '';\n        if (type === 'plain') {\n            typePart = 'pl';\n        }\n        else if (type === 'phrase') {\n            typePart = 'ph';\n        }\n        else if (type === 'websearch') {\n            typePart = 'w';\n        }\n        const configPart = config === undefined ? '' : `(${config})`;\n        this.url.searchParams.append(column, `${typePart}fts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Match only rows where each column in `query` keys is equal to its\n     * associated value. Shorthand for multiple `.eq()`s.\n     *\n     * @param query - The object to filter with, with column names as keys mapped\n     * to their filter values\n     */\n    match(query) {\n        Object.entries(query).forEach(([column, value]) => {\n            this.url.searchParams.append(column, `eq.${value}`);\n        });\n        return this;\n    }\n    /**\n     * Match only rows which doesn't satisfy the filter.\n     *\n     * Unlike most filters, `opearator` and `value` are used as-is and need to\n     * follow [PostgREST\n     * syntax](https://postgrest.org/en/stable/api.html#operators). You also need\n     * to make sure they are properly sanitized.\n     *\n     * @param column - The column to filter on\n     * @param operator - The operator to be negated to filter with, following\n     * PostgREST syntax\n     * @param value - The value to filter with, following PostgREST syntax\n     */\n    not(column, operator, value) {\n        this.url.searchParams.append(column, `not.${operator}.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows which satisfy at least one of the filters.\n     *\n     * Unlike most filters, `filters` is used as-is and needs to follow [PostgREST\n     * syntax](https://postgrest.org/en/stable/api.html#operators). You also need\n     * to make sure it's properly sanitized.\n     *\n     * It's currently not possible to do an `.or()` filter across multiple tables.\n     *\n     * @param filters - The filters to use, following PostgREST syntax\n     * @param foreignTable - Set this to filter on foreign tables instead of the\n     * current table\n     */\n    or(filters, { foreignTable } = {}) {\n        const key = foreignTable ? `${foreignTable}.or` : 'or';\n        this.url.searchParams.append(key, `(${filters})`);\n        return this;\n    }\n    /**\n     * Match only rows which satisfy the filter. This is an escape hatch - you\n     * should use the specific filter methods wherever possible.\n     *\n     * Unlike most filters, `opearator` and `value` are used as-is and need to\n     * follow [PostgREST\n     * syntax](https://postgrest.org/en/stable/api.html#operators). You also need\n     * to make sure they are properly sanitized.\n     *\n     * @param column - The column to filter on\n     * @param operator - The operator to filter with, following PostgREST syntax\n     * @param value - The value to filter with, following PostgREST syntax\n     */\n    filter(column, operator, value) {\n        this.url.searchParams.append(column, `${operator}.${value}`);\n        return this;\n    }\n}\n//# sourceMappingURL=PostgrestFilterBuilder.js.map","import PostgrestFilterBuilder from './PostgrestFilterBuilder';\nexport default class PostgrestQueryBuilder {\n    constructor(url, { headers = {}, schema, fetch, }) {\n        this.url = url;\n        this.headers = headers;\n        this.schema = schema;\n        this.fetch = fetch;\n    }\n    /**\n     * Perform a SELECT query on the table or view.\n     *\n     * @param columns - The columns to retrieve, separated by commas\n     *\n     * @param options - Named parameters\n     *\n     * @param options.head - When set to `true`, `data` will not be returned.\n     * Useful if you only need the count.\n     *\n     * @param options.count - Count algorithm to use to count rows in the table or view.\n     *\n     * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n     * hood.\n     *\n     * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n     * statistics under the hood.\n     *\n     * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n     * numbers.\n     */\n    select(columns, { head = false, count, } = {}) {\n        const method = head ? 'HEAD' : 'GET';\n        // Remove whitespaces except when quoted\n        let quoted = false;\n        const cleanedColumns = (columns !== null && columns !== void 0 ? columns : '*')\n            .split('')\n            .map((c) => {\n            if (/\\s/.test(c) && !quoted) {\n                return '';\n            }\n            if (c === '\"') {\n                quoted = !quoted;\n            }\n            return c;\n        })\n            .join('');\n        this.url.searchParams.set('select', cleanedColumns);\n        if (count) {\n            this.headers['Prefer'] = `count=${count}`;\n        }\n        return new PostgrestFilterBuilder({\n            method,\n            url: this.url,\n            headers: this.headers,\n            schema: this.schema,\n            fetch: this.fetch,\n            allowEmpty: false,\n        });\n    }\n    /**\n     * Perform an INSERT into the table or view.\n     *\n     * By default, inserted rows are not returned. To return it, chain the call\n     * with `.select()`.\n     *\n     * @param values - The values to insert. Pass an object to insert a single row\n     * or an array to insert multiple rows.\n     *\n     * @param options - Named parameters\n     *\n     * @param options.count - Count algorithm to use to count inserted rows.\n     *\n     * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n     * hood.\n     *\n     * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n     * statistics under the hood.\n     *\n     * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n     * numbers.\n     */\n    insert(values, { count, } = {}) {\n        const method = 'POST';\n        const prefersHeaders = [];\n        const body = values;\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        if (Array.isArray(values)) {\n            const columns = values.reduce((acc, x) => acc.concat(Object.keys(x)), []);\n            if (columns.length > 0) {\n                const uniqueColumns = [...new Set(columns)].map((column) => `\"${column}\"`);\n                this.url.searchParams.set('columns', uniqueColumns.join(','));\n            }\n        }\n        return new PostgrestFilterBuilder({\n            method,\n            url: this.url,\n            headers: this.headers,\n            schema: this.schema,\n            body,\n            fetch: this.fetch,\n            allowEmpty: false,\n        });\n    }\n    /**\n     * Perform an UPSERT on the table or view. Depending on the column(s) passed\n     * to `onConflict`, `.upsert()` allows you to perform the equivalent of\n     * `.insert()` if a row with the corresponding `onConflict` columns doesn't\n     * exist, or if it does exist, perform an alternative action depending on\n     * `ignoreDuplicates`.\n     *\n     * By default, upserted rows are not returned. To return it, chain the call\n     * with `.select()`.\n     *\n     * @param values - The values to upsert with. Pass an object to upsert a\n     * single row or an array to upsert multiple rows.\n     *\n     * @param options - Named parameters\n     *\n     * @param options.onConflict - Comma-separated UNIQUE column(s) to specify how\n     * duplicate rows are determined. Two rows are duplicates if all the\n     * `onConflict` columns are equal.\n     *\n     * @param options.ignoreDuplicates - If `true`, duplicate rows are ignored. If\n     * `false`, duplicate rows are merged with existing rows.\n     *\n     * @param options.count - Count algorithm to use to count upserted rows.\n     *\n     * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n     * hood.\n     *\n     * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n     * statistics under the hood.\n     *\n     * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n     * numbers.\n     */\n    upsert(values, { onConflict, ignoreDuplicates = false, count, } = {}) {\n        const method = 'POST';\n        const prefersHeaders = [`resolution=${ignoreDuplicates ? 'ignore' : 'merge'}-duplicates`];\n        if (onConflict !== undefined)\n            this.url.searchParams.set('on_conflict', onConflict);\n        const body = values;\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder({\n            method,\n            url: this.url,\n            headers: this.headers,\n            schema: this.schema,\n            body,\n            fetch: this.fetch,\n            allowEmpty: false,\n        });\n    }\n    /**\n     * Perform an UPDATE on the table or view.\n     *\n     * By default, updated rows are not returned. To return it, chain the call\n     * with `.select()` after filters.\n     *\n     * @param values - The values to update with\n     *\n     * @param options - Named parameters\n     *\n     * @param options.count - Count algorithm to use to count updated rows.\n     *\n     * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n     * hood.\n     *\n     * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n     * statistics under the hood.\n     *\n     * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n     * numbers.\n     */\n    update(values, { count, } = {}) {\n        const method = 'PATCH';\n        const prefersHeaders = [];\n        const body = values;\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder({\n            method,\n            url: this.url,\n            headers: this.headers,\n            schema: this.schema,\n            body,\n            fetch: this.fetch,\n            allowEmpty: false,\n        });\n    }\n    /**\n     * Perform a DELETE on the table or view.\n     *\n     * By default, deleted rows are not returned. To return it, chain the call\n     * with `.select()` after filters.\n     *\n     * @param options - Named parameters\n     *\n     * @param options.count - Count algorithm to use to count deleted rows.\n     *\n     * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n     * hood.\n     *\n     * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n     * statistics under the hood.\n     *\n     * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n     * numbers.\n     */\n    delete({ count, } = {}) {\n        const method = 'DELETE';\n        const prefersHeaders = [];\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder({\n            method,\n            url: this.url,\n            headers: this.headers,\n            schema: this.schema,\n            fetch: this.fetch,\n            allowEmpty: false,\n        });\n    }\n}\n//# sourceMappingURL=PostgrestQueryBuilder.js.map","export const version = '1.1.1';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `postgrest-js/${version}` };\n//# sourceMappingURL=constants.js.map","import PostgrestQueryBuilder from './PostgrestQueryBuilder';\nimport PostgrestFilterBuilder from './PostgrestFilterBuilder';\nimport { DEFAULT_HEADERS } from './constants';\n/**\n * PostgREST client.\n *\n * @typeParam Database - Types for the schema from the [type\n * generator](https://supabase.com/docs/reference/javascript/next/typescript-support)\n *\n * @typeParam SchemaName - Postgres schema to switch to. Must be a string\n * literal, the same one passed to the constructor. If the schema is not\n * `\"public\"`, this must be supplied manually.\n */\nexport default class PostgrestClient {\n    // TODO: Add back shouldThrowOnError once we figure out the typings\n    /**\n     * Creates a PostgREST client.\n     *\n     * @param url - URL of the PostgREST endpoint\n     * @param options - Named parameters\n     * @param options.headers - Custom headers\n     * @param options.schema - Postgres schema to switch to\n     * @param options.fetch - Custom fetch\n     */\n    constructor(url, { headers = {}, schema, fetch, } = {}) {\n        this.url = url;\n        this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), headers);\n        this.schema = schema;\n        this.fetch = fetch;\n    }\n    /**\n     * Perform a query on a table or a view.\n     *\n     * @param relation - The table or view name to query\n     */\n    from(relation) {\n        const url = new URL(`${this.url}/${relation}`);\n        return new PostgrestQueryBuilder(url, {\n            headers: Object.assign({}, this.headers),\n            schema: this.schema,\n            fetch: this.fetch,\n        });\n    }\n    /**\n     * Perform a function call.\n     *\n     * @param fn - The function name to call\n     * @param args - The arguments to pass to the function call\n     * @param options - Named parameters\n     * @param options.head - When set to `true`, `data` will not be returned.\n     * Useful if you only need the count.\n     * @param options.count - Count algorithm to use to count rows returned by the\n     * function. Only applicable for [set-returning\n     * functions](https://www.postgresql.org/docs/current/functions-srf.html).\n     *\n     * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n     * hood.\n     *\n     * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n     * statistics under the hood.\n     *\n     * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n     * numbers.\n     */\n    rpc(fn, args = {}, { head = false, count, } = {}) {\n        let method;\n        const url = new URL(`${this.url}/rpc/${fn}`);\n        let body;\n        if (head) {\n            method = 'HEAD';\n            Object.entries(args).forEach(([name, value]) => {\n                url.searchParams.append(name, `${value}`);\n            });\n        }\n        else {\n            method = 'POST';\n            body = args;\n        }\n        const headers = Object.assign({}, this.headers);\n        if (count) {\n            headers['Prefer'] = `count=${count}`;\n        }\n        return new PostgrestFilterBuilder({\n            method,\n            url,\n            headers,\n            schema: this.schema,\n            body,\n            fetch: this.fetch,\n            allowEmpty: false,\n        });\n    }\n}\n//# sourceMappingURL=PostgrestClient.js.map","export const version = '2.1.0';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `realtime-js/${version}` };\nexport const VSN = '1.0.0';\nexport const DEFAULT_TIMEOUT = 10000;\nexport const WS_CLOSE_NORMAL = 1000;\nexport var SOCKET_STATES;\n(function (SOCKET_STATES) {\n    SOCKET_STATES[SOCKET_STATES[\"connecting\"] = 0] = \"connecting\";\n    SOCKET_STATES[SOCKET_STATES[\"open\"] = 1] = \"open\";\n    SOCKET_STATES[SOCKET_STATES[\"closing\"] = 2] = \"closing\";\n    SOCKET_STATES[SOCKET_STATES[\"closed\"] = 3] = \"closed\";\n})(SOCKET_STATES || (SOCKET_STATES = {}));\nexport var CHANNEL_STATES;\n(function (CHANNEL_STATES) {\n    CHANNEL_STATES[\"closed\"] = \"closed\";\n    CHANNEL_STATES[\"errored\"] = \"errored\";\n    CHANNEL_STATES[\"joined\"] = \"joined\";\n    CHANNEL_STATES[\"joining\"] = \"joining\";\n    CHANNEL_STATES[\"leaving\"] = \"leaving\";\n})(CHANNEL_STATES || (CHANNEL_STATES = {}));\nexport var CHANNEL_EVENTS;\n(function (CHANNEL_EVENTS) {\n    CHANNEL_EVENTS[\"close\"] = \"phx_close\";\n    CHANNEL_EVENTS[\"error\"] = \"phx_error\";\n    CHANNEL_EVENTS[\"join\"] = \"phx_join\";\n    CHANNEL_EVENTS[\"reply\"] = \"phx_reply\";\n    CHANNEL_EVENTS[\"leave\"] = \"phx_leave\";\n    CHANNEL_EVENTS[\"access_token\"] = \"access_token\";\n})(CHANNEL_EVENTS || (CHANNEL_EVENTS = {}));\nexport var TRANSPORTS;\n(function (TRANSPORTS) {\n    TRANSPORTS[\"websocket\"] = \"websocket\";\n})(TRANSPORTS || (TRANSPORTS = {}));\nexport var CONNECTION_STATE;\n(function (CONNECTION_STATE) {\n    CONNECTION_STATE[\"Connecting\"] = \"connecting\";\n    CONNECTION_STATE[\"Open\"] = \"open\";\n    CONNECTION_STATE[\"Closing\"] = \"closing\";\n    CONNECTION_STATE[\"Closed\"] = \"closed\";\n})(CONNECTION_STATE || (CONNECTION_STATE = {}));\n//# sourceMappingURL=constants.js.map","/*\n  This file draws heavily from https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/assets/js/phoenix/presence.js\n  License: https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/LICENSE.md\n*/\nexport var REALTIME_PRESENCE_LISTEN_EVENTS;\n(function (REALTIME_PRESENCE_LISTEN_EVENTS) {\n    REALTIME_PRESENCE_LISTEN_EVENTS[\"SYNC\"] = \"sync\";\n    REALTIME_PRESENCE_LISTEN_EVENTS[\"JOIN\"] = \"join\";\n    REALTIME_PRESENCE_LISTEN_EVENTS[\"LEAVE\"] = \"leave\";\n})(REALTIME_PRESENCE_LISTEN_EVENTS || (REALTIME_PRESENCE_LISTEN_EVENTS = {}));\nexport default class RealtimePresence {\n    /**\n     * Initializes the Presence.\n     *\n     * @param channel - The RealtimeChannel\n     * @param opts - The options,\n     *        for example `{events: {state: 'state', diff: 'diff'}}`\n     */\n    constructor(channel, opts) {\n        this.channel = channel;\n        this.state = {};\n        this.pendingDiffs = [];\n        this.joinRef = null;\n        this.caller = {\n            onJoin: () => { },\n            onLeave: () => { },\n            onSync: () => { },\n        };\n        const events = (opts === null || opts === void 0 ? void 0 : opts.events) || {\n            state: 'presence_state',\n            diff: 'presence_diff',\n        };\n        this.channel._on(events.state, {}, (newState) => {\n            const { onJoin, onLeave, onSync } = this.caller;\n            this.joinRef = this.channel._joinRef();\n            this.state = RealtimePresence.syncState(this.state, newState, onJoin, onLeave);\n            this.pendingDiffs.forEach((diff) => {\n                this.state = RealtimePresence.syncDiff(this.state, diff, onJoin, onLeave);\n            });\n            this.pendingDiffs = [];\n            onSync();\n        });\n        this.channel._on(events.diff, {}, (diff) => {\n            const { onJoin, onLeave, onSync } = this.caller;\n            if (this.inPendingSyncState()) {\n                this.pendingDiffs.push(diff);\n            }\n            else {\n                this.state = RealtimePresence.syncDiff(this.state, diff, onJoin, onLeave);\n                onSync();\n            }\n        });\n        this.onJoin((key, currentPresences, newPresences) => {\n            this.channel._trigger('presence', {\n                event: 'join',\n                key,\n                currentPresences,\n                newPresences,\n            });\n        });\n        this.onLeave((key, currentPresences, leftPresences) => {\n            this.channel._trigger('presence', {\n                event: 'leave',\n                key,\n                currentPresences,\n                leftPresences,\n            });\n        });\n        this.onSync(() => {\n            this.channel._trigger('presence', { event: 'sync' });\n        });\n    }\n    /**\n     * Used to sync the list of presences on the server with the\n     * client's state.\n     *\n     * An optional `onJoin` and `onLeave` callback can be provided to\n     * react to changes in the client's local presences across\n     * disconnects and reconnects with the server.\n     *\n     * @internal\n     */\n    static syncState(currentState, newState, onJoin, onLeave) {\n        const state = this.cloneDeep(currentState);\n        const transformedState = this.transformState(newState);\n        const joins = {};\n        const leaves = {};\n        this.map(state, (key, presences) => {\n            if (!transformedState[key]) {\n                leaves[key] = presences;\n            }\n        });\n        this.map(transformedState, (key, newPresences) => {\n            const currentPresences = state[key];\n            if (currentPresences) {\n                const newPresenceRefs = newPresences.map((m) => m.presence_ref);\n                const curPresenceRefs = currentPresences.map((m) => m.presence_ref);\n                const joinedPresences = newPresences.filter((m) => curPresenceRefs.indexOf(m.presence_ref) < 0);\n                const leftPresences = currentPresences.filter((m) => newPresenceRefs.indexOf(m.presence_ref) < 0);\n                if (joinedPresences.length > 0) {\n                    joins[key] = joinedPresences;\n                }\n                if (leftPresences.length > 0) {\n                    leaves[key] = leftPresences;\n                }\n            }\n            else {\n                joins[key] = newPresences;\n            }\n        });\n        return this.syncDiff(state, { joins, leaves }, onJoin, onLeave);\n    }\n    /**\n     * Used to sync a diff of presence join and leave events from the\n     * server, as they happen.\n     *\n     * Like `syncState`, `syncDiff` accepts optional `onJoin` and\n     * `onLeave` callbacks to react to a user joining or leaving from a\n     * device.\n     *\n     * @internal\n     */\n    static syncDiff(state, diff, onJoin, onLeave) {\n        const { joins, leaves } = {\n            joins: this.transformState(diff.joins),\n            leaves: this.transformState(diff.leaves),\n        };\n        if (!onJoin) {\n            onJoin = () => { };\n        }\n        if (!onLeave) {\n            onLeave = () => { };\n        }\n        this.map(joins, (key, newPresences) => {\n            var _a;\n            const currentPresences = (_a = state[key]) !== null && _a !== void 0 ? _a : [];\n            state[key] = this.cloneDeep(newPresences);\n            if (currentPresences.length > 0) {\n                const joinedPresenceRefs = state[key].map((m) => m.presence_ref);\n                const curPresences = currentPresences.filter((m) => joinedPresenceRefs.indexOf(m.presence_ref) < 0);\n                state[key].unshift(...curPresences);\n            }\n            onJoin(key, currentPresences, newPresences);\n        });\n        this.map(leaves, (key, leftPresences) => {\n            let currentPresences = state[key];\n            if (!currentPresences)\n                return;\n            const presenceRefsToRemove = leftPresences.map((m) => m.presence_ref);\n            currentPresences = currentPresences.filter((m) => presenceRefsToRemove.indexOf(m.presence_ref) < 0);\n            state[key] = currentPresences;\n            onLeave(key, currentPresences, leftPresences);\n            if (currentPresences.length === 0)\n                delete state[key];\n        });\n        return state;\n    }\n    /** @internal */\n    static map(obj, func) {\n        return Object.getOwnPropertyNames(obj).map((key) => func(key, obj[key]));\n    }\n    /**\n     * Remove 'metas' key\n     * Change 'phx_ref' to 'presence_ref'\n     * Remove 'phx_ref' and 'phx_ref_prev'\n     *\n     * @example\n     * // returns {\n     *  abc123: [\n     *    { presence_ref: '2', user_id: 1 },\n     *    { presence_ref: '3', user_id: 2 }\n     *  ]\n     * }\n     * RealtimePresence.transformState({\n     *  abc123: {\n     *    metas: [\n     *      { phx_ref: '2', phx_ref_prev: '1' user_id: 1 },\n     *      { phx_ref: '3', user_id: 2 }\n     *    ]\n     *  }\n     * })\n     *\n     * @internal\n     */\n    static transformState(state) {\n        state = this.cloneDeep(state);\n        return Object.getOwnPropertyNames(state).reduce((newState, key) => {\n            const presences = state[key];\n            if ('metas' in presences) {\n                newState[key] = presences.metas.map((presence) => {\n                    presence['presence_ref'] = presence['phx_ref'];\n                    delete presence['phx_ref'];\n                    delete presence['phx_ref_prev'];\n                    return presence;\n                });\n            }\n            else {\n                newState[key] = presences;\n            }\n            return newState;\n        }, {});\n    }\n    /** @internal */\n    static cloneDeep(obj) {\n        return JSON.parse(JSON.stringify(obj));\n    }\n    /** @internal */\n    onJoin(callback) {\n        this.caller.onJoin = callback;\n    }\n    /** @internal */\n    onLeave(callback) {\n        this.caller.onLeave = callback;\n    }\n    /** @internal */\n    onSync(callback) {\n        this.caller.onSync = callback;\n    }\n    /** @internal */\n    inPendingSyncState() {\n        return !this.joinRef || this.joinRef !== this.channel._joinRef();\n    }\n}\n//# sourceMappingURL=RealtimePresence.js.map","/**\n * Helpers to convert the change Payload into native JS types.\n */\n// Adapted from epgsql (src/epgsql_binary.erl), this module licensed under\n// 3-clause BSD found here: https://raw.githubusercontent.com/epgsql/epgsql/devel/LICENSE\nexport var PostgresTypes;\n(function (PostgresTypes) {\n    PostgresTypes[\"abstime\"] = \"abstime\";\n    PostgresTypes[\"bool\"] = \"bool\";\n    PostgresTypes[\"date\"] = \"date\";\n    PostgresTypes[\"daterange\"] = \"daterange\";\n    PostgresTypes[\"float4\"] = \"float4\";\n    PostgresTypes[\"float8\"] = \"float8\";\n    PostgresTypes[\"int2\"] = \"int2\";\n    PostgresTypes[\"int4\"] = \"int4\";\n    PostgresTypes[\"int4range\"] = \"int4range\";\n    PostgresTypes[\"int8\"] = \"int8\";\n    PostgresTypes[\"int8range\"] = \"int8range\";\n    PostgresTypes[\"json\"] = \"json\";\n    PostgresTypes[\"jsonb\"] = \"jsonb\";\n    PostgresTypes[\"money\"] = \"money\";\n    PostgresTypes[\"numeric\"] = \"numeric\";\n    PostgresTypes[\"oid\"] = \"oid\";\n    PostgresTypes[\"reltime\"] = \"reltime\";\n    PostgresTypes[\"text\"] = \"text\";\n    PostgresTypes[\"time\"] = \"time\";\n    PostgresTypes[\"timestamp\"] = \"timestamp\";\n    PostgresTypes[\"timestamptz\"] = \"timestamptz\";\n    PostgresTypes[\"timetz\"] = \"timetz\";\n    PostgresTypes[\"tsrange\"] = \"tsrange\";\n    PostgresTypes[\"tstzrange\"] = \"tstzrange\";\n})(PostgresTypes || (PostgresTypes = {}));\n/**\n * Takes an array of columns and an object of string values then converts each string value\n * to its mapped type.\n *\n * @param {{name: String, type: String}[]} columns\n * @param {Object} record\n * @param {Object} options The map of various options that can be applied to the mapper\n * @param {Array} options.skipTypes The array of types that should not be converted\n *\n * @example convertChangeData([{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age:'33'}, {})\n * //=>{ first_name: 'Paul', age: 33 }\n */\nexport const convertChangeData = (columns, record, options = {}) => {\n    var _a;\n    const skipTypes = (_a = options.skipTypes) !== null && _a !== void 0 ? _a : [];\n    return Object.keys(record).reduce((acc, rec_key) => {\n        acc[rec_key] = convertColumn(rec_key, columns, record, skipTypes);\n        return acc;\n    }, {});\n};\n/**\n * Converts the value of an individual column.\n *\n * @param {String} columnName The column that you want to convert\n * @param {{name: String, type: String}[]} columns All of the columns\n * @param {Object} record The map of string values\n * @param {Array} skipTypes An array of types that should not be converted\n * @return {object} Useless information\n *\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, [])\n * //=> 33\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, ['int4'])\n * //=> \"33\"\n */\nexport const convertColumn = (columnName, columns, record, skipTypes) => {\n    const column = columns.find((x) => x.name === columnName);\n    const colType = column === null || column === void 0 ? void 0 : column.type;\n    const value = record[columnName];\n    if (colType && !skipTypes.includes(colType)) {\n        return convertCell(colType, value);\n    }\n    return noop(value);\n};\n/**\n * If the value of the cell is `null`, returns null.\n * Otherwise converts the string value to the correct type.\n * @param {String} type A postgres column type\n * @param {String} stringValue The cell value\n *\n * @example convertCell('bool', 't')\n * //=> true\n * @example convertCell('int8', '10')\n * //=> 10\n * @example convertCell('_int4', '{1,2,3,4}')\n * //=> [1,2,3,4]\n */\nexport const convertCell = (type, value) => {\n    // if data type is an array\n    if (type.charAt(0) === '_') {\n        const dataType = type.slice(1, type.length);\n        return toArray(value, dataType);\n    }\n    // If not null, convert to correct type.\n    switch (type) {\n        case PostgresTypes.bool:\n            return toBoolean(value);\n        case PostgresTypes.float4:\n        case PostgresTypes.float8:\n        case PostgresTypes.int2:\n        case PostgresTypes.int4:\n        case PostgresTypes.int8:\n        case PostgresTypes.numeric:\n        case PostgresTypes.oid:\n            return toNumber(value);\n        case PostgresTypes.json:\n        case PostgresTypes.jsonb:\n            return toJson(value);\n        case PostgresTypes.timestamp:\n            return toTimestampString(value); // Format to be consistent with PostgREST\n        case PostgresTypes.abstime: // To allow users to cast it based on Timezone\n        case PostgresTypes.date: // To allow users to cast it based on Timezone\n        case PostgresTypes.daterange:\n        case PostgresTypes.int4range:\n        case PostgresTypes.int8range:\n        case PostgresTypes.money:\n        case PostgresTypes.reltime: // To allow users to cast it based on Timezone\n        case PostgresTypes.text:\n        case PostgresTypes.time: // To allow users to cast it based on Timezone\n        case PostgresTypes.timestamptz: // To allow users to cast it based on Timezone\n        case PostgresTypes.timetz: // To allow users to cast it based on Timezone\n        case PostgresTypes.tsrange:\n        case PostgresTypes.tstzrange:\n            return noop(value);\n        default:\n            // Return the value for remaining types\n            return noop(value);\n    }\n};\nconst noop = (value) => {\n    return value;\n};\nexport const toBoolean = (value) => {\n    switch (value) {\n        case 't':\n            return true;\n        case 'f':\n            return false;\n        default:\n            return value;\n    }\n};\nexport const toNumber = (value) => {\n    if (typeof value === 'string') {\n        const parsedValue = parseFloat(value);\n        if (!Number.isNaN(parsedValue)) {\n            return parsedValue;\n        }\n    }\n    return value;\n};\nexport const toJson = (value) => {\n    if (typeof value === 'string') {\n        try {\n            return JSON.parse(value);\n        }\n        catch (error) {\n            console.log(`JSON parse error: ${error}`);\n            return value;\n        }\n    }\n    return value;\n};\n/**\n * Converts a Postgres Array into a native JS array\n *\n * @example toArray('{}', 'int4')\n * //=> []\n * @example toArray('{\"[2021-01-01,2021-12-31)\",\"(2021-01-01,2021-12-32]\"}', 'daterange')\n * //=> ['[2021-01-01,2021-12-31)', '(2021-01-01,2021-12-32]']\n * @example toArray([1,2,3,4], 'int4')\n * //=> [1,2,3,4]\n */\nexport const toArray = (value, type) => {\n    if (typeof value !== 'string') {\n        return value;\n    }\n    const lastIdx = value.length - 1;\n    const closeBrace = value[lastIdx];\n    const openBrace = value[0];\n    // Confirm value is a Postgres array by checking curly brackets\n    if (openBrace === '{' && closeBrace === '}') {\n        let arr;\n        const valTrim = value.slice(1, lastIdx);\n        // TODO: find a better solution to separate Postgres array data\n        try {\n            arr = JSON.parse('[' + valTrim + ']');\n        }\n        catch (_) {\n            // WARNING: splitting on comma does not cover all edge cases\n            arr = valTrim ? valTrim.split(',') : [];\n        }\n        return arr.map((val) => convertCell(type, val));\n    }\n    return value;\n};\n/**\n * Fixes timestamp to be ISO-8601. Swaps the space between the date and time for a 'T'\n * See https://github.com/supabase/supabase/issues/18\n *\n * @example toTimestampString('2019-09-10 00:00:00')\n * //=> '2019-09-10T00:00:00'\n */\nexport const toTimestampString = (value) => {\n    if (typeof value === 'string') {\n        return value.replace(' ', 'T');\n    }\n    return value;\n};\n//# sourceMappingURL=transformers.js.map","/**\n * Creates a timer that accepts a `timerCalc` function to perform calculated timeout retries, such as exponential backoff.\n *\n * @example\n *    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n *      return [1000, 5000, 10000][tries - 1] || 10000\n *    })\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n *    reconnectTimer.scheduleTimeout() // fires after 5000\n *    reconnectTimer.reset()\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n */\nexport default class Timer {\n    constructor(callback, timerCalc) {\n        this.callback = callback;\n        this.timerCalc = timerCalc;\n        this.timer = undefined;\n        this.tries = 0;\n        this.callback = callback;\n        this.timerCalc = timerCalc;\n    }\n    reset() {\n        this.tries = 0;\n        clearTimeout(this.timer);\n    }\n    // Cancels any previous scheduleTimeout and schedules callback\n    scheduleTimeout() {\n        clearTimeout(this.timer);\n        this.timer = setTimeout(() => {\n            this.tries = this.tries + 1;\n            this.callback();\n        }, this.timerCalc(this.tries + 1));\n    }\n}\n//# sourceMappingURL=timer.js.map","// This file draws heavily from https://github.com/phoenixframework/phoenix/commit/cf098e9cf7a44ee6479d31d911a97d3c7430c6fe\n// License: https://github.com/phoenixframework/phoenix/blob/master/LICENSE.md\nexport default class Serializer {\n    constructor() {\n        this.HEADER_LENGTH = 1;\n    }\n    decode(rawPayload, callback) {\n        if (rawPayload.constructor === ArrayBuffer) {\n            return callback(this._binaryDecode(rawPayload));\n        }\n        if (typeof rawPayload === 'string') {\n            return callback(JSON.parse(rawPayload));\n        }\n        return callback({});\n    }\n    _binaryDecode(buffer) {\n        const view = new DataView(buffer);\n        const decoder = new TextDecoder();\n        return this._decodeBroadcast(buffer, view, decoder);\n    }\n    _decodeBroadcast(buffer, view, decoder) {\n        const topicSize = view.getUint8(1);\n        const eventSize = view.getUint8(2);\n        let offset = this.HEADER_LENGTH + 2;\n        const topic = decoder.decode(buffer.slice(offset, offset + topicSize));\n        offset = offset + topicSize;\n        const event = decoder.decode(buffer.slice(offset, offset + eventSize));\n        offset = offset + eventSize;\n        const data = JSON.parse(decoder.decode(buffer.slice(offset, buffer.byteLength)));\n        return { ref: null, topic: topic, event: event, payload: data };\n    }\n}\n//# sourceMappingURL=serializer.js.map","import { DEFAULT_TIMEOUT } from '../lib/constants';\nexport default class Push {\n    /**\n     * Initializes the Push\n     *\n     * @param channel The Channel\n     * @param event The event, for example `\"phx_join\"`\n     * @param payload The payload, for example `{user_id: 123}`\n     * @param timeout The push timeout in milliseconds\n     */\n    constructor(channel, event, payload = {}, timeout = DEFAULT_TIMEOUT) {\n        this.channel = channel;\n        this.event = event;\n        this.payload = payload;\n        this.timeout = timeout;\n        this.sent = false;\n        this.timeoutTimer = undefined;\n        this.ref = '';\n        this.receivedResp = null;\n        this.recHooks = [];\n        this.refEvent = null;\n        this.rateLimited = false;\n    }\n    resend(timeout) {\n        this.timeout = timeout;\n        this._cancelRefEvent();\n        this.ref = '';\n        this.refEvent = null;\n        this.receivedResp = null;\n        this.sent = false;\n        this.send();\n    }\n    send() {\n        if (this._hasReceived('timeout')) {\n            return;\n        }\n        this.startTimeout();\n        this.sent = true;\n        const status = this.channel.socket.push({\n            topic: this.channel.topic,\n            event: this.event,\n            payload: this.payload,\n            ref: this.ref,\n            join_ref: this.channel._joinRef(),\n        });\n        if (status === 'rate limited') {\n            this.rateLimited = true;\n        }\n    }\n    updatePayload(payload) {\n        this.payload = Object.assign(Object.assign({}, this.payload), payload);\n    }\n    receive(status, callback) {\n        var _a;\n        if (this._hasReceived(status)) {\n            callback((_a = this.receivedResp) === null || _a === void 0 ? void 0 : _a.response);\n        }\n        this.recHooks.push({ status, callback });\n        return this;\n    }\n    startTimeout() {\n        if (this.timeoutTimer) {\n            return;\n        }\n        this.ref = this.channel.socket._makeRef();\n        this.refEvent = this.channel._replyEventName(this.ref);\n        const callback = (payload) => {\n            this._cancelRefEvent();\n            this._cancelTimeout();\n            this.receivedResp = payload;\n            this._matchReceive(payload);\n        };\n        this.channel._on(this.refEvent, {}, callback);\n        this.timeoutTimer = setTimeout(() => {\n            this.trigger('timeout', {});\n        }, this.timeout);\n    }\n    trigger(status, response) {\n        if (this.refEvent)\n            this.channel._trigger(this.refEvent, { status, response });\n    }\n    destroy() {\n        this._cancelRefEvent();\n        this._cancelTimeout();\n    }\n    _cancelRefEvent() {\n        if (!this.refEvent) {\n            return;\n        }\n        this.channel._off(this.refEvent, {});\n    }\n    _cancelTimeout() {\n        clearTimeout(this.timeoutTimer);\n        this.timeoutTimer = undefined;\n    }\n    _matchReceive({ status, response, }) {\n        this.recHooks\n            .filter((h) => h.status === status)\n            .forEach((h) => h.callback(response));\n    }\n    _hasReceived(status) {\n        return this.receivedResp && this.receivedResp.status === status;\n    }\n}\n//# sourceMappingURL=push.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { CHANNEL_EVENTS, CHANNEL_STATES } from './lib/constants';\nimport Push from './lib/push';\nimport Timer from './lib/timer';\nimport RealtimePresence from './RealtimePresence';\nimport * as Transformers from './lib/transformers';\nexport var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;\n(function (REALTIME_POSTGRES_CHANGES_LISTEN_EVENT) {\n    REALTIME_POSTGRES_CHANGES_LISTEN_EVENT[\"ALL\"] = \"*\";\n    REALTIME_POSTGRES_CHANGES_LISTEN_EVENT[\"INSERT\"] = \"INSERT\";\n    REALTIME_POSTGRES_CHANGES_LISTEN_EVENT[\"UPDATE\"] = \"UPDATE\";\n    REALTIME_POSTGRES_CHANGES_LISTEN_EVENT[\"DELETE\"] = \"DELETE\";\n})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT || (REALTIME_POSTGRES_CHANGES_LISTEN_EVENT = {}));\nexport var REALTIME_LISTEN_TYPES;\n(function (REALTIME_LISTEN_TYPES) {\n    REALTIME_LISTEN_TYPES[\"BROADCAST\"] = \"broadcast\";\n    REALTIME_LISTEN_TYPES[\"PRESENCE\"] = \"presence\";\n    REALTIME_LISTEN_TYPES[\"POSTGRES_CHANGES\"] = \"postgres_changes\";\n})(REALTIME_LISTEN_TYPES || (REALTIME_LISTEN_TYPES = {}));\nexport var REALTIME_SUBSCRIBE_STATES;\n(function (REALTIME_SUBSCRIBE_STATES) {\n    REALTIME_SUBSCRIBE_STATES[\"SUBSCRIBED\"] = \"SUBSCRIBED\";\n    REALTIME_SUBSCRIBE_STATES[\"TIMED_OUT\"] = \"TIMED_OUT\";\n    REALTIME_SUBSCRIBE_STATES[\"CLOSED\"] = \"CLOSED\";\n    REALTIME_SUBSCRIBE_STATES[\"CHANNEL_ERROR\"] = \"CHANNEL_ERROR\";\n})(REALTIME_SUBSCRIBE_STATES || (REALTIME_SUBSCRIBE_STATES = {}));\n/** A channel is the basic building block of Realtime\n * and narrows the scope of data flow to subscribed clients.\n * You can think of a channel as a chatroom where participants are able to see who's online\n * and send and receive messages.\n **/\nexport default class RealtimeChannel {\n    constructor(\n    /** Topic name can be any string. */\n    topic, params = { config: {} }, socket) {\n        this.topic = topic;\n        this.params = params;\n        this.socket = socket;\n        this.bindings = {};\n        this.state = CHANNEL_STATES.closed;\n        this.joinedOnce = false;\n        this.pushBuffer = [];\n        this.params.config = Object.assign({\n            broadcast: { ack: false, self: false },\n            presence: { key: '' },\n        }, params.config);\n        this.timeout = this.socket.timeout;\n        this.joinPush = new Push(this, CHANNEL_EVENTS.join, this.params, this.timeout);\n        this.rejoinTimer = new Timer(() => this._rejoinUntilConnected(), this.socket.reconnectAfterMs);\n        this.joinPush.receive('ok', () => {\n            this.state = CHANNEL_STATES.joined;\n            this.rejoinTimer.reset();\n            this.pushBuffer.forEach((pushEvent) => pushEvent.send());\n            this.pushBuffer = [];\n        });\n        this._onClose(() => {\n            this.rejoinTimer.reset();\n            this.socket.log('channel', `close ${this.topic} ${this._joinRef()}`);\n            this.state = CHANNEL_STATES.closed;\n            this.socket._remove(this);\n        });\n        this._onError((reason) => {\n            if (this._isLeaving() || this._isClosed()) {\n                return;\n            }\n            this.socket.log('channel', `error ${this.topic}`, reason);\n            this.state = CHANNEL_STATES.errored;\n            this.rejoinTimer.scheduleTimeout();\n        });\n        this.joinPush.receive('timeout', () => {\n            if (!this._isJoining()) {\n                return;\n            }\n            this.socket.log('channel', `timeout ${this.topic}`, this.joinPush.timeout);\n            this.state = CHANNEL_STATES.errored;\n            this.rejoinTimer.scheduleTimeout();\n        });\n        this._on(CHANNEL_EVENTS.reply, {}, (payload, ref) => {\n            this._trigger(this._replyEventName(ref), payload);\n        });\n        this.presence = new RealtimePresence(this);\n    }\n    /** Subscribe registers your client with the server */\n    subscribe(callback, timeout = this.timeout) {\n        var _a, _b;\n        if (this.joinedOnce) {\n            throw `tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance`;\n        }\n        else {\n            const { config: { broadcast, presence }, } = this.params;\n            this._onError((e) => callback && callback('CHANNEL_ERROR', e));\n            this._onClose(() => callback && callback('CLOSED'));\n            const accessTokenPayload = {};\n            const config = {\n                broadcast,\n                presence,\n                postgres_changes: (_b = (_a = this.bindings.postgres_changes) === null || _a === void 0 ? void 0 : _a.map((r) => r.filter)) !== null && _b !== void 0 ? _b : [],\n            };\n            if (this.socket.accessToken) {\n                accessTokenPayload.access_token = this.socket.accessToken;\n            }\n            this.updateJoinPayload(Object.assign({ config }, accessTokenPayload));\n            this.joinedOnce = true;\n            this._rejoin(timeout);\n            this.joinPush\n                .receive('ok', ({ postgres_changes: serverPostgresFilters, }) => {\n                var _a;\n                this.socket.accessToken &&\n                    this.socket.setAuth(this.socket.accessToken);\n                if (serverPostgresFilters === undefined) {\n                    callback && callback('SUBSCRIBED');\n                    return;\n                }\n                else {\n                    const clientPostgresBindings = this.bindings.postgres_changes;\n                    const bindingsLen = (_a = clientPostgresBindings === null || clientPostgresBindings === void 0 ? void 0 : clientPostgresBindings.length) !== null && _a !== void 0 ? _a : 0;\n                    const newPostgresBindings = [];\n                    for (let i = 0; i < bindingsLen; i++) {\n                        const clientPostgresBinding = clientPostgresBindings[i];\n                        const { filter: { event, schema, table, filter }, } = clientPostgresBinding;\n                        const serverPostgresFilter = serverPostgresFilters && serverPostgresFilters[i];\n                        if (serverPostgresFilter &&\n                            serverPostgresFilter.event === event &&\n                            serverPostgresFilter.schema === schema &&\n                            serverPostgresFilter.table === table &&\n                            serverPostgresFilter.filter === filter) {\n                            newPostgresBindings.push(Object.assign(Object.assign({}, clientPostgresBinding), { id: serverPostgresFilter.id }));\n                        }\n                        else {\n                            this.unsubscribe();\n                            callback &&\n                                callback('CHANNEL_ERROR', new Error('mismatch between server and client bindings for postgres changes'));\n                            return;\n                        }\n                    }\n                    this.bindings.postgres_changes = newPostgresBindings;\n                    callback && callback('SUBSCRIBED');\n                    return;\n                }\n            })\n                .receive('error', (error) => {\n                callback &&\n                    callback('CHANNEL_ERROR', new Error(JSON.stringify(Object.values(error).join(', ') || 'error')));\n                return;\n            })\n                .receive('timeout', () => {\n                callback && callback('TIMED_OUT');\n                return;\n            });\n        }\n        return this;\n    }\n    presenceState() {\n        return this.presence.state;\n    }\n    track(payload, opts = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.send({\n                type: 'presence',\n                event: 'track',\n                payload,\n            }, opts.timeout || this.timeout);\n        });\n    }\n    untrack(opts = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.send({\n                type: 'presence',\n                event: 'untrack',\n            }, opts);\n        });\n    }\n    on(type, filter, callback) {\n        return this._on(type, filter, callback);\n    }\n    send(payload, opts = {}) {\n        return new Promise((resolve) => {\n            var _a, _b, _c;\n            const push = this._push(payload.type, payload, opts.timeout || this.timeout);\n            if (push.rateLimited) {\n                resolve('rate limited');\n            }\n            if (payload.type === 'broadcast' &&\n                !((_c = (_b = (_a = this.params) === null || _a === void 0 ? void 0 : _a.config) === null || _b === void 0 ? void 0 : _b.broadcast) === null || _c === void 0 ? void 0 : _c.ack)) {\n                resolve('ok');\n            }\n            push.receive('ok', () => resolve('ok'));\n            push.receive('timeout', () => resolve('timed out'));\n        });\n    }\n    updateJoinPayload(payload) {\n        this.joinPush.updatePayload(payload);\n    }\n    /**\n     * Leaves the channel.\n     *\n     * Unsubscribes from server events, and instructs channel to terminate on server.\n     * Triggers onClose() hooks.\n     *\n     * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n     * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n     */\n    unsubscribe(timeout = this.timeout) {\n        this.state = CHANNEL_STATES.leaving;\n        const onClose = () => {\n            this.socket.log('channel', `leave ${this.topic}`);\n            this._trigger(CHANNEL_EVENTS.close, 'leave', this._joinRef());\n        };\n        this.rejoinTimer.reset();\n        // Destroy joinPush to avoid connection timeouts during unscription phase\n        this.joinPush.destroy();\n        return new Promise((resolve) => {\n            const leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout);\n            leavePush\n                .receive('ok', () => {\n                onClose();\n                resolve('ok');\n            })\n                .receive('timeout', () => {\n                onClose();\n                resolve('timed out');\n            })\n                .receive('error', () => {\n                resolve('error');\n            });\n            leavePush.send();\n            if (!this._canPush()) {\n                leavePush.trigger('ok', {});\n            }\n        });\n    }\n    /** @internal */\n    _push(event, payload, timeout = this.timeout) {\n        if (!this.joinedOnce) {\n            throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;\n        }\n        let pushEvent = new Push(this, event, payload, timeout);\n        if (this._canPush()) {\n            pushEvent.send();\n        }\n        else {\n            pushEvent.startTimeout();\n            this.pushBuffer.push(pushEvent);\n        }\n        return pushEvent;\n    }\n    /**\n     * Overridable message hook\n     *\n     * Receives all events for specialized message handling before dispatching to the channel callbacks.\n     * Must return the payload, modified or unmodified.\n     *\n     * @internal\n     */\n    _onMessage(_event, payload, _ref) {\n        return payload;\n    }\n    /** @internal */\n    _isMember(topic) {\n        return this.topic === topic;\n    }\n    /** @internal */\n    _joinRef() {\n        return this.joinPush.ref;\n    }\n    /** @internal */\n    _trigger(type, payload, ref) {\n        var _a, _b;\n        const typeLower = type.toLocaleLowerCase();\n        const { close, error, leave, join } = CHANNEL_EVENTS;\n        const events = [close, error, leave, join];\n        if (ref && events.indexOf(typeLower) >= 0 && ref !== this._joinRef()) {\n            return;\n        }\n        let handledPayload = this._onMessage(typeLower, payload, ref);\n        if (payload && !handledPayload) {\n            throw 'channel onMessage callbacks must return the payload, modified or unmodified';\n        }\n        if (['insert', 'update', 'delete'].includes(typeLower)) {\n            (_a = this.bindings.postgres_changes) === null || _a === void 0 ? void 0 : _a.filter((bind) => {\n                var _a, _b, _c;\n                return (((_a = bind.filter) === null || _a === void 0 ? void 0 : _a.event) === '*' ||\n                    ((_c = (_b = bind.filter) === null || _b === void 0 ? void 0 : _b.event) === null || _c === void 0 ? void 0 : _c.toLocaleLowerCase()) === typeLower);\n            }).map((bind) => bind.callback(handledPayload, ref));\n        }\n        else {\n            (_b = this.bindings[typeLower]) === null || _b === void 0 ? void 0 : _b.filter((bind) => {\n                var _a, _b, _c, _d, _e, _f;\n                if (['broadcast', 'presence', 'postgres_changes'].includes(typeLower)) {\n                    if ('id' in bind) {\n                        const bindId = bind.id;\n                        const bindEvent = (_a = bind.filter) === null || _a === void 0 ? void 0 : _a.event;\n                        return (bindId &&\n                            ((_b = payload.ids) === null || _b === void 0 ? void 0 : _b.includes(bindId)) &&\n                            (bindEvent === '*' ||\n                                (bindEvent === null || bindEvent === void 0 ? void 0 : bindEvent.toLocaleLowerCase()) ===\n                                    ((_c = payload.data) === null || _c === void 0 ? void 0 : _c.type.toLocaleLowerCase())));\n                    }\n                    else {\n                        const bindEvent = (_e = (_d = bind === null || bind === void 0 ? void 0 : bind.filter) === null || _d === void 0 ? void 0 : _d.event) === null || _e === void 0 ? void 0 : _e.toLocaleLowerCase();\n                        return (bindEvent === '*' ||\n                            bindEvent === ((_f = payload === null || payload === void 0 ? void 0 : payload.event) === null || _f === void 0 ? void 0 : _f.toLocaleLowerCase()));\n                    }\n                }\n                else {\n                    return bind.type.toLocaleLowerCase() === typeLower;\n                }\n            }).map((bind) => {\n                if (typeof handledPayload === 'object' && 'ids' in handledPayload) {\n                    const postgresChanges = handledPayload.data;\n                    const { schema, table, commit_timestamp, type, errors } = postgresChanges;\n                    const enrichedPayload = {\n                        schema: schema,\n                        table: table,\n                        commit_timestamp: commit_timestamp,\n                        eventType: type,\n                        new: {},\n                        old: {},\n                        errors: errors,\n                    };\n                    handledPayload = Object.assign(Object.assign({}, enrichedPayload), this._getPayloadRecords(postgresChanges));\n                }\n                bind.callback(handledPayload, ref);\n            });\n        }\n    }\n    /** @internal */\n    _isClosed() {\n        return this.state === CHANNEL_STATES.closed;\n    }\n    /** @internal */\n    _isJoined() {\n        return this.state === CHANNEL_STATES.joined;\n    }\n    /** @internal */\n    _isJoining() {\n        return this.state === CHANNEL_STATES.joining;\n    }\n    /** @internal */\n    _isLeaving() {\n        return this.state === CHANNEL_STATES.leaving;\n    }\n    /** @internal */\n    _replyEventName(ref) {\n        return `chan_reply_${ref}`;\n    }\n    /** @internal */\n    _on(type, filter, callback) {\n        const typeLower = type.toLocaleLowerCase();\n        const binding = {\n            type: typeLower,\n            filter: filter,\n            callback: callback,\n        };\n        if (this.bindings[typeLower]) {\n            this.bindings[typeLower].push(binding);\n        }\n        else {\n            this.bindings[typeLower] = [binding];\n        }\n        return this;\n    }\n    /** @internal */\n    _off(type, filter) {\n        const typeLower = type.toLocaleLowerCase();\n        this.bindings[typeLower] = this.bindings[typeLower].filter((bind) => {\n            var _a;\n            return !(((_a = bind.type) === null || _a === void 0 ? void 0 : _a.toLocaleLowerCase()) === typeLower &&\n                RealtimeChannel.isEqual(bind.filter, filter));\n        });\n        return this;\n    }\n    /** @internal */\n    static isEqual(obj1, obj2) {\n        if (Object.keys(obj1).length !== Object.keys(obj2).length) {\n            return false;\n        }\n        for (const k in obj1) {\n            if (obj1[k] !== obj2[k]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /** @internal */\n    _rejoinUntilConnected() {\n        this.rejoinTimer.scheduleTimeout();\n        if (this.socket.isConnected()) {\n            this._rejoin();\n        }\n    }\n    /**\n     * Registers a callback that will be executed when the channel closes.\n     *\n     * @internal\n     */\n    _onClose(callback) {\n        this._on(CHANNEL_EVENTS.close, {}, callback);\n    }\n    /**\n     * Registers a callback that will be executed when the channel encounteres an error.\n     *\n     * @internal\n     */\n    _onError(callback) {\n        this._on(CHANNEL_EVENTS.error, {}, (reason) => callback(reason));\n    }\n    /**\n     * Returns `true` if the socket is connected and the channel has been joined.\n     *\n     * @internal\n     */\n    _canPush() {\n        return this.socket.isConnected() && this._isJoined();\n    }\n    /** @internal */\n    _rejoin(timeout = this.timeout) {\n        if (this._isLeaving()) {\n            return;\n        }\n        this.socket._leaveOpenTopic(this.topic);\n        this.state = CHANNEL_STATES.joining;\n        this.joinPush.resend(timeout);\n    }\n    /** @internal */\n    _getPayloadRecords(payload) {\n        const records = {\n            new: {},\n            old: {},\n        };\n        if (payload.type === 'INSERT' || payload.type === 'UPDATE') {\n            records.new = Transformers.convertChangeData(payload.columns, payload.record);\n        }\n        if (payload.type === 'UPDATE' || payload.type === 'DELETE') {\n            records.old = Transformers.convertChangeData(payload.columns, payload.old_record);\n        }\n        return records;\n    }\n}\n//# sourceMappingURL=RealtimeChannel.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { w3cwebsocket } from 'websocket';\nimport { VSN, CHANNEL_EVENTS, TRANSPORTS, SOCKET_STATES, DEFAULT_TIMEOUT, WS_CLOSE_NORMAL, DEFAULT_HEADERS, CONNECTION_STATE, } from './lib/constants';\nimport Timer from './lib/timer';\nimport Serializer from './lib/serializer';\nimport RealtimeChannel from './RealtimeChannel';\nconst noop = () => { };\nexport default class RealtimeClient {\n    /**\n     * Initializes the Socket.\n     *\n     * @param endPoint The string WebSocket endpoint, ie, \"ws://example.com/socket\", \"wss://example.com\", \"/socket\" (inherited host & protocol)\n     * @param options.transport The Websocket Transport, for example WebSocket.\n     * @param options.timeout The default timeout in milliseconds to trigger push timeouts.\n     * @param options.params The optional params to pass when connecting.\n     * @param options.headers The optional headers to pass when connecting.\n     * @param options.heartbeatIntervalMs The millisec interval to send a heartbeat message.\n     * @param options.logger The optional function for specialized logging, ie: logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n     * @param options.encode The function to encode outgoing messages. Defaults to JSON: (payload, callback) => callback(JSON.stringify(payload))\n     * @param options.decode The function to decode incoming messages. Defaults to Serializer's decode.\n     * @param options.reconnectAfterMs he optional function that returns the millsec reconnect interval. Defaults to stepped backoff off.\n     */\n    constructor(endPoint, options) {\n        var _a;\n        this.accessToken = null;\n        this.channels = [];\n        this.endPoint = '';\n        this.headers = DEFAULT_HEADERS;\n        this.params = {};\n        this.timeout = DEFAULT_TIMEOUT;\n        this.transport = w3cwebsocket;\n        this.heartbeatIntervalMs = 30000;\n        this.heartbeatTimer = undefined;\n        this.pendingHeartbeatRef = null;\n        this.ref = 0;\n        this.logger = noop;\n        this.conn = null;\n        this.sendBuffer = [];\n        this.serializer = new Serializer();\n        this.stateChangeCallbacks = {\n            open: [],\n            close: [],\n            error: [],\n            message: [],\n        };\n        this.eventsPerSecondLimitMs = 100;\n        this.inThrottle = false;\n        this.endPoint = `${endPoint}/${TRANSPORTS.websocket}`;\n        if (options === null || options === void 0 ? void 0 : options.params)\n            this.params = options.params;\n        if (options === null || options === void 0 ? void 0 : options.headers)\n            this.headers = Object.assign(Object.assign({}, this.headers), options.headers);\n        if (options === null || options === void 0 ? void 0 : options.timeout)\n            this.timeout = options.timeout;\n        if (options === null || options === void 0 ? void 0 : options.logger)\n            this.logger = options.logger;\n        if (options === null || options === void 0 ? void 0 : options.transport)\n            this.transport = options.transport;\n        if (options === null || options === void 0 ? void 0 : options.heartbeatIntervalMs)\n            this.heartbeatIntervalMs = options.heartbeatIntervalMs;\n        const eventsPerSecond = (_a = options === null || options === void 0 ? void 0 : options.params) === null || _a === void 0 ? void 0 : _a.eventsPerSecond;\n        if (eventsPerSecond)\n            this.eventsPerSecondLimitMs = Math.floor(1000 / eventsPerSecond);\n        this.reconnectAfterMs = (options === null || options === void 0 ? void 0 : options.reconnectAfterMs)\n            ? options.reconnectAfterMs\n            : (tries) => {\n                return [1000, 2000, 5000, 10000][tries - 1] || 10000;\n            };\n        this.encode = (options === null || options === void 0 ? void 0 : options.encode)\n            ? options.encode\n            : (payload, callback) => {\n                return callback(JSON.stringify(payload));\n            };\n        this.decode = (options === null || options === void 0 ? void 0 : options.decode)\n            ? options.decode\n            : this.serializer.decode.bind(this.serializer);\n        this.reconnectTimer = new Timer(() => __awaiter(this, void 0, void 0, function* () {\n            this.disconnect();\n            this.connect();\n        }), this.reconnectAfterMs);\n    }\n    /**\n     * Connects the socket, unless already connected.\n     */\n    connect() {\n        if (this.conn) {\n            return;\n        }\n        this.conn = new this.transport(this._endPointURL(), [], null, this.headers);\n        if (this.conn) {\n            this.conn.binaryType = 'arraybuffer';\n            this.conn.onopen = () => this._onConnOpen();\n            this.conn.onerror = (error) => this._onConnError(error);\n            this.conn.onmessage = (event) => this._onConnMessage(event);\n            this.conn.onclose = (event) => this._onConnClose(event);\n        }\n    }\n    /**\n     * Disconnects the socket.\n     *\n     * @param code A numeric status code to send on disconnect.\n     * @param reason A custom reason for the disconnect.\n     */\n    disconnect(code, reason) {\n        if (this.conn) {\n            this.conn.onclose = function () { }; // noop\n            if (code) {\n                this.conn.close(code, reason !== null && reason !== void 0 ? reason : '');\n            }\n            else {\n                this.conn.close();\n            }\n            this.conn = null;\n            // remove open handles\n            this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n            this.reconnectTimer.reset();\n        }\n    }\n    getChannels() {\n        return this.channels;\n    }\n    removeChannel(channel) {\n        return channel.unsubscribe().then((status) => {\n            if (this.channels.length === 0) {\n                this.disconnect();\n            }\n            return status;\n        });\n    }\n    removeAllChannels() {\n        return Promise.all(this.channels.map((channel) => channel.unsubscribe())).then((values) => {\n            this.disconnect();\n            return values;\n        });\n    }\n    /**\n     * Logs the message.\n     *\n     * For customized logging, `this.logger` can be overriden.\n     */\n    log(kind, msg, data) {\n        this.logger(kind, msg, data);\n    }\n    /**\n     * Returns the current state of the socket.\n     */\n    connectionState() {\n        switch (this.conn && this.conn.readyState) {\n            case SOCKET_STATES.connecting:\n                return CONNECTION_STATE.Connecting;\n            case SOCKET_STATES.open:\n                return CONNECTION_STATE.Open;\n            case SOCKET_STATES.closing:\n                return CONNECTION_STATE.Closing;\n            default:\n                return CONNECTION_STATE.Closed;\n        }\n    }\n    /**\n     * Retuns `true` is the connection is open.\n     */\n    isConnected() {\n        return this.connectionState() === CONNECTION_STATE.Open;\n    }\n    channel(topic, params = { config: {} }) {\n        if (!this.isConnected()) {\n            this.connect();\n        }\n        const chan = new RealtimeChannel(`realtime:${topic}`, params, this);\n        this.channels.push(chan);\n        return chan;\n    }\n    /**\n     * Push out a message if the socket is connected.\n     *\n     * If the socket is not connected, the message gets enqueued within a local buffer, and sent out when a connection is next established.\n     */\n    push(data) {\n        const { topic, event, payload, ref } = data;\n        let callback = () => {\n            this.encode(data, (result) => {\n                var _a;\n                (_a = this.conn) === null || _a === void 0 ? void 0 : _a.send(result);\n            });\n        };\n        this.log('push', `${topic} ${event} (${ref})`, payload);\n        if (this.isConnected()) {\n            if (['broadcast', 'presence', 'postgres_changes'].includes(event)) {\n                const isThrottled = this._throttle(callback)();\n                if (isThrottled) {\n                    return 'rate limited';\n                }\n            }\n            else {\n                callback();\n            }\n        }\n        else {\n            this.sendBuffer.push(callback);\n        }\n    }\n    /**\n     * Sets the JWT access token used for channel subscription authorization and Realtime RLS.\n     *\n     * @param token A JWT string.\n     */\n    setAuth(token) {\n        this.accessToken = token;\n        this.channels.forEach((channel) => {\n            token && channel.updateJoinPayload({ access_token: token });\n            if (channel.joinedOnce && channel._isJoined()) {\n                channel._push(CHANNEL_EVENTS.access_token, { access_token: token });\n            }\n        });\n    }\n    /**\n     * Return the next message ref, accounting for overflows\n     *\n     * @internal\n     */\n    _makeRef() {\n        let newRef = this.ref + 1;\n        if (newRef === this.ref) {\n            this.ref = 0;\n        }\n        else {\n            this.ref = newRef;\n        }\n        return this.ref.toString();\n    }\n    /**\n     * Unsubscribe from channels with the specified topic.\n     *\n     * @internal\n     */\n    _leaveOpenTopic(topic) {\n        let dupChannel = this.channels.find((c) => c.topic === topic && (c._isJoined() || c._isJoining()));\n        if (dupChannel) {\n            this.log('transport', `leaving duplicate topic \"${topic}\"`);\n            dupChannel.unsubscribe();\n        }\n    }\n    /**\n     * Removes a subscription from the socket.\n     *\n     * @param channel An open subscription.\n     *\n     * @internal\n     */\n    _remove(channel) {\n        this.channels = this.channels.filter((c) => c._joinRef() !== channel._joinRef());\n    }\n    /**\n     * Returns the URL of the websocket.\n     *\n     * @internal\n     */\n    _endPointURL() {\n        return this._appendParams(this.endPoint, Object.assign({}, this.params, { vsn: VSN }));\n    }\n    /** @internal */\n    _onConnMessage(rawMessage) {\n        this.decode(rawMessage.data, (msg) => {\n            let { topic, event, payload, ref } = msg;\n            if ((ref && ref === this.pendingHeartbeatRef) ||\n                event === (payload === null || payload === void 0 ? void 0 : payload.type)) {\n                this.pendingHeartbeatRef = null;\n            }\n            this.log('receive', `${payload.status || ''} ${topic} ${event} ${(ref && '(' + ref + ')') || ''}`, payload);\n            this.channels\n                .filter((channel) => channel._isMember(topic))\n                .forEach((channel) => channel._trigger(event, payload, ref));\n            this.stateChangeCallbacks.message.forEach((callback) => callback(msg));\n        });\n    }\n    /** @internal */\n    _onConnOpen() {\n        this.log('transport', `connected to ${this._endPointURL()}`);\n        this._flushSendBuffer();\n        this.reconnectTimer.reset();\n        this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n        this.heartbeatTimer = setInterval(() => this._sendHeartbeat(), this.heartbeatIntervalMs);\n        this.stateChangeCallbacks.open.forEach((callback) => callback());\n    }\n    /** @internal */\n    _onConnClose(event) {\n        this.log('transport', 'close', event);\n        this._triggerChanError();\n        this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n        this.reconnectTimer.scheduleTimeout();\n        this.stateChangeCallbacks.close.forEach((callback) => callback(event));\n    }\n    /** @internal */\n    _onConnError(error) {\n        this.log('transport', error.message);\n        this._triggerChanError();\n        this.stateChangeCallbacks.error.forEach((callback) => callback(error));\n    }\n    /** @internal */\n    _triggerChanError() {\n        this.channels.forEach((channel) => channel._trigger(CHANNEL_EVENTS.error));\n    }\n    /** @internal */\n    _appendParams(url, params) {\n        if (Object.keys(params).length === 0) {\n            return url;\n        }\n        const prefix = url.match(/\\?/) ? '&' : '?';\n        const query = new URLSearchParams(params);\n        return `${url}${prefix}${query}`;\n    }\n    /** @internal */\n    _flushSendBuffer() {\n        if (this.isConnected() && this.sendBuffer.length > 0) {\n            this.sendBuffer.forEach((callback) => callback());\n            this.sendBuffer = [];\n        }\n    }\n    /** @internal */\n    _sendHeartbeat() {\n        var _a;\n        if (!this.isConnected()) {\n            return;\n        }\n        if (this.pendingHeartbeatRef) {\n            this.pendingHeartbeatRef = null;\n            this.log('transport', 'heartbeat timeout. Attempting to re-establish connection');\n            (_a = this.conn) === null || _a === void 0 ? void 0 : _a.close(WS_CLOSE_NORMAL, 'hearbeat timeout');\n            return;\n        }\n        this.pendingHeartbeatRef = this._makeRef();\n        this.push({\n            topic: 'phoenix',\n            event: 'heartbeat',\n            payload: {},\n            ref: this.pendingHeartbeatRef,\n        });\n        this.setAuth(this.accessToken);\n    }\n    /** @internal */\n    _throttle(callback, eventsPerSecondLimit = this.eventsPerSecondLimitMs) {\n        return () => {\n            if (this.inThrottle)\n                return true;\n            callback();\n            this.inThrottle = true;\n            setTimeout(() => {\n                this.inThrottle = false;\n            }, eventsPerSecondLimit);\n            return false;\n        };\n    }\n}\n//# sourceMappingURL=RealtimeClient.js.map","export class StorageError extends Error {\n    constructor(message) {\n        super(message);\n        this.__isStorageError = true;\n        this.name = 'StorageError';\n    }\n}\nexport function isStorageError(error) {\n    return typeof error === 'object' && error !== null && '__isStorageError' in error;\n}\nexport class StorageApiError extends StorageError {\n    constructor(message, status) {\n        super(message);\n        this.name = 'StorageApiError';\n        this.status = status;\n    }\n    toJSON() {\n        return {\n            name: this.name,\n            message: this.message,\n            status: this.status,\n        };\n    }\n}\nexport class StorageUnknownError extends StorageError {\n    constructor(message, originalError) {\n        super(message);\n        this.name = 'StorageUnknownError';\n        this.originalError = originalError;\n    }\n}\n//# sourceMappingURL=errors.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => __awaiter(void 0, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\nexport const resolveResponse = () => __awaiter(void 0, void 0, void 0, function* () {\n    if (typeof Response === 'undefined') {\n        return (yield import('cross-fetch')).Response;\n    }\n    return Response;\n});\n//# sourceMappingURL=helpers.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { StorageApiError, StorageUnknownError } from './errors';\nimport { resolveResponse } from './helpers';\nconst _getErrorMessage = (err) => err.msg || err.message || err.error_description || err.error || JSON.stringify(err);\nconst handleError = (error, reject) => __awaiter(void 0, void 0, void 0, function* () {\n    const Res = yield resolveResponse();\n    if (error instanceof Res) {\n        error.json().then((err) => {\n            reject(new StorageApiError(_getErrorMessage(err), error.status || 500));\n        });\n    }\n    else {\n        reject(new StorageUnknownError(_getErrorMessage(error), error));\n    }\n});\nconst _getRequestParams = (method, options, parameters, body) => {\n    const params = { method, headers: (options === null || options === void 0 ? void 0 : options.headers) || {} };\n    if (method === 'GET') {\n        return params;\n    }\n    params.headers = Object.assign({ 'Content-Type': 'application/json' }, options === null || options === void 0 ? void 0 : options.headers);\n    params.body = JSON.stringify(body);\n    return Object.assign(Object.assign({}, params), parameters);\n};\nfunction _handleRequest(fetcher, method, url, options, parameters, body) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            fetcher(url, _getRequestParams(method, options, parameters, body))\n                .then((result) => {\n                if (!result.ok)\n                    throw result;\n                if (options === null || options === void 0 ? void 0 : options.noResolveJson)\n                    return result;\n                return result.json();\n            })\n                .then((data) => resolve(data))\n                .catch((error) => handleError(error, reject));\n        });\n    });\n}\nexport function get(fetcher, url, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'GET', url, options, parameters);\n    });\n}\nexport function post(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'POST', url, options, parameters, body);\n    });\n}\nexport function put(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'PUT', url, options, parameters, body);\n    });\n}\nexport function remove(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'DELETE', url, options, parameters, body);\n    });\n}\n//# sourceMappingURL=fetch.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { isStorageError } from '../lib/errors';\nimport { get, post, remove } from '../lib/fetch';\nimport { resolveFetch } from '../lib/helpers';\nconst DEFAULT_SEARCH_OPTIONS = {\n    limit: 100,\n    offset: 0,\n    sortBy: {\n        column: 'name',\n        order: 'asc',\n    },\n};\nconst DEFAULT_FILE_OPTIONS = {\n    cacheControl: '3600',\n    contentType: 'text/plain;charset=UTF-8',\n    upsert: false,\n};\nexport default class StorageFileApi {\n    constructor(url, headers = {}, bucketId, fetch) {\n        this.url = url;\n        this.headers = headers;\n        this.bucketId = bucketId;\n        this.fetch = resolveFetch(fetch);\n    }\n    /**\n     * Uploads a file to an existing bucket or replaces an existing file at the specified path with a new one.\n     *\n     * @param method HTTP method.\n     * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param fileBody The body of the file to be stored in the bucket.\n     */\n    uploadOrUpdate(method, path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                let body;\n                const options = Object.assign(Object.assign({}, DEFAULT_FILE_OPTIONS), fileOptions);\n                const headers = Object.assign(Object.assign({}, this.headers), (method === 'POST' && { 'x-upsert': String(options.upsert) }));\n                if (typeof Blob !== 'undefined' && fileBody instanceof Blob) {\n                    body = new FormData();\n                    body.append('cacheControl', options.cacheControl);\n                    body.append('', fileBody);\n                }\n                else if (typeof FormData !== 'undefined' && fileBody instanceof FormData) {\n                    body = fileBody;\n                    body.append('cacheControl', options.cacheControl);\n                }\n                else {\n                    body = fileBody;\n                    headers['cache-control'] = `max-age=${options.cacheControl}`;\n                    headers['content-type'] = options.contentType;\n                }\n                const cleanPath = this._removeEmptyFolders(path);\n                const _path = this._getFinalPath(cleanPath);\n                const res = yield this.fetch(`${this.url}/object/${_path}`, {\n                    method,\n                    body: body,\n                    headers,\n                });\n                if (res.ok) {\n                    return {\n                        data: { path: cleanPath },\n                        error: null,\n                    };\n                }\n                else {\n                    const error = yield res.json();\n                    return { data: null, error };\n                }\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Uploads a file to an existing bucket.\n     *\n     * @param path The file path, including the file name. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param fileBody The body of the file to be stored in the bucket.\n     */\n    upload(path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.uploadOrUpdate('POST', path, fileBody, fileOptions);\n        });\n    }\n    /**\n     * Replaces an existing file at the specified path with a new one.\n     *\n     * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to update.\n     * @param fileBody The body of the file to be stored in the bucket.\n     */\n    update(path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.uploadOrUpdate('PUT', path, fileBody, fileOptions);\n        });\n    }\n    /**\n     * Moves an existing file to a new path in the same bucket.\n     *\n     * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n     * @param toPath The new file path, including the new file name. For example `folder/image-new.png`.\n     */\n    move(fromPath, toPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/move`, { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Copies an existing file to a new path in the same bucket.\n     *\n     * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n     * @param toPath The new file path, including the new file name. For example `folder/image-copy.png`.\n     */\n    copy(fromPath, toPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/copy`, { bucketId: this.bucketId, sourceKey: fromPath, destinationKey: toPath }, { headers: this.headers });\n                return { data: { path: data.Key }, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Creates a signed URL. Use a signed URL to share a file for a fixed amount of time.\n     *\n     * @param path The file path, including the current file name. For example `folder/image.png`.\n     * @param expiresIn The number of seconds until the signed URL expires. For example, `60` for a URL which is valid for one minute.\n     * @param options.download triggers the file as a download if set to true. Set this parameter as the name of the file if you want to trigger the download with a different filename.\n     * @param options.transform Transform the asset before serving it to the client.\n     */\n    createSignedUrl(path, expiresIn, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                let _path = this._getFinalPath(path);\n                let data = yield post(this.fetch, `${this.url}/object/sign/${_path}`, Object.assign({ expiresIn }, ((options === null || options === void 0 ? void 0 : options.transform) ? { transform: options.transform } : {})), { headers: this.headers });\n                const downloadQueryParam = (options === null || options === void 0 ? void 0 : options.download)\n                    ? `&download=${options.download === true ? '' : options.download}`\n                    : '';\n                const signedUrl = encodeURI(`${this.url}${data.signedURL}${downloadQueryParam}`);\n                data = { signedUrl };\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Creates multiple signed URLs. Use a signed URL to share a file for a fixed amount of time.\n     *\n     * @param paths The file paths to be downloaded, including the current file names. For example `['folder/image.png', 'folder2/image2.png']`.\n     * @param expiresIn The number of seconds until the signed URLs expire. For example, `60` for URLs which are valid for one minute.\n     * @param options.download triggers the file as a download if set to true. Set this parameter as the name of the file if you want to trigger the download with a different filename.\n     */\n    createSignedUrls(paths, expiresIn, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/sign/${this.bucketId}`, { expiresIn, paths }, { headers: this.headers });\n                const downloadQueryParam = (options === null || options === void 0 ? void 0 : options.download)\n                    ? `&download=${options.download === true ? '' : options.download}`\n                    : '';\n                return {\n                    data: data.map((datum) => (Object.assign(Object.assign({}, datum), { signedUrl: datum.signedURL\n                            ? encodeURI(`${this.url}${datum.signedURL}${downloadQueryParam}`)\n                            : null }))),\n                    error: null,\n                };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Downloads a file.\n     *\n     * @param path The full path and file name of the file to be downloaded. For example `folder/image.png`.\n     * @param options.transform Transform the asset before serving it to the client.\n     */\n    download(path, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const wantsTransformation = typeof (options === null || options === void 0 ? void 0 : options.transform) !== 'undefined';\n            const renderPath = wantsTransformation ? 'render/image/authenticated' : 'object';\n            const transformationQuery = this.transformOptsToQueryString((options === null || options === void 0 ? void 0 : options.transform) || {});\n            const queryString = transformationQuery ? `?${transformationQuery}` : '';\n            try {\n                const _path = this._getFinalPath(path);\n                const res = yield get(this.fetch, `${this.url}/${renderPath}/${_path}${queryString}`, {\n                    headers: this.headers,\n                    noResolveJson: true,\n                });\n                const data = yield res.blob();\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Retrieves the URL for an asset in a public bucket.\n     * This function does not verify if the bucket is public. If a public URL is created for a bucket which is not public, you will not be able to download the asset.\n     *\n     * @param path The path and name of the file to generate the public URL for. For example `folder/image.png`.\n     * @param options.download Triggers the file as a download if set to true. Set this parameter as the name of the file if you want to trigger the download with a different filename.\n     * @param options.transform Transform the asset before serving it to the client.\n     */\n    getPublicUrl(path, options) {\n        const _path = this._getFinalPath(path);\n        const _queryString = [];\n        const downloadQueryParam = (options === null || options === void 0 ? void 0 : options.download)\n            ? `download=${options.download === true ? '' : options.download}`\n            : '';\n        if (downloadQueryParam !== '') {\n            _queryString.push(downloadQueryParam);\n        }\n        const wantsTransformation = typeof (options === null || options === void 0 ? void 0 : options.transform) !== 'undefined';\n        const renderPath = wantsTransformation ? 'render/image' : 'object';\n        const transformationQuery = this.transformOptsToQueryString((options === null || options === void 0 ? void 0 : options.transform) || {});\n        if (transformationQuery !== '') {\n            _queryString.push(transformationQuery);\n        }\n        let queryString = _queryString.join('&');\n        if (queryString !== '') {\n            queryString = `?${queryString}`;\n        }\n        return {\n            data: { publicUrl: encodeURI(`${this.url}/${renderPath}/public/${_path}${queryString}`) },\n        };\n    }\n    /**\n     * Deletes files within the same bucket\n     *\n     * @param paths An array of files to delete, including the path and file name. For example [`'folder/image.png'`].\n     */\n    remove(paths) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/object/${this.bucketId}`, { prefixes: paths }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Get file metadata\n     * @param id the file id to retrieve metadata\n     */\n    // async getMetadata(\n    //   id: string\n    // ): Promise<\n    //   | {\n    //       data: Metadata\n    //       error: null\n    //     }\n    //   | {\n    //       data: null\n    //       error: StorageError\n    //     }\n    // > {\n    //   try {\n    //     const data = await get(this.fetch, `${this.url}/metadata/${id}`, { headers: this.headers })\n    //     return { data, error: null }\n    //   } catch (error) {\n    //     if (isStorageError(error)) {\n    //       return { data: null, error }\n    //     }\n    //     throw error\n    //   }\n    // }\n    /**\n     * Update file metadata\n     * @param id the file id to update metadata\n     * @param meta the new file metadata\n     */\n    // async updateMetadata(\n    //   id: string,\n    //   meta: Metadata\n    // ): Promise<\n    //   | {\n    //       data: Metadata\n    //       error: null\n    //     }\n    //   | {\n    //       data: null\n    //       error: StorageError\n    //     }\n    // > {\n    //   try {\n    //     const data = await post(\n    //       this.fetch,\n    //       `${this.url}/metadata/${id}`,\n    //       { ...meta },\n    //       { headers: this.headers }\n    //     )\n    //     return { data, error: null }\n    //   } catch (error) {\n    //     if (isStorageError(error)) {\n    //       return { data: null, error }\n    //     }\n    //     throw error\n    //   }\n    // }\n    /**\n     * Lists all the files within a bucket.\n     * @param path The folder path.\n     */\n    list(path, options, parameters) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const body = Object.assign(Object.assign(Object.assign({}, DEFAULT_SEARCH_OPTIONS), options), { prefix: path || '' });\n                const data = yield post(this.fetch, `${this.url}/object/list/${this.bucketId}`, body, { headers: this.headers }, parameters);\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    _getFinalPath(path) {\n        return `${this.bucketId}/${path}`;\n    }\n    _removeEmptyFolders(path) {\n        return path.replace(/^\\/|\\/$/g, '').replace(/\\/+/g, '/');\n    }\n    transformOptsToQueryString(transform) {\n        const params = [];\n        if (transform.width) {\n            params.push(`width=${transform.width}`);\n        }\n        if (transform.height) {\n            params.push(`height=${transform.height}`);\n        }\n        if (transform.resize) {\n            params.push(`resize=${transform.resize}`);\n        }\n        return params.join('&');\n    }\n}\n//# sourceMappingURL=StorageFileApi.js.map","// generated by genversion\nexport const version = '2.1.0';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `storage-js/${version}` };\n//# sourceMappingURL=constants.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { DEFAULT_HEADERS } from '../lib/constants';\nimport { isStorageError } from '../lib/errors';\nimport { get, post, put, remove } from '../lib/fetch';\nimport { resolveFetch } from '../lib/helpers';\nexport default class StorageBucketApi {\n    constructor(url, headers = {}, fetch) {\n        this.url = url;\n        this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), headers);\n        this.fetch = resolveFetch(fetch);\n    }\n    /**\n     * Retrieves the details of all Storage buckets within an existing project.\n     */\n    listBuckets() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/bucket`, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Retrieves the details of an existing Storage bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to retrieve.\n     */\n    getBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/bucket/${id}`, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Creates a new Storage bucket\n     *\n     * @param id A unique identifier for the bucket you are creating.\n     * @param options.public The visibility of the bucket. Public buckets don't require an authorization token to download objects, but still require a valid token for all other operations. By default, buckets are private.\n     * @returns newly created bucket id\n     */\n    createBucket(id, options = { public: false }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/bucket`, { id, name: id, public: options.public }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Updates a Storage bucket\n     *\n     * @param id A unique identifier for the bucket you are updating.\n     * @param options.public The visibility of the bucket. Public buckets don't require an authorization token to download objects, but still require a valid token for all other operations.\n     */\n    updateBucket(id, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield put(this.fetch, `${this.url}/bucket/${id}`, { id, name: id, public: options.public }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Removes all objects inside a single bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to empty.\n     */\n    emptyBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/bucket/${id}/empty`, {}, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Deletes an existing bucket. A bucket can't be deleted with existing objects inside it.\n     * You must first `empty()` the bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to delete.\n     */\n    deleteBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/bucket/${id}`, {}, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n}\n//# sourceMappingURL=StorageBucketApi.js.map","import StorageFileApi from './packages/StorageFileApi';\nimport StorageBucketApi from './packages/StorageBucketApi';\nexport class StorageClient extends StorageBucketApi {\n    constructor(url, headers = {}, fetch) {\n        super(url, headers, fetch);\n    }\n    /**\n     * Perform file operation in a bucket.\n     *\n     * @param id The bucket id to operate on.\n     */\n    from(id) {\n        return new StorageFileApi(this.url, this.headers, id, this.fetch);\n    }\n}\n//# sourceMappingURL=StorageClient.js.map","export const version = '2.2.1';\n//# sourceMappingURL=version.js.map","// constants.ts\nimport { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `supabase-js/${version}` };\n//# sourceMappingURL=constants.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport crossFetch, { Headers as CrossFetchHeaders } from 'cross-fetch';\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = crossFetch;\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\nexport const resolveHeadersConstructor = () => {\n    if (typeof Headers === 'undefined') {\n        return CrossFetchHeaders;\n    }\n    return Headers;\n};\nexport const fetchWithAuth = (supabaseKey, getAccessToken, customFetch) => {\n    const fetch = resolveFetch(customFetch);\n    const HeadersConstructor = resolveHeadersConstructor();\n    return (input, init) => __awaiter(void 0, void 0, void 0, function* () {\n        var _a;\n        const accessToken = (_a = (yield getAccessToken())) !== null && _a !== void 0 ? _a : supabaseKey;\n        let headers = new HeadersConstructor(init === null || init === void 0 ? void 0 : init.headers);\n        if (!headers.has('apikey')) {\n            headers.set('apikey', supabaseKey);\n        }\n        if (!headers.has('Authorization')) {\n            headers.set('Authorization', `Bearer ${accessToken}`);\n        }\n        return fetch(input, Object.assign(Object.assign({}, init), { headers }));\n    });\n};\n//# sourceMappingURL=fetch.js.map","export function uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\nexport function stripTrailingSlash(url) {\n    return url.replace(/\\/$/, '');\n}\nexport const isBrowser = () => typeof window !== 'undefined';\nexport function applySettingDefaults(options, defaults) {\n    const { db: dbOptions, auth: authOptions, realtime: realtimeOptions, global: globalOptions, } = options;\n    const { db: DEFAULT_DB_OPTIONS, auth: DEFAULT_AUTH_OPTIONS, realtime: DEFAULT_REALTIME_OPTIONS, global: DEFAULT_GLOBAL_OPTIONS, } = defaults;\n    return {\n        db: Object.assign(Object.assign({}, DEFAULT_DB_OPTIONS), dbOptions),\n        auth: Object.assign(Object.assign({}, DEFAULT_AUTH_OPTIONS), authOptions),\n        realtime: Object.assign(Object.assign({}, DEFAULT_REALTIME_OPTIONS), realtimeOptions),\n        global: Object.assign(Object.assign({}, DEFAULT_GLOBAL_OPTIONS), globalOptions),\n    };\n}\n//# sourceMappingURL=helpers.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport function expiresAt(expiresIn) {\n    const timeNow = Math.round(Date.now() / 1000);\n    return timeNow + expiresIn;\n}\nexport function uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        const r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\nexport const isBrowser = () => typeof document !== 'undefined';\nexport function getParameterByName(name, url) {\n    var _a;\n    if (!url)\n        url = ((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.href) || '';\n    // eslint-disable-next-line no-useless-escape\n    name = name.replace(/[\\[\\]]/g, '\\\\$&');\n    const regex = new RegExp('[?&#]' + name + '(=([^&#]*)|&|#|$)'), results = regex.exec(url);\n    if (!results)\n        return null;\n    if (!results[2])\n        return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => __awaiter(void 0, void 0, void 0, function* () { return yield (yield import('cross-fetch')).fetch(...args); });\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\nexport const looksLikeFetchResponse = (maybeResponse) => {\n    return (typeof maybeResponse === 'object' &&\n        maybeResponse !== null &&\n        'status' in maybeResponse &&\n        'ok' in maybeResponse &&\n        'json' in maybeResponse &&\n        typeof maybeResponse.json === 'function');\n};\n// Storage helpers\nexport const setItemAsync = (storage, key, data) => __awaiter(void 0, void 0, void 0, function* () {\n    yield storage.setItem(key, JSON.stringify(data));\n});\nexport const getItemAsync = (storage, key) => __awaiter(void 0, void 0, void 0, function* () {\n    const value = yield storage.getItem(key);\n    if (!value) {\n        return null;\n    }\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n});\nexport const removeItemAsync = (storage, key) => __awaiter(void 0, void 0, void 0, function* () {\n    yield storage.removeItem(key);\n});\nexport const decodeBase64URL = (value) => {\n    try {\n        // atob is present in all browsers and nodejs >= 16\n        // but if it is not it will throw a ReferenceError in which case we can try to use Buffer\n        // replace are here to convert the Base64-URL into Base64 which is what atob supports\n        // replace with //g regex acts like replaceAll\n        // Decoding base64 to UTF8 see https://stackoverflow.com/a/30106551/17622044\n        return decodeURIComponent(atob(value.replace(/[-]/g, '+').replace(/[_]/g, '/'))\n            .split('')\n            .map((c) => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2))\n            .join(''));\n    }\n    catch (e) {\n        if (e instanceof ReferenceError) {\n            // running on nodejs < 16\n            // Buffer supports Base64-URL transparently\n            return Buffer.from(value, 'base64').toString('utf-8');\n        }\n        else {\n            throw e;\n        }\n    }\n};\n/**\n * A deferred represents some asynchronous work that is not yet finished, which\n * may or may not culminate in a value.\n * Taken from: https://github.com/mike-north/types/blob/master/src/async.ts\n */\nexport class Deferred {\n    constructor() {\n        // eslint-disable-next-line @typescript-eslint/no-extra-semi\n        ;\n        this.promise = new Deferred.promiseConstructor((res, rej) => {\n            // eslint-disable-next-line @typescript-eslint/no-extra-semi\n            ;\n            this.resolve = res;\n            this.reject = rej;\n        });\n    }\n}\nDeferred.promiseConstructor = Promise;\n// Taken from: https://stackoverflow.com/questions/38552003/how-to-decode-jwt-token-in-javascript-without-using-a-library\nexport function decodeJWTPayload(token) {\n    // Regex checks for base64url format\n    const base64UrlRegex = /^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i;\n    const parts = token.split('.');\n    if (parts.length !== 3) {\n        throw new Error('JWT is not valid: not a JWT structure');\n    }\n    if (!base64UrlRegex.test(parts[1])) {\n        throw new Error('JWT is not valid: payload is not in base64url format');\n    }\n    const base64Url = parts[1];\n    return JSON.parse(decodeBase64URL(base64Url));\n}\n//# sourceMappingURL=helpers.js.map","export class AuthError extends Error {\n    constructor(message) {\n        super(message);\n        this.__isAuthError = true;\n        this.name = 'AuthError';\n    }\n}\nexport function isAuthError(error) {\n    return typeof error === 'object' && error !== null && '__isAuthError' in error;\n}\nexport class AuthApiError extends AuthError {\n    constructor(message, status) {\n        super(message);\n        this.name = 'AuthApiError';\n        this.status = status;\n    }\n    toJSON() {\n        return {\n            name: this.name,\n            message: this.message,\n            status: this.status,\n        };\n    }\n}\nexport function isAuthApiError(error) {\n    return isAuthError(error) && error.name === 'AuthApiError';\n}\nexport class AuthUnknownError extends AuthError {\n    constructor(message, originalError) {\n        super(message);\n        this.name = 'AuthUnknownError';\n        this.originalError = originalError;\n    }\n}\nexport class CustomAuthError extends AuthError {\n    constructor(message, name, status) {\n        super(message);\n        this.name = name;\n        this.status = status;\n    }\n    toJSON() {\n        return {\n            name: this.name,\n            message: this.message,\n            status: this.status,\n        };\n    }\n}\nexport class AuthSessionMissingError extends CustomAuthError {\n    constructor() {\n        super('Auth session missing!', 'AuthSessionMissingError', 400);\n    }\n}\nexport class AuthInvalidCredentialsError extends CustomAuthError {\n    constructor(message) {\n        super(message, 'AuthInvalidCredentialsError', 400);\n    }\n}\nexport class AuthImplicitGrantRedirectError extends CustomAuthError {\n    constructor(message, details = null) {\n        super(message, 'AuthImplicitGrantRedirectError', 500);\n        this.details = null;\n        this.details = details;\n    }\n    toJSON() {\n        return {\n            name: this.name,\n            message: this.message,\n            status: this.status,\n            details: this.details,\n        };\n    }\n}\nexport class AuthRetryableFetchError extends CustomAuthError {\n    constructor(message, status) {\n        super(message, 'AuthRetryableFetchError', status);\n    }\n}\n//# sourceMappingURL=errors.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { expiresAt, looksLikeFetchResponse } from './helpers';\nimport { AuthApiError, AuthRetryableFetchError, AuthUnknownError } from './errors';\nconst _getErrorMessage = (err) => err.msg || err.message || err.error_description || err.error || JSON.stringify(err);\nconst handleError = (error, reject) => __awaiter(void 0, void 0, void 0, function* () {\n    const NETWORK_ERROR_CODES = [502, 503, 504];\n    if (!looksLikeFetchResponse(error)) {\n        reject(new AuthRetryableFetchError(_getErrorMessage(error), 0));\n    }\n    else if (NETWORK_ERROR_CODES.includes(error.status)) {\n        // status in 500...599 range - server had an error, request might be retryed.\n        reject(new AuthRetryableFetchError(_getErrorMessage(error), error.status));\n    }\n    else {\n        // got a response from server that is not in the 500...599 range - should not retry\n        error\n            .json()\n            .then((err) => {\n            reject(new AuthApiError(_getErrorMessage(err), error.status || 500));\n        })\n            .catch((e) => {\n            // not a valid json response\n            reject(new AuthUnknownError(_getErrorMessage(e), e));\n        });\n    }\n});\nconst _getRequestParams = (method, options, parameters, body) => {\n    const params = { method, headers: (options === null || options === void 0 ? void 0 : options.headers) || {} };\n    if (method === 'GET') {\n        return params;\n    }\n    params.headers = Object.assign({ 'Content-Type': 'application/json;charset=UTF-8' }, options === null || options === void 0 ? void 0 : options.headers);\n    params.body = JSON.stringify(body);\n    return Object.assign(Object.assign({}, params), parameters);\n};\nexport function _request(fetcher, method, url, options) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const headers = Object.assign({}, options === null || options === void 0 ? void 0 : options.headers);\n        if (options === null || options === void 0 ? void 0 : options.jwt) {\n            headers['Authorization'] = `Bearer ${options.jwt}`;\n        }\n        const qs = (_a = options === null || options === void 0 ? void 0 : options.query) !== null && _a !== void 0 ? _a : {};\n        if (options === null || options === void 0 ? void 0 : options.redirectTo) {\n            qs['redirect_to'] = options.redirectTo;\n        }\n        const queryString = Object.keys(qs).length ? '?' + new URLSearchParams(qs).toString() : '';\n        const data = yield _handleRequest(fetcher, method, url + queryString, { headers, noResolveJson: options === null || options === void 0 ? void 0 : options.noResolveJson }, {}, options === null || options === void 0 ? void 0 : options.body);\n        return (options === null || options === void 0 ? void 0 : options.xform) ? options === null || options === void 0 ? void 0 : options.xform(data) : { data: Object.assign({}, data), error: null };\n    });\n}\nfunction _handleRequest(fetcher, method, url, options, parameters, body) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            fetcher(url, _getRequestParams(method, options, parameters, body))\n                .then((result) => {\n                if (!result.ok)\n                    throw result;\n                if (options === null || options === void 0 ? void 0 : options.noResolveJson)\n                    return result;\n                return result.json();\n            })\n                .then((data) => resolve(data))\n                .catch((error) => handleError(error, reject));\n        });\n    });\n}\nexport function _sessionResponse(data) {\n    var _a;\n    let session = null;\n    if (hasSession(data)) {\n        session = Object.assign({}, data);\n        session.expires_at = expiresAt(data.expires_in);\n    }\n    const user = (_a = data.user) !== null && _a !== void 0 ? _a : data;\n    return { data: { session, user }, error: null };\n}\nexport function _userResponse(data) {\n    var _a;\n    const user = (_a = data.user) !== null && _a !== void 0 ? _a : data;\n    return { data: { user }, error: null };\n}\nexport function _ssoResponse(data) {\n    return { data, error: null };\n}\nexport function _generateLinkResponse(data) {\n    const { action_link, email_otp, hashed_token, redirect_to, verification_type } = data, rest = __rest(data, [\"action_link\", \"email_otp\", \"hashed_token\", \"redirect_to\", \"verification_type\"]);\n    const properties = {\n        action_link,\n        email_otp,\n        hashed_token,\n        redirect_to,\n        verification_type,\n    };\n    const user = Object.assign({}, rest);\n    return {\n        data: {\n            properties,\n            user,\n        },\n        error: null,\n    };\n}\nexport function _noResolveJsonResponse(data) {\n    return data;\n}\n/**\n * hasSession checks if the response object contains a valid session\n * @param data A response object\n * @returns true if a session is in the response\n */\nfunction hasSession(data) {\n    return data.access_token && data.refresh_token && data.expires_in;\n}\n//# sourceMappingURL=fetch.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { _generateLinkResponse, _noResolveJsonResponse, _request, _userResponse, } from './lib/fetch';\nimport { resolveFetch } from './lib/helpers';\nimport { isAuthError } from './lib/errors';\nexport default class GoTrueAdminApi {\n    constructor({ url = '', headers = {}, fetch, }) {\n        this.url = url;\n        this.headers = headers;\n        this.fetch = resolveFetch(fetch);\n        this.mfa = {\n            listFactors: this._listFactors.bind(this),\n            deleteFactor: this._deleteFactor.bind(this),\n        };\n    }\n    /**\n     * Removes a logged-in session.\n     * @param jwt A valid, logged-in JWT.\n     */\n    signOut(jwt) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield _request(this.fetch, 'POST', `${this.url}/logout`, {\n                    headers: this.headers,\n                    jwt,\n                    noResolveJson: true,\n                });\n                return { data: null, error: null };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Sends an invite link to an email address.\n     * @param email The email address of the user.\n     * @param options.redirectTo A URL or mobile deeplink to send the user to after they are confirmed.\n     * @param options.data Optional user metadata\n     */\n    inviteUserByEmail(email, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                return yield _request(this.fetch, 'POST', `${this.url}/invite`, {\n                    body: { email, data: options.data },\n                    headers: this.headers,\n                    redirectTo: options.redirectTo,\n                    xform: _userResponse,\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { user: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Generates email links and OTPs to be sent via a custom email provider.\n     * @param email The user's email.\n     * @param options.password User password. For signup only.\n     * @param options.data Optional user metadata. For signup only.\n     * @param options.redirectTo The redirect url which should be appended to the generated link\n     */\n    generateLink(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { options } = params, rest = __rest(params, [\"options\"]);\n                const body = Object.assign(Object.assign({}, rest), options);\n                if ('newEmail' in rest) {\n                    // replace newEmail with new_email in request body\n                    body.new_email = rest === null || rest === void 0 ? void 0 : rest.newEmail;\n                    delete body['newEmail'];\n                }\n                return yield _request(this.fetch, 'POST', `${this.url}/admin/generate_link`, {\n                    body: body,\n                    headers: this.headers,\n                    xform: _generateLinkResponse,\n                    redirectTo: options === null || options === void 0 ? void 0 : options.redirectTo,\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return {\n                        data: {\n                            properties: null,\n                            user: null,\n                        },\n                        error,\n                    };\n                }\n                throw error;\n            }\n        });\n    }\n    // User Admin API\n    /**\n     * Creates a new user.\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    createUser(attributes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                return yield _request(this.fetch, 'POST', `${this.url}/admin/users`, {\n                    body: attributes,\n                    headers: this.headers,\n                    xform: _userResponse,\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { user: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Get a list of users.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     * @param params An object which supports `page` and `perPage` as numbers, to alter the paginated results.\n     */\n    listUsers(params) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const pagination = { nextPage: null, lastPage: 0, total: 0 };\n                const response = yield _request(this.fetch, 'GET', `${this.url}/admin/users`, {\n                    headers: this.headers,\n                    noResolveJson: true,\n                    query: {\n                        page: (_b = (_a = params === null || params === void 0 ? void 0 : params.page) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : '',\n                        per_page: (_d = (_c = params === null || params === void 0 ? void 0 : params.perPage) === null || _c === void 0 ? void 0 : _c.toString()) !== null && _d !== void 0 ? _d : '',\n                    },\n                    xform: _noResolveJsonResponse,\n                });\n                if (response.error)\n                    throw response.error;\n                const users = yield response.json();\n                const total = (_e = response.headers.get('x-total-count')) !== null && _e !== void 0 ? _e : 0;\n                const links = (_g = (_f = response.headers.get('link')) === null || _f === void 0 ? void 0 : _f.split(',')) !== null && _g !== void 0 ? _g : [];\n                if (links.length > 0) {\n                    links.forEach((link) => {\n                        const page = parseInt(link.split(';')[0].split('=')[1].substring(0, 1));\n                        const rel = JSON.parse(link.split(';')[1].split('=')[1]);\n                        pagination[`${rel}Page`] = page;\n                    });\n                    pagination.total = parseInt(total);\n                }\n                return { data: Object.assign(Object.assign({}, users), pagination), error: null };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { users: [] }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Get user by id.\n     *\n     * @param uid The user's unique identifier\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    getUserById(uid) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                return yield _request(this.fetch, 'GET', `${this.url}/admin/users/${uid}`, {\n                    headers: this.headers,\n                    xform: _userResponse,\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { user: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Updates the user data.\n     *\n     * @param attributes The data you want to update.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    updateUserById(uid, attributes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                return yield _request(this.fetch, 'PUT', `${this.url}/admin/users/${uid}`, {\n                    body: attributes,\n                    headers: this.headers,\n                    xform: _userResponse,\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { user: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Delete a user. Requires a `service_role` key.\n     *\n     * @param id The user id you want to remove.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    deleteUser(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                return yield _request(this.fetch, 'DELETE', `${this.url}/admin/users/${id}`, {\n                    headers: this.headers,\n                    xform: _userResponse,\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { user: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    _listFactors(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data, error } = yield _request(this.fetch, 'GET', `${this.url}/admin/users/${params.userId}/factors`, {\n                    headers: this.headers,\n                    xform: (factors) => {\n                        return { data: { factors }, error: null };\n                    },\n                });\n                return { data, error };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    _deleteFactor(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield _request(this.fetch, 'DELETE', `${this.url}/admin/users/${params.userId}/factors/${params.id}`, {\n                    headers: this.headers,\n                });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n}\n//# sourceMappingURL=GoTrueAdminApi.js.map","// Generated by genversion.\nexport const version = '2.6.1';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const GOTRUE_URL = 'http://localhost:9999';\nexport const STORAGE_KEY = 'supabase.auth.token';\nexport const AUDIENCE = '';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `gotrue-js/${version}` };\nexport const EXPIRY_MARGIN = 10; // in seconds\nexport const NETWORK_FAILURE = {\n    MAX_RETRIES: 10,\n    RETRY_INTERVAL: 2, // in deciseconds\n};\n//# sourceMappingURL=constants.js.map","import { isBrowser } from './helpers';\nconst localStorageAdapter = {\n    getItem: (key) => {\n        if (!isBrowser()) {\n            return null;\n        }\n        return globalThis.localStorage.getItem(key);\n    },\n    setItem: (key, value) => {\n        if (!isBrowser()) {\n            return;\n        }\n        globalThis.localStorage.setItem(key, value);\n    },\n    removeItem: (key) => {\n        if (!isBrowser()) {\n            return;\n        }\n        globalThis.localStorage.removeItem(key);\n    },\n};\nexport default localStorageAdapter;\n//# sourceMappingURL=local-storage.js.map","/**\n * https://mathiasbynens.be/notes/globalthis\n */\nexport function polyfillGlobalThis() {\n    if (typeof globalThis === 'object')\n        return;\n    try {\n        Object.defineProperty(Object.prototype, '__magic__', {\n            get: function () {\n                return this;\n            },\n            configurable: true,\n        });\n        // @ts-expect-error 'Allow access to magic'\n        __magic__.globalThis = __magic__;\n        // @ts-expect-error 'Allow access to magic'\n        delete Object.prototype.__magic__;\n    }\n    catch (e) {\n        if (typeof self !== 'undefined') {\n            // @ts-expect-error 'Allow access to globals'\n            self.globalThis = self;\n        }\n    }\n}\n//# sourceMappingURL=polyfills.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport GoTrueAdminApi from './GoTrueAdminApi';\nimport { DEFAULT_HEADERS, EXPIRY_MARGIN, GOTRUE_URL, NETWORK_FAILURE, STORAGE_KEY, } from './lib/constants';\nimport { AuthImplicitGrantRedirectError, AuthInvalidCredentialsError, AuthRetryableFetchError, AuthSessionMissingError, AuthUnknownError, isAuthApiError, isAuthError, } from './lib/errors';\nimport { _request, _sessionResponse, _userResponse, _ssoResponse } from './lib/fetch';\nimport { decodeJWTPayload, Deferred, getItemAsync, getParameterByName, isBrowser, removeItemAsync, resolveFetch, setItemAsync, uuid, } from './lib/helpers';\nimport localStorageAdapter from './lib/local-storage';\nimport { polyfillGlobalThis } from './lib/polyfills';\npolyfillGlobalThis(); // Make \"globalThis\" available\nconst DEFAULT_OPTIONS = {\n    url: GOTRUE_URL,\n    storageKey: STORAGE_KEY,\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true,\n    headers: DEFAULT_HEADERS,\n};\nexport default class GoTrueClient {\n    /**\n     * Create a new client for use in the browser.\n     */\n    constructor(options) {\n        this.stateChangeEmitters = new Map();\n        this.networkRetries = 0;\n        this.refreshingDeferred = null;\n        /**\n         * Keeps track of the async client initialization.\n         * When null or not yet resolved the auth state is `unknown`\n         * Once resolved the the auth state is known and it's save to call any further client methods.\n         * Keep extra care to never reject or throw uncaught errors\n         */\n        this.initializePromise = null;\n        this.detectSessionInUrl = true;\n        const settings = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n        this.inMemorySession = null;\n        this.storageKey = settings.storageKey;\n        this.autoRefreshToken = settings.autoRefreshToken;\n        this.persistSession = settings.persistSession;\n        this.storage = settings.storage || localStorageAdapter;\n        this.admin = new GoTrueAdminApi({\n            url: settings.url,\n            headers: settings.headers,\n            fetch: settings.fetch,\n        });\n        this.url = settings.url;\n        this.headers = settings.headers;\n        this.fetch = resolveFetch(settings.fetch);\n        this.detectSessionInUrl = settings.detectSessionInUrl;\n        this.initialize();\n        this.mfa = {\n            verify: this._verify.bind(this),\n            enroll: this._enroll.bind(this),\n            unenroll: this._unenroll.bind(this),\n            challenge: this._challenge.bind(this),\n            listFactors: this._listFactors.bind(this),\n            challengeAndVerify: this._challengeAndVerify.bind(this),\n            getAuthenticatorAssuranceLevel: this._getAuthenticatorAssuranceLevel.bind(this),\n        };\n    }\n    /**\n     * Initializes the client session either from the url or from storage.\n     * This method is automatically called when instantiating the client, but should also be called\n     * manually when checking for an error from an auth redirect (oauth, magiclink, password recovery, etc).\n     */\n    initialize() {\n        if (!this.initializePromise) {\n            this.initializePromise = this._initialize();\n        }\n        return this.initializePromise;\n    }\n    /**\n     * IMPORTANT:\n     * 1. Never throw in this method, as it is called from the constructor\n     * 2. Never return a session from this method as it would be cached over\n     *    the whole lifetime of the client\n     */\n    _initialize() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.initializePromise) {\n                return this.initializePromise;\n            }\n            try {\n                if (this.detectSessionInUrl && this._isImplicitGrantFlow()) {\n                    const { data, error } = yield this._getSessionFromUrl();\n                    if (error) {\n                        // failed login attempt via url,\n                        // remove old session as in verifyOtp, signUp and signInWith*\n                        yield this._removeSession();\n                        return { error };\n                    }\n                    const { session, redirectType } = data;\n                    yield this._saveSession(session);\n                    this._notifyAllSubscribers('SIGNED_IN', session);\n                    if (redirectType === 'recovery') {\n                        this._notifyAllSubscribers('PASSWORD_RECOVERY', session);\n                    }\n                    return { error: null };\n                }\n                // no login attempt via callback url try to recover session from storage\n                yield this._recoverAndRefresh();\n                return { error: null };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { error };\n                }\n                return {\n                    error: new AuthUnknownError('Unexpected error during initialization', error),\n                };\n            }\n            finally {\n                this._handleVisibilityChange();\n            }\n        });\n    }\n    /**\n     * Creates a new user.\n     * @returns A logged-in session if the server has \"autoconfirm\" ON\n     * @returns A user if the server has \"autoconfirm\" OFF\n     */\n    signUp(credentials) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this._removeSession();\n                let res;\n                if ('email' in credentials) {\n                    const { email, password, options } = credentials;\n                    res = yield _request(this.fetch, 'POST', `${this.url}/signup`, {\n                        headers: this.headers,\n                        redirectTo: options === null || options === void 0 ? void 0 : options.emailRedirectTo,\n                        body: {\n                            email,\n                            password,\n                            data: (_a = options === null || options === void 0 ? void 0 : options.data) !== null && _a !== void 0 ? _a : {},\n                            gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                        },\n                        xform: _sessionResponse,\n                    });\n                }\n                else if ('phone' in credentials) {\n                    const { phone, password, options } = credentials;\n                    res = yield _request(this.fetch, 'POST', `${this.url}/signup`, {\n                        headers: this.headers,\n                        body: {\n                            phone,\n                            password,\n                            data: (_b = options === null || options === void 0 ? void 0 : options.data) !== null && _b !== void 0 ? _b : {},\n                            gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                        },\n                        xform: _sessionResponse,\n                    });\n                }\n                else {\n                    throw new AuthInvalidCredentialsError('You must provide either an email or phone number and a password');\n                }\n                const { data, error } = res;\n                if (error || !data) {\n                    return { data: { user: null, session: null }, error: error };\n                }\n                const session = data.session;\n                const user = data.user;\n                if (data.session) {\n                    yield this._saveSession(data.session);\n                    this._notifyAllSubscribers('SIGNED_IN', session);\n                }\n                return { data: { user, session }, error: null };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { user: null, session: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Log in an existing user with an email and password or phone and password.\n     */\n    signInWithPassword(credentials) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this._removeSession();\n                let res;\n                if ('email' in credentials) {\n                    const { email, password, options } = credentials;\n                    res = yield _request(this.fetch, 'POST', `${this.url}/token?grant_type=password`, {\n                        headers: this.headers,\n                        body: {\n                            email,\n                            password,\n                            data: (_a = options === null || options === void 0 ? void 0 : options.data) !== null && _a !== void 0 ? _a : {},\n                            gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                        },\n                        xform: _sessionResponse,\n                    });\n                }\n                else if ('phone' in credentials) {\n                    const { phone, password, options } = credentials;\n                    res = yield _request(this.fetch, 'POST', `${this.url}/token?grant_type=password`, {\n                        headers: this.headers,\n                        body: {\n                            phone,\n                            password,\n                            data: (_b = options === null || options === void 0 ? void 0 : options.data) !== null && _b !== void 0 ? _b : {},\n                            gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                        },\n                        xform: _sessionResponse,\n                    });\n                }\n                else {\n                    throw new AuthInvalidCredentialsError('You must provide either an email or phone number and a password');\n                }\n                const { data, error } = res;\n                if (error || !data)\n                    return { data: { user: null, session: null }, error };\n                if (data.session) {\n                    yield this._saveSession(data.session);\n                    this._notifyAllSubscribers('SIGNED_IN', data.session);\n                }\n                return { data, error };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { user: null, session: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Log in an existing user via a third-party provider.\n     */\n    signInWithOAuth(credentials) {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._removeSession();\n            return this._handleProviderSignIn(credentials.provider, {\n                redirectTo: (_a = credentials.options) === null || _a === void 0 ? void 0 : _a.redirectTo,\n                scopes: (_b = credentials.options) === null || _b === void 0 ? void 0 : _b.scopes,\n                queryParams: (_c = credentials.options) === null || _c === void 0 ? void 0 : _c.queryParams,\n            });\n        });\n    }\n    /**\n     * Log in a user using magiclink or a one-time password (OTP).\n     * If the `{{ .ConfirmationURL }}` variable is specified in the email template, a magiclink will be sent.\n     * If the `{{ .Token }}` variable is specified in the email template, an OTP will be sent.\n     * If you're using phone sign-ins, only an OTP will be sent. You won't be able to send a magiclink for phone sign-ins.\n     */\n    signInWithOtp(credentials) {\n        var _a, _b, _c, _d;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this._removeSession();\n                if ('email' in credentials) {\n                    const { email, options } = credentials;\n                    const { error } = yield _request(this.fetch, 'POST', `${this.url}/otp`, {\n                        headers: this.headers,\n                        body: {\n                            email,\n                            data: (_a = options === null || options === void 0 ? void 0 : options.data) !== null && _a !== void 0 ? _a : {},\n                            create_user: (_b = options === null || options === void 0 ? void 0 : options.shouldCreateUser) !== null && _b !== void 0 ? _b : true,\n                            gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                        },\n                        redirectTo: options === null || options === void 0 ? void 0 : options.emailRedirectTo,\n                    });\n                    return { data: { user: null, session: null }, error };\n                }\n                if ('phone' in credentials) {\n                    const { phone, options } = credentials;\n                    const { error } = yield _request(this.fetch, 'POST', `${this.url}/otp`, {\n                        headers: this.headers,\n                        body: {\n                            phone,\n                            data: (_c = options === null || options === void 0 ? void 0 : options.data) !== null && _c !== void 0 ? _c : {},\n                            create_user: (_d = options === null || options === void 0 ? void 0 : options.shouldCreateUser) !== null && _d !== void 0 ? _d : true,\n                            gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                        },\n                    });\n                    return { data: { user: null, session: null }, error };\n                }\n                throw new AuthInvalidCredentialsError('You must provide either an email or phone number.');\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { user: null, session: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Log in a user given a User supplied OTP received via mobile.\n     */\n    verifyOtp(params) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this._removeSession();\n                const { data, error } = yield _request(this.fetch, 'POST', `${this.url}/verify`, {\n                    headers: this.headers,\n                    body: Object.assign(Object.assign({}, params), { gotrue_meta_security: { captcha_token: (_a = params.options) === null || _a === void 0 ? void 0 : _a.captchaToken } }),\n                    redirectTo: (_b = params.options) === null || _b === void 0 ? void 0 : _b.redirectTo,\n                    xform: _sessionResponse,\n                });\n                if (error) {\n                    throw error;\n                }\n                if (!data) {\n                    throw 'An error occurred on token verification.';\n                }\n                const session = data.session;\n                const user = data.user;\n                if (session === null || session === void 0 ? void 0 : session.access_token) {\n                    yield this._saveSession(session);\n                    this._notifyAllSubscribers('SIGNED_IN', session);\n                }\n                return { data: { user, session }, error: null };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { user: null, session: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Attempts a single-sign on using an enterprise Identity Provider. A\n     * successful SSO attempt will redirect the current page to the identity\n     * provider authorization page. The redirect URL is implementation and SSO\n     * protocol specific.\n     *\n     * You can use it by providing a SSO domain. Typically you can extract this\n     * domain by asking users for their email address. If this domain is\n     * registered on the Auth instance the redirect will use that organization's\n     * currently active SSO Identity Provider for the login.\n     *\n     * If you have built an organization-specific login page, you can use the\n     * organization's SSO Identity Provider UUID directly instead.\n     *\n     * This API is experimental and availability is conditional on correct\n     * settings on the Auth service.\n     *\n     * @experimental\n     */\n    signInWithSSO(params) {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this._removeSession();\n                return yield _request(this.fetch, 'POST', `${this.url}/sso`, {\n                    body: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, ('providerId' in params ? { provider_id: params.providerId } : null)), ('domain' in params ? { domain: params.domain } : null)), { redirect_to: (_b = (_a = params.options) === null || _a === void 0 ? void 0 : _a.redirectTo) !== null && _b !== void 0 ? _b : undefined }), (((_c = params === null || params === void 0 ? void 0 : params.options) === null || _c === void 0 ? void 0 : _c.captchaToken)\n                        ? { gotrue_meta_security: { captcha_token: params.options.captchaToken } }\n                        : null)), { skip_http_redirect: true }),\n                    headers: this.headers,\n                    xform: _ssoResponse,\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Returns the session, refreshing it if necessary.\n     * The session returned can be null if the session is not detected which can happen in the event a user is not signed-in or has logged out.\n     */\n    getSession() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // make sure we've read the session from the url if there is one\n            // save to just await, as long we make sure _initialize() never throws\n            yield this.initializePromise;\n            let currentSession = null;\n            if (this.persistSession) {\n                const maybeSession = yield getItemAsync(this.storage, this.storageKey);\n                if (maybeSession !== null) {\n                    if (this._isValidSession(maybeSession)) {\n                        currentSession = maybeSession;\n                    }\n                    else {\n                        yield this._removeSession();\n                    }\n                }\n            }\n            else {\n                currentSession = this.inMemorySession;\n            }\n            if (!currentSession) {\n                return { data: { session: null }, error: null };\n            }\n            const hasExpired = currentSession.expires_at\n                ? currentSession.expires_at <= Date.now() / 1000\n                : false;\n            if (!hasExpired) {\n                return { data: { session: currentSession }, error: null };\n            }\n            const { session, error } = yield this._callRefreshToken(currentSession.refresh_token);\n            if (error) {\n                return { data: { session: null }, error };\n            }\n            return { data: { session }, error: null };\n        });\n    }\n    /**\n     * Gets the current user details if there is an existing session.\n     * @param jwt Takes in an optional access token jwt. If no jwt is provided, getUser() will attempt to get the jwt from the current session.\n     */\n    getUser(jwt) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!jwt) {\n                    const { data, error } = yield this.getSession();\n                    if (error) {\n                        throw error;\n                    }\n                    // Default to Authorization header if there is no existing session\n                    jwt = (_b = (_a = data.session) === null || _a === void 0 ? void 0 : _a.access_token) !== null && _b !== void 0 ? _b : undefined;\n                }\n                return yield _request(this.fetch, 'GET', `${this.url}/user`, {\n                    headers: this.headers,\n                    jwt: jwt,\n                    xform: _userResponse,\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { user: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Updates user data, if there is a logged in user.\n     */\n    updateUser(attributes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data: sessionData, error: sessionError } = yield this.getSession();\n                if (sessionError) {\n                    throw sessionError;\n                }\n                if (!sessionData.session) {\n                    throw new AuthSessionMissingError();\n                }\n                const session = sessionData.session;\n                const { data, error: userError } = yield _request(this.fetch, 'PUT', `${this.url}/user`, {\n                    headers: this.headers,\n                    body: attributes,\n                    jwt: session.access_token,\n                    xform: _userResponse,\n                });\n                if (userError)\n                    throw userError;\n                session.user = data.user;\n                yield this._saveSession(session);\n                this._notifyAllSubscribers('USER_UPDATED', session);\n                return { data: { user: session.user }, error: null };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { user: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Decodes a JWT (without performing any validation).\n     */\n    _decodeJWT(jwt) {\n        return decodeJWTPayload(jwt);\n    }\n    /**\n     * Sets the session data from the current session. If the current session is expired, setSession will take care of refreshing it to obtain a new session.\n     * If the refresh token or access token in the current session is invalid, an error will be thrown.\n     * @param currentSession The current session that minimally contains an access token and refresh token.\n     */\n    setSession(currentSession) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!currentSession.access_token || !currentSession.refresh_token) {\n                    throw new AuthSessionMissingError();\n                }\n                const timeNow = Date.now() / 1000;\n                let expiresAt = timeNow;\n                let hasExpired = true;\n                let session = null;\n                const payload = decodeJWTPayload(currentSession.access_token);\n                if (payload.exp) {\n                    expiresAt = payload.exp;\n                    hasExpired = expiresAt <= timeNow;\n                }\n                if (hasExpired) {\n                    const { session: refreshedSession, error } = yield this._callRefreshToken(currentSession.refresh_token);\n                    if (error) {\n                        return { data: { user: null, session: null }, error: error };\n                    }\n                    if (!refreshedSession) {\n                        return { data: { user: null, session: null }, error: null };\n                    }\n                    session = refreshedSession;\n                }\n                else {\n                    const { data, error } = yield this.getUser(currentSession.access_token);\n                    if (error) {\n                        throw error;\n                    }\n                    session = {\n                        access_token: currentSession.access_token,\n                        refresh_token: currentSession.refresh_token,\n                        user: data.user,\n                        token_type: 'bearer',\n                        expires_in: expiresAt - timeNow,\n                        expires_at: expiresAt,\n                    };\n                    yield this._saveSession(session);\n                }\n                return { data: { user: session.user, session }, error: null };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { session: null, user: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Returns a new session, regardless of expiry status.\n     * Takes in an optional current session. If not passed in, then refreshSession() will attempt to retrieve it from getSession().\n     * If the current session's refresh token is invalid, an error will be thrown.\n     * @param currentSession The current session. If passed in, it must contain a refresh token.\n     */\n    refreshSession(currentSession) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!currentSession) {\n                    const { data, error } = yield this.getSession();\n                    if (error) {\n                        throw error;\n                    }\n                    currentSession = (_a = data.session) !== null && _a !== void 0 ? _a : undefined;\n                }\n                if (!(currentSession === null || currentSession === void 0 ? void 0 : currentSession.refresh_token)) {\n                    throw new AuthSessionMissingError();\n                }\n                const { session, error } = yield this._callRefreshToken(currentSession.refresh_token);\n                if (error) {\n                    return { data: { user: null, session: null }, error: error };\n                }\n                if (!session) {\n                    return { data: { user: null, session: null }, error: null };\n                }\n                return { data: { user: session.user, session }, error: null };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { user: null, session: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Gets the session data from a URL string\n     */\n    _getSessionFromUrl() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!isBrowser())\n                    throw new AuthImplicitGrantRedirectError('No browser detected.');\n                if (!this._isImplicitGrantFlow()) {\n                    throw new AuthImplicitGrantRedirectError('Not a valid implicit grant flow url.');\n                }\n                const error_description = getParameterByName('error_description');\n                if (error_description) {\n                    const error_code = getParameterByName('error_code');\n                    if (!error_code)\n                        throw new AuthImplicitGrantRedirectError('No error_code detected.');\n                    const error = getParameterByName('error');\n                    if (!error)\n                        throw new AuthImplicitGrantRedirectError('No error detected.');\n                    throw new AuthImplicitGrantRedirectError(error_description, { error, code: error_code });\n                }\n                const provider_token = getParameterByName('provider_token');\n                const provider_refresh_token = getParameterByName('provider_refresh_token');\n                const access_token = getParameterByName('access_token');\n                if (!access_token)\n                    throw new AuthImplicitGrantRedirectError('No access_token detected.');\n                const expires_in = getParameterByName('expires_in');\n                if (!expires_in)\n                    throw new AuthImplicitGrantRedirectError('No expires_in detected.');\n                const refresh_token = getParameterByName('refresh_token');\n                if (!refresh_token)\n                    throw new AuthImplicitGrantRedirectError('No refresh_token detected.');\n                const token_type = getParameterByName('token_type');\n                if (!token_type)\n                    throw new AuthImplicitGrantRedirectError('No token_type detected.');\n                const timeNow = Math.round(Date.now() / 1000);\n                const expires_at = timeNow + parseInt(expires_in);\n                const { data, error } = yield this.getUser(access_token);\n                if (error)\n                    throw error;\n                const user = data.user;\n                const session = {\n                    provider_token,\n                    provider_refresh_token,\n                    access_token,\n                    expires_in: parseInt(expires_in),\n                    expires_at,\n                    refresh_token,\n                    token_type,\n                    user,\n                };\n                const redirectType = getParameterByName('type');\n                // Remove tokens from URL\n                window.location.hash = '';\n                return { data: { session, redirectType }, error: null };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { session: null, redirectType: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Checks if the current URL contains parameters given by an implicit oauth grant flow (https://www.rfc-editor.org/rfc/rfc6749.html#section-4.2)\n     */\n    _isImplicitGrantFlow() {\n        return (isBrowser() &&\n            (Boolean(getParameterByName('access_token')) ||\n                Boolean(getParameterByName('error_description'))));\n    }\n    /**\n     * Inside a browser context, `signOut()` will remove the logged in user from the browser session\n     * and log them out - removing all items from localstorage and then trigger a `\"SIGNED_OUT\"` event.\n     *\n     * For server-side management, you can revoke all refresh tokens for a user by passing a user's JWT through to `auth.api.signOut(JWT: string)`.\n     * There is no way to revoke a user's access token jwt until it expires. It is recommended to set a shorter expiry on the jwt for this reason.\n     */\n    signOut() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { data, error: sessionError } = yield this.getSession();\n            if (sessionError) {\n                return { error: sessionError };\n            }\n            const accessToken = (_a = data.session) === null || _a === void 0 ? void 0 : _a.access_token;\n            if (accessToken) {\n                const { error } = yield this.admin.signOut(accessToken);\n                if (error) {\n                    // ignore 404s since user might not exist anymore\n                    // ignore 401s since an invalid or expired JWT should sign out the current session\n                    if (!(isAuthApiError(error) && (error.status === 404 || error.status === 401))) {\n                        return { error };\n                    }\n                }\n            }\n            yield this._removeSession();\n            this._notifyAllSubscribers('SIGNED_OUT', null);\n            return { error: null };\n        });\n    }\n    /**\n     * Receive a notification every time an auth event happens.\n     * @param callback A callback function to be invoked when an auth event happens.\n     */\n    onAuthStateChange(callback) {\n        const id = uuid();\n        const subscription = {\n            id,\n            callback,\n            unsubscribe: () => {\n                this.stateChangeEmitters.delete(id);\n            },\n        };\n        this.stateChangeEmitters.set(id, subscription);\n        return { data: { subscription } };\n    }\n    /**\n     * Sends a password reset request to an email address.\n     * @param email The email address of the user.\n     * @param options.redirectTo The URL to send the user to after they click the password reset link.\n     * @param options.captchaToken Verification token received when the user completes the captcha on the site.\n     */\n    resetPasswordForEmail(email, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                return yield _request(this.fetch, 'POST', `${this.url}/recover`, {\n                    body: { email, gotrue_meta_security: { captcha_token: options.captchaToken } },\n                    headers: this.headers,\n                    redirectTo: options.redirectTo,\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Generates a new JWT.\n     * @param refreshToken A valid refresh token that was returned on login.\n     */\n    _refreshAccessToken(refreshToken) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                return yield _request(this.fetch, 'POST', `${this.url}/token?grant_type=refresh_token`, {\n                    body: { refresh_token: refreshToken },\n                    headers: this.headers,\n                    xform: _sessionResponse,\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: { session: null, user: null }, error };\n                }\n                throw error;\n            }\n        });\n    }\n    _isValidSession(maybeSession) {\n        const isValidSession = typeof maybeSession === 'object' &&\n            maybeSession !== null &&\n            'access_token' in maybeSession &&\n            'refresh_token' in maybeSession &&\n            'expires_at' in maybeSession;\n        return isValidSession;\n    }\n    _handleProviderSignIn(provider, options = {}) {\n        const url = this._getUrlForProvider(provider, {\n            redirectTo: options.redirectTo,\n            scopes: options.scopes,\n            queryParams: options.queryParams,\n        });\n        // try to open on the browser\n        if (isBrowser()) {\n            window.location.href = url;\n        }\n        return { data: { provider, url }, error: null };\n    }\n    /**\n     * Recovers the session from LocalStorage and refreshes\n     * Note: this method is async to accommodate for AsyncStorage e.g. in React native.\n     */\n    _recoverAndRefresh() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const currentSession = yield getItemAsync(this.storage, this.storageKey);\n                if (!this._isValidSession(currentSession)) {\n                    if (currentSession !== null) {\n                        yield this._removeSession();\n                    }\n                    return;\n                }\n                const timeNow = Math.round(Date.now() / 1000);\n                if (((_a = currentSession.expires_at) !== null && _a !== void 0 ? _a : Infinity) < timeNow + EXPIRY_MARGIN) {\n                    if (this.autoRefreshToken && currentSession.refresh_token) {\n                        this.networkRetries++;\n                        const { error } = yield this._callRefreshToken(currentSession.refresh_token);\n                        if (error) {\n                            console.log(error.message);\n                            if (error instanceof AuthRetryableFetchError &&\n                                this.networkRetries < NETWORK_FAILURE.MAX_RETRIES) {\n                                if (this.refreshTokenTimer)\n                                    clearTimeout(this.refreshTokenTimer);\n                                this.refreshTokenTimer = setTimeout(() => this._recoverAndRefresh(), Math.pow(NETWORK_FAILURE.RETRY_INTERVAL, this.networkRetries) * 100 // exponential backoff\n                                );\n                                return;\n                            }\n                            yield this._removeSession();\n                        }\n                        this.networkRetries = 0;\n                    }\n                    else {\n                        yield this._removeSession();\n                    }\n                }\n                else {\n                    if (this.persistSession) {\n                        yield this._saveSession(currentSession);\n                    }\n                    this._notifyAllSubscribers('SIGNED_IN', currentSession);\n                }\n            }\n            catch (err) {\n                console.error(err);\n                return;\n            }\n        });\n    }\n    _callRefreshToken(refreshToken) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            // refreshing is already in progress\n            if (this.refreshingDeferred) {\n                return this.refreshingDeferred.promise;\n            }\n            try {\n                this.refreshingDeferred = new Deferred();\n                if (!refreshToken) {\n                    throw new AuthSessionMissingError();\n                }\n                const { data, error } = yield this._refreshAccessToken(refreshToken);\n                if (error)\n                    throw error;\n                if (!data.session)\n                    throw new AuthSessionMissingError();\n                yield this._saveSession(data.session);\n                this._notifyAllSubscribers('TOKEN_REFRESHED', data.session);\n                const result = { session: data.session, error: null };\n                this.refreshingDeferred.resolve(result);\n                return result;\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    const result = { session: null, error };\n                    (_a = this.refreshingDeferred) === null || _a === void 0 ? void 0 : _a.resolve(result);\n                    return result;\n                }\n                (_b = this.refreshingDeferred) === null || _b === void 0 ? void 0 : _b.reject(error);\n                throw error;\n            }\n            finally {\n                this.refreshingDeferred = null;\n            }\n        });\n    }\n    _notifyAllSubscribers(event, session) {\n        this.stateChangeEmitters.forEach((x) => x.callback(event, session));\n    }\n    /**\n     * set currentSession and currentUser\n     * process to _startAutoRefreshToken if possible\n     */\n    _saveSession(session) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.persistSession) {\n                this.inMemorySession = session;\n            }\n            const expiresAt = session.expires_at;\n            if (expiresAt) {\n                const timeNow = Math.round(Date.now() / 1000);\n                const expiresIn = expiresAt - timeNow;\n                const refreshDurationBeforeExpires = expiresIn > EXPIRY_MARGIN ? EXPIRY_MARGIN : 0.5;\n                this._startAutoRefreshToken((expiresIn - refreshDurationBeforeExpires) * 1000);\n            }\n            if (this.persistSession && session.expires_at) {\n                yield this._persistSession(session);\n            }\n        });\n    }\n    _persistSession(currentSession) {\n        return setItemAsync(this.storage, this.storageKey, currentSession);\n    }\n    _removeSession() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.persistSession) {\n                yield removeItemAsync(this.storage, this.storageKey);\n            }\n            else {\n                this.inMemorySession = null;\n            }\n            if (this.refreshTokenTimer) {\n                clearTimeout(this.refreshTokenTimer);\n            }\n        });\n    }\n    /**\n     * Clear and re-create refresh token timer\n     * @param value time intervals in milliseconds.\n     * @param session The current session.\n     */\n    _startAutoRefreshToken(value) {\n        if (this.refreshTokenTimer)\n            clearTimeout(this.refreshTokenTimer);\n        if (value <= 0 || !this.autoRefreshToken)\n            return;\n        this.refreshTokenTimer = setTimeout(() => __awaiter(this, void 0, void 0, function* () {\n            this.networkRetries++;\n            const { data: { session }, error: sessionError, } = yield this.getSession();\n            if (!sessionError && session) {\n                const { error } = yield this._callRefreshToken(session.refresh_token);\n                if (!error)\n                    this.networkRetries = 0;\n                if (error instanceof AuthRetryableFetchError &&\n                    this.networkRetries < NETWORK_FAILURE.MAX_RETRIES)\n                    this._startAutoRefreshToken(Math.pow(NETWORK_FAILURE.RETRY_INTERVAL, this.networkRetries) * 100); // exponential backoff\n            }\n        }), value);\n        if (typeof this.refreshTokenTimer.unref === 'function')\n            this.refreshTokenTimer.unref();\n    }\n    _handleVisibilityChange() {\n        if (!isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n            return false;\n        }\n        try {\n            window === null || window === void 0 ? void 0 : window.addEventListener('visibilitychange', () => __awaiter(this, void 0, void 0, function* () {\n                if (document.visibilityState === 'visible') {\n                    yield this.initializePromise;\n                    yield this._recoverAndRefresh();\n                }\n            }));\n        }\n        catch (error) {\n            console.error('_handleVisibilityChange', error);\n        }\n    }\n    /**\n     * Generates the relevant login URL for a third-party provider.\n     * @param options.redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param options.scopes A space-separated list of scopes granted to the OAuth application.\n     * @param options.queryParams An object of key-value pairs containing query parameters granted to the OAuth application.\n     */\n    _getUrlForProvider(provider, options) {\n        const urlParams = [`provider=${encodeURIComponent(provider)}`];\n        if (options === null || options === void 0 ? void 0 : options.redirectTo) {\n            urlParams.push(`redirect_to=${encodeURIComponent(options.redirectTo)}`);\n        }\n        if (options === null || options === void 0 ? void 0 : options.scopes) {\n            urlParams.push(`scopes=${encodeURIComponent(options.scopes)}`);\n        }\n        if (options === null || options === void 0 ? void 0 : options.queryParams) {\n            const query = new URLSearchParams(options.queryParams);\n            urlParams.push(query.toString());\n        }\n        return `${this.url}/authorize?${urlParams.join('&')}`;\n    }\n    _unenroll(params) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data: sessionData, error: sessionError } = yield this.getSession();\n                if (sessionError) {\n                    return { data: null, error: sessionError };\n                }\n                return yield _request(this.fetch, 'DELETE', `${this.url}/factors/${params.factorId}`, {\n                    headers: this.headers,\n                    jwt: (_a = sessionData === null || sessionData === void 0 ? void 0 : sessionData.session) === null || _a === void 0 ? void 0 : _a.access_token,\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Enrolls a factor\n     * @param friendlyName Human readable name assigned to a device\n     * @param factorType device which we're validating against. Can only be TOTP for now.\n     * @param issuer domain which the user is enrolling with\n     */\n    _enroll(params) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data: sessionData, error: sessionError } = yield this.getSession();\n                if (sessionError) {\n                    return { data: null, error: sessionError };\n                }\n                const { data, error } = yield _request(this.fetch, 'POST', `${this.url}/factors`, {\n                    body: {\n                        friendly_name: params.friendlyName,\n                        factor_type: params.factorType,\n                        issuer: params.issuer,\n                    },\n                    headers: this.headers,\n                    jwt: (_a = sessionData === null || sessionData === void 0 ? void 0 : sessionData.session) === null || _a === void 0 ? void 0 : _a.access_token,\n                });\n                if (error) {\n                    return { data: null, error };\n                }\n                if ((_b = data === null || data === void 0 ? void 0 : data.totp) === null || _b === void 0 ? void 0 : _b.qr_code) {\n                    data.totp.qr_code = `data:image/svg+xml;utf-8,${data.totp.qr_code}`;\n                }\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Validates a device as part of the enrollment step.\n     * @param factorId System assigned identifier for authenticator device as returned by enroll\n     * @param code Code Generated by an authenticator device\n     */\n    _verify(params) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data: sessionData, error: sessionError } = yield this.getSession();\n                if (sessionError) {\n                    return { data: null, error: sessionError };\n                }\n                const { data, error } = yield _request(this.fetch, 'POST', `${this.url}/factors/${params.factorId}/verify`, {\n                    body: { code: params.code, challenge_id: params.challengeId },\n                    headers: this.headers,\n                    jwt: (_a = sessionData === null || sessionData === void 0 ? void 0 : sessionData.session) === null || _a === void 0 ? void 0 : _a.access_token,\n                });\n                if (error) {\n                    return { data: null, error };\n                }\n                yield this._saveSession(Object.assign({ expires_at: Math.round(Date.now() / 1000) + data.expires_in }, data));\n                this._notifyAllSubscribers('MFA_CHALLENGE_VERIFIED', data);\n                return { data, error };\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Creates a challenge which a user can verify against\n     * @param factorId System assigned identifier for authenticator device as returned by enroll\n     */\n    _challenge(params) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { data: sessionData, error: sessionError } = yield this.getSession();\n                if (sessionError) {\n                    return { data: null, error: sessionError };\n                }\n                return yield _request(this.fetch, 'POST', `${this.url}/factors/${params.factorId}/challenge`, {\n                    headers: this.headers,\n                    jwt: (_a = sessionData === null || sessionData === void 0 ? void 0 : sessionData.session) === null || _a === void 0 ? void 0 : _a.access_token,\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Creates a challenge and immediately verifies it\n     * @param factorId System assigned identifier for authenticator device as returned by enroll\n     * @param code Code Generated by an authenticator device\n     */\n    _challengeAndVerify(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { data: challengeData, error: challengeError } = yield this._challenge({\n                factorId: params.factorId,\n            });\n            if (challengeError) {\n                return { data: null, error: challengeError };\n            }\n            return yield this._verify({\n                factorId: params.factorId,\n                challengeId: challengeData.id,\n                code: params.code,\n            });\n        });\n    }\n    /**\n     * Displays all devices for a given user\n     */\n    _listFactors() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { data: { user }, error: userError, } = yield this.getUser();\n            if (userError) {\n                return { data: null, error: userError };\n            }\n            const factors = (user === null || user === void 0 ? void 0 : user.factors) || [];\n            const totp = factors.filter((factor) => factor.factor_type === 'totp' && factor.status === 'verified');\n            return {\n                data: {\n                    all: factors,\n                    totp,\n                },\n                error: null,\n            };\n        });\n    }\n    /**\n     * Gets the current and next authenticator assurance level (AAL)\n     * and the current authentication methods for the session (AMR)\n     */\n    _getAuthenticatorAssuranceLevel() {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { data: { session }, error: sessionError, } = yield this.getSession();\n            if (sessionError) {\n                return { data: null, error: sessionError };\n            }\n            if (!session) {\n                return {\n                    data: { currentLevel: null, nextLevel: null, currentAuthenticationMethods: [] },\n                    error: null,\n                };\n            }\n            const payload = this._decodeJWT(session.access_token);\n            let currentLevel = null;\n            if (payload.aal) {\n                currentLevel = payload.aal;\n            }\n            let nextLevel = currentLevel;\n            const verifiedFactors = (_b = (_a = session.user.factors) === null || _a === void 0 ? void 0 : _a.filter((factor) => factor.status === 'verified')) !== null && _b !== void 0 ? _b : [];\n            if (verifiedFactors.length > 0) {\n                nextLevel = 'aal2';\n            }\n            const currentAuthenticationMethods = payload.amr || [];\n            return { data: { currentLevel, nextLevel, currentAuthenticationMethods }, error: null };\n        });\n    }\n}\n//# sourceMappingURL=GoTrueClient.js.map","import { GoTrueClient } from '@supabase/gotrue-js';\nexport class SupabaseAuthClient extends GoTrueClient {\n    constructor(options) {\n        super(options);\n    }\n}\n//# sourceMappingURL=SupabaseAuthClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { FunctionsClient } from '@supabase/functions-js';\nimport { PostgrestClient, } from '@supabase/postgrest-js';\nimport { RealtimeClient, } from '@supabase/realtime-js';\nimport { StorageClient as SupabaseStorageClient } from '@supabase/storage-js';\nimport { DEFAULT_HEADERS } from './lib/constants';\nimport { fetchWithAuth } from './lib/fetch';\nimport { stripTrailingSlash, applySettingDefaults } from './lib/helpers';\nimport { SupabaseAuthClient } from './lib/SupabaseAuthClient';\nconst DEFAULT_GLOBAL_OPTIONS = {\n    headers: DEFAULT_HEADERS,\n};\nconst DEFAULT_DB_OPTIONS = {\n    schema: 'public',\n};\nconst DEFAULT_AUTH_OPTIONS = {\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true,\n};\nconst DEFAULT_REALTIME_OPTIONS = {};\n/**\n * Supabase Client.\n *\n * An isomorphic Javascript client for interacting with Postgres.\n */\nexport default class SupabaseClient {\n    /**\n     * Create a new client for use in the browser.\n     * @param supabaseUrl The unique Supabase URL which is supplied when you create a new project in your project dashboard.\n     * @param supabaseKey The unique Supabase Key which is supplied when you create a new project in your project dashboard.\n     * @param options.db.schema You can switch in between schemas. The schema needs to be on the list of exposed schemas inside Supabase.\n     * @param options.auth.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n     * @param options.auth.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n     * @param options.auth.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n     * @param options.realtime Options passed along to realtime-js constructor.\n     * @param options.global.fetch A custom fetch implementation.\n     * @param options.global.headers Any additional headers to send with each network request.\n     */\n    constructor(supabaseUrl, supabaseKey, options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        this.supabaseUrl = supabaseUrl;\n        this.supabaseKey = supabaseKey;\n        if (!supabaseUrl)\n            throw new Error('supabaseUrl is required.');\n        if (!supabaseKey)\n            throw new Error('supabaseKey is required.');\n        const _supabaseUrl = stripTrailingSlash(supabaseUrl);\n        this.realtimeUrl = `${_supabaseUrl}/realtime/v1`.replace(/^http/i, 'ws');\n        this.authUrl = `${_supabaseUrl}/auth/v1`;\n        this.storageUrl = `${_supabaseUrl}/storage/v1`;\n        const isPlatform = _supabaseUrl.match(/(supabase\\.co)|(supabase\\.in)/);\n        if (isPlatform) {\n            const urlParts = _supabaseUrl.split('.');\n            this.functionsUrl = `${urlParts[0]}.functions.${urlParts[1]}.${urlParts[2]}`;\n        }\n        else {\n            this.functionsUrl = `${_supabaseUrl}/functions/v1`;\n        }\n        // default storage key uses the supabase project ref as a namespace\n        const defaultStorageKey = `sb-${new URL(this.authUrl).hostname.split('.')[0]}-auth-token`;\n        const DEFAULTS = {\n            db: DEFAULT_DB_OPTIONS,\n            realtime: DEFAULT_REALTIME_OPTIONS,\n            auth: Object.assign(Object.assign({}, DEFAULT_AUTH_OPTIONS), { storageKey: defaultStorageKey }),\n            global: DEFAULT_GLOBAL_OPTIONS,\n        };\n        const settings = applySettingDefaults(options !== null && options !== void 0 ? options : {}, DEFAULTS);\n        this.storageKey = (_b = (_a = settings.auth) === null || _a === void 0 ? void 0 : _a.storageKey) !== null && _b !== void 0 ? _b : '';\n        this.headers = (_d = (_c = settings.global) === null || _c === void 0 ? void 0 : _c.headers) !== null && _d !== void 0 ? _d : {};\n        this.auth = this._initSupabaseAuthClient((_e = settings.auth) !== null && _e !== void 0 ? _e : {}, this.headers, (_f = settings.global) === null || _f === void 0 ? void 0 : _f.fetch);\n        this.fetch = fetchWithAuth(supabaseKey, this._getAccessToken.bind(this), (_g = settings.global) === null || _g === void 0 ? void 0 : _g.fetch);\n        this.realtime = this._initRealtimeClient(Object.assign({ headers: this.headers }, settings.realtime));\n        this.rest = new PostgrestClient(`${_supabaseUrl}/rest/v1`, {\n            headers: this.headers,\n            schema: (_h = settings.db) === null || _h === void 0 ? void 0 : _h.schema,\n            fetch: this.fetch,\n        });\n        this._listenForAuthEvents();\n    }\n    /**\n     * Supabase Functions allows you to deploy and invoke edge functions.\n     */\n    get functions() {\n        return new FunctionsClient(this.functionsUrl, {\n            headers: this.headers,\n            customFetch: this.fetch,\n        });\n    }\n    /**\n     * Supabase Storage allows you to manage user-generated content, such as photos or videos.\n     */\n    get storage() {\n        return new SupabaseStorageClient(this.storageUrl, this.headers, this.fetch);\n    }\n    from(relation) {\n        return this.rest.from(relation);\n    }\n    /**\n     * Perform a function call.\n     *\n     * @param fn  The function name to call.\n     * @param args  The parameters to pass to the function call.\n     * @param options.head   When set to true, no data will be returned.\n     * @param options.count  Count algorithm to use to count rows in a table.\n     *\n     */\n    rpc(fn, args = {}, options) {\n        return this.rest.rpc(fn, args, options);\n    }\n    /**\n     * Creates a Realtime channel with Broadcast, Presence, and Postgres Changes.\n     *\n     * @param {string} name - The name of the Realtime channel.\n     * @param {Object} opts - The options to pass to the Realtime channel.\n     *\n     */\n    channel(name, opts = { config: {} }) {\n        return this.realtime.channel(name, opts);\n    }\n    /**\n     * Returns all Realtime channels.\n     */\n    getChannels() {\n        return this.realtime.getChannels();\n    }\n    /**\n     * Unsubscribes and removes Realtime channel from Realtime client.\n     *\n     * @param {RealtimeChannel} channel - The name of the Realtime channel.\n     *\n     */\n    removeChannel(channel) {\n        return this.realtime.removeChannel(channel);\n    }\n    /**\n     * Unsubscribes and removes all Realtime channels from Realtime client.\n     */\n    removeAllChannels() {\n        return this.realtime.removeAllChannels();\n    }\n    _getAccessToken() {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { data } = yield this.auth.getSession();\n            return (_b = (_a = data.session) === null || _a === void 0 ? void 0 : _a.access_token) !== null && _b !== void 0 ? _b : null;\n        });\n    }\n    _initSupabaseAuthClient({ autoRefreshToken, persistSession, detectSessionInUrl, storage, storageKey, }, headers, fetch) {\n        const authHeaders = {\n            Authorization: `Bearer ${this.supabaseKey}`,\n            apikey: `${this.supabaseKey}`,\n        };\n        return new SupabaseAuthClient({\n            url: this.authUrl,\n            headers: Object.assign(Object.assign({}, authHeaders), headers),\n            storageKey: storageKey,\n            autoRefreshToken,\n            persistSession,\n            detectSessionInUrl,\n            storage,\n            fetch,\n        });\n    }\n    _initRealtimeClient(options) {\n        return new RealtimeClient(this.realtimeUrl, Object.assign(Object.assign({}, options), { params: Object.assign({ apikey: this.supabaseKey }, options === null || options === void 0 ? void 0 : options.params) }));\n    }\n    _listenForAuthEvents() {\n        let data = this.auth.onAuthStateChange((event, session) => {\n            this._handleTokenChanged(event, session === null || session === void 0 ? void 0 : session.access_token, 'CLIENT');\n        });\n        return data;\n    }\n    _handleTokenChanged(event, token, source) {\n        if ((event === 'TOKEN_REFRESHED' || event === 'SIGNED_IN') &&\n            this.changedAccessToken !== token) {\n            // Token has changed\n            this.realtime.setAuth(token !== null && token !== void 0 ? token : null);\n            this.changedAccessToken = token;\n        }\n        else if (event === 'SIGNED_OUT' || event === 'USER_DELETED') {\n            // Token is removed\n            this.realtime.setAuth(this.supabaseKey);\n            if (source == 'STORAGE')\n                this.auth.signOut();\n        }\n    }\n}\n//# sourceMappingURL=SupabaseClient.js.map","import SupabaseClient from './SupabaseClient';\nexport * from '@supabase/gotrue-js';\nexport { FunctionsHttpError, FunctionsFetchError, FunctionsRelayError, FunctionsError, } from '@supabase/functions-js';\nexport * from '@supabase/realtime-js';\nexport { default as SupabaseClient } from './SupabaseClient';\n/**\n * Creates a new Supabase Client.\n */\nexport const createClient = (supabaseUrl, supabaseKey, options) => {\n    return new SupabaseClient(supabaseUrl, supabaseKey, options);\n};\n//# sourceMappingURL=index.js.map","import { createClient } from '@supabase/supabase-js'\n\nexport const supabase = createClient(\n  process.env.VUE_APP_SUPABASE_URL as string,\n  process.env.VUE_APP_SUPABASE_KEY as string\n)\n","import { supabase } from '@/lib/supabase'\nimport { ref } from 'vue'\n\nconst allRecipes = ref<Recipe[]>([])\nconst currentRecipe = ref<Recipe>()\n\nasync function fetchRecipes() {\n  try {\n    const { data: recipes, error } = await supabase\n      .from('recipes')\n      .select('*')\n      .order('title')\n\n    if (error) {\n      console.log('error', error)\n      return\n    }\n\n    if (recipes === null) {\n      allRecipes.value = []\n      return\n    }\n\n    allRecipes.value = recipes\n\n    console.log('successfully got recipes', recipes)\n  } catch (err) {\n    console.error('Error retrieving data from db', err)\n  }\n}\n\nasync function fetchRecipe(slug: string) {\n  try {\n    const { data: recipe, error } = await supabase\n      .from('recipes')\n      .select('*')\n      .eq('slug', slug)\n\n    if (error) {\n      console.log('error', error)\n      return\n    }\n\n    if (recipe === null) {\n      // can probably be smarter here\n      // currentRecipe.value = null\n      return\n    }\n\n    console.log('successfully got recipes', allRecipes.value)\n    currentRecipe.value = recipe[0]\n  } catch (err) {\n    console.error('Error retrieving data from db', err)\n  }\n}\n\nexport { allRecipes, currentRecipe, fetchRecipes, fetchRecipe }\n","import { FunctionalComponentOptions, VNode, VNodeData } from 'vue'\nimport mergeData from '../../util/mergeData'\n\nfunction mergeTransitions (\n  dest: Function | Function[] = [],\n  ...transitions: (Function | Function[])[]\n) {\n  /* eslint-disable-next-line no-array-constructor */\n  return Array<Function>().concat(dest, ...transitions)\n}\n\nexport function createSimpleTransition (\n  name: string,\n  origin = 'top center 0',\n  mode?: string\n): FunctionalComponentOptions {\n  return {\n    name,\n\n    functional: true,\n\n    props: {\n      group: {\n        type: Boolean,\n        default: false,\n      },\n      hideOnLeave: {\n        type: Boolean,\n        default: false,\n      },\n      leaveAbsolute: {\n        type: Boolean,\n        default: false,\n      },\n      mode: {\n        type: String,\n        default: mode,\n      },\n      origin: {\n        type: String,\n        default: origin,\n      },\n    },\n\n    render (h, context): VNode {\n      const tag = `transition${context.props.group ? '-group' : ''}`\n      const data: VNodeData = {\n        props: {\n          name,\n          mode: context.props.mode,\n        },\n        on: {\n          beforeEnter (el: HTMLElement) {\n            el.style.transformOrigin = context.props.origin\n            el.style.webkitTransformOrigin = context.props.origin\n          },\n        },\n      }\n\n      if (context.props.leaveAbsolute) {\n        data.on!.leave = mergeTransitions(data.on!.leave, (el: HTMLElement) => {\n          const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = el\n          el._transitionInitialStyles = {\n            position: el.style.position,\n            top: el.style.top,\n            left: el.style.left,\n            width: el.style.width,\n            height: el.style.height,\n          }\n          el.style.position = 'absolute'\n          el.style.top = offsetTop + 'px'\n          el.style.left = offsetLeft + 'px'\n          el.style.width = offsetWidth + 'px'\n          el.style.height = offsetHeight + 'px'\n        })\n        data.on!.afterLeave = mergeTransitions(data.on!.afterLeave, (el?: HTMLElement) => {\n          if (el && el._transitionInitialStyles) {\n            const { position, top, left, width, height } = el._transitionInitialStyles\n            delete el._transitionInitialStyles\n            el.style.position = position || ''\n            el.style.top = top || ''\n            el.style.left = left || ''\n            el.style.width = width || ''\n            el.style.height = height || ''\n          }\n        })\n      }\n      if (context.props.hideOnLeave) {\n        data.on!.leave = mergeTransitions(data.on!.leave, (el: HTMLElement) => {\n          el.style.setProperty('display', 'none', 'important')\n        })\n      }\n\n      return h(tag, mergeData(context.data, data), context.children)\n    },\n  }\n}\n\nexport function createJavascriptTransition (\n  name: string,\n  functions: Record<string, any>,\n  mode = 'in-out'\n): FunctionalComponentOptions {\n  return {\n    name,\n\n    functional: true,\n\n    props: {\n      mode: {\n        type: String,\n        default: mode,\n      },\n    },\n\n    render (h, context): VNode {\n      return h(\n        'transition',\n        mergeData(context.data, {\n          props: { name },\n          on: functions,\n        }),\n        context.children\n      )\n    },\n  }\n}\n","import { upperFirst } from '../../util/helpers'\n\ninterface HTMLExpandElement extends HTMLElement {\n  _parent?: (Node & ParentNode & HTMLElement) | null\n  _initialStyle?: {\n    transition: string\n    overflow: string\n    height?: string | null\n    width?: string | null\n  }\n}\n\nexport default function (expandedParentClass = '', x = false) {\n  const sizeProperty = x ? 'width' : 'height' as 'width' | 'height'\n  const offsetProperty = `offset${upperFirst(sizeProperty)}` as 'offsetHeight' | 'offsetWidth'\n\n  return {\n    beforeEnter (el: HTMLExpandElement) {\n      el._parent = el.parentNode as (Node & ParentNode & HTMLElement) | null\n      el._initialStyle = {\n        transition: el.style.transition,\n        overflow: el.style.overflow,\n        [sizeProperty]: el.style[sizeProperty],\n      }\n    },\n\n    enter (el: HTMLExpandElement) {\n      const initialStyle = el._initialStyle!\n\n      el.style.setProperty('transition', 'none', 'important')\n      // Hide overflow to account for collapsed margins in the calculated height\n      el.style.overflow = 'hidden'\n      const offset = `${el[offsetProperty]}px`\n\n      el.style[sizeProperty] = '0'\n\n      void el.offsetHeight // force reflow\n\n      el.style.transition = initialStyle.transition\n\n      if (expandedParentClass && el._parent) {\n        el._parent.classList.add(expandedParentClass)\n      }\n\n      requestAnimationFrame(() => {\n        el.style[sizeProperty] = offset\n      })\n    },\n\n    afterEnter: resetStyles,\n    enterCancelled: resetStyles,\n\n    leave (el: HTMLExpandElement) {\n      el._initialStyle = {\n        transition: '',\n        overflow: el.style.overflow,\n        [sizeProperty]: el.style[sizeProperty],\n      }\n\n      el.style.overflow = 'hidden'\n      el.style[sizeProperty] = `${el[offsetProperty]}px`\n      void el.offsetHeight // force reflow\n\n      requestAnimationFrame(() => (el.style[sizeProperty] = '0'))\n    },\n\n    afterLeave,\n    leaveCancelled: afterLeave,\n  }\n\n  function afterLeave (el: HTMLExpandElement) {\n    if (expandedParentClass && el._parent) {\n      el._parent.classList.remove(expandedParentClass)\n    }\n    resetStyles(el)\n  }\n\n  function resetStyles (el: HTMLExpandElement) {\n    const size = el._initialStyle![sizeProperty]\n    el.style.overflow = el._initialStyle!.overflow\n    if (size != null) el.style[sizeProperty] = size\n    delete el._initialStyle\n  }\n}\n","import {\n  createSimpleTransition,\n  createJavascriptTransition,\n} from './createTransition'\n\nimport ExpandTransitionGenerator from './expand-transition'\n\n// Component specific transitions\nexport const VCarouselTransition = createSimpleTransition('carousel-transition')\nexport const VCarouselReverseTransition = createSimpleTransition('carousel-reverse-transition')\nexport const VTabTransition = createSimpleTransition('tab-transition')\nexport const VTabReverseTransition = createSimpleTransition('tab-reverse-transition')\nexport const VMenuTransition = createSimpleTransition('menu-transition')\nexport const VFabTransition = createSimpleTransition('fab-transition', 'center center', 'out-in')\n\n// Generic transitions\nexport const VDialogTransition = createSimpleTransition('dialog-transition')\nexport const VDialogBottomTransition = createSimpleTransition('dialog-bottom-transition')\nexport const VDialogTopTransition = createSimpleTransition('dialog-top-transition')\nexport const VFadeTransition = createSimpleTransition('fade-transition')\nexport const VScaleTransition = createSimpleTransition('scale-transition')\nexport const VScrollXTransition = createSimpleTransition('scroll-x-transition')\nexport const VScrollXReverseTransition = createSimpleTransition('scroll-x-reverse-transition')\nexport const VScrollYTransition = createSimpleTransition('scroll-y-transition')\nexport const VScrollYReverseTransition = createSimpleTransition('scroll-y-reverse-transition')\nexport const VSlideXTransition = createSimpleTransition('slide-x-transition')\nexport const VSlideXReverseTransition = createSimpleTransition('slide-x-reverse-transition')\nexport const VSlideYTransition = createSimpleTransition('slide-y-transition')\nexport const VSlideYReverseTransition = createSimpleTransition('slide-y-reverse-transition')\n\n// Javascript transitions\nexport const VExpandTransition = createJavascriptTransition('expand-transition', ExpandTransitionGenerator())\nexport const VExpandXTransition = createJavascriptTransition('expand-x-transition', ExpandTransitionGenerator('', true))\n\nexport default {\n  $_vuetify_subcomponents: {\n    VCarouselTransition,\n    VCarouselReverseTransition,\n    VDialogTransition,\n    VDialogBottomTransition,\n    VDialogTopTransition,\n    VFabTransition,\n    VFadeTransition,\n    VMenuTransition,\n    VScaleTransition,\n    VScrollXTransition,\n    VScrollXReverseTransition,\n    VScrollYTransition,\n    VScrollYReverseTransition,\n    VSlideXTransition,\n    VSlideXReverseTransition,\n    VSlideYTransition,\n    VSlideYReverseTransition,\n    VTabReverseTransition,\n    VTabTransition,\n    VExpandTransition,\n    VExpandXTransition,\n  },\n}\n","import Vue, { VueConstructor } from 'vue'\n\nexport type Proxyable<T extends string = 'value'> = VueConstructor<Vue & {\n  internalLazyValue: unknown\n  internalValue: unknown\n} & Record<T, any>>\n\nexport function factory<T extends string = 'value'> (prop?: T, event?: string): Proxyable<T>\nexport function factory (\n  prop = 'value',\n  event = 'change'\n) {\n  return Vue.extend({\n    name: 'proxyable',\n\n    model: {\n      prop,\n      event,\n    },\n\n    props: {\n      [prop]: {\n        required: false,\n      },\n    },\n\n    data () {\n      return {\n        internalLazyValue: this[prop] as unknown,\n      }\n    },\n\n    computed: {\n      internalValue: {\n        get (): unknown {\n          return this.internalLazyValue\n        },\n        set (val: any) {\n          if (val === this.internalLazyValue) return\n\n          this.internalLazyValue = val\n\n          this.$emit(event, val)\n        },\n      },\n    },\n\n    watch: {\n      [prop] (val) {\n        this.internalLazyValue = val\n      },\n    },\n  })\n}\n\n/* eslint-disable-next-line @typescript-eslint/no-redeclare */\nconst Proxyable = factory()\n\nexport default Proxyable\n","import './VProgressLinear.sass'\n\n// Components\nimport {\n  VFadeTransition,\n  VSlideXTransition,\n} from '../transitions'\n\n// Directives\nimport intersect from '../../directives/intersect'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { factory as PositionableFactory } from '../../mixins/positionable'\nimport Proxyable from '../../mixins/proxyable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { FunctionalComponentOptions } from 'vue/types'\nimport { VNode } from 'vue'\n\nconst baseMixins = mixins(\n  Colorable,\n  PositionableFactory(['absolute', 'fixed', 'top', 'bottom']),\n  Proxyable,\n  Themeable\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-progress-linear',\n\n  directives: { intersect },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: true,\n    },\n    backgroundColor: {\n      type: String,\n      default: null,\n    },\n    backgroundOpacity: {\n      type: [Number, String],\n      default: null,\n    },\n    bufferValue: {\n      type: [Number, String],\n      default: 100,\n    },\n    color: {\n      type: String,\n      default: 'primary',\n    },\n    height: {\n      type: [Number, String],\n      default: 4,\n    },\n    indeterminate: Boolean,\n    query: Boolean,\n    reverse: Boolean,\n    rounded: Boolean,\n    stream: Boolean,\n    striped: Boolean,\n    value: {\n      type: [Number, String],\n      default: 0,\n    },\n  },\n\n  data () {\n    return {\n      internalLazyValue: this.value || 0,\n      isVisible: true,\n    }\n  },\n\n  computed: {\n    __cachedBackground (): VNode {\n      return this.$createElement('div', this.setBackgroundColor(this.backgroundColor || this.color, {\n        staticClass: 'v-progress-linear__background',\n        style: this.backgroundStyle,\n      }))\n    },\n    __cachedBar (): VNode {\n      return this.$createElement(this.computedTransition, [this.__cachedBarType])\n    },\n    __cachedBarType (): VNode {\n      return this.indeterminate ? this.__cachedIndeterminate : this.__cachedDeterminate\n    },\n    __cachedBuffer (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-progress-linear__buffer',\n        style: this.styles,\n      })\n    },\n    __cachedDeterminate (): VNode {\n      return this.$createElement('div', this.setBackgroundColor(this.color, {\n        staticClass: `v-progress-linear__determinate`,\n        style: {\n          width: convertToUnit(this.normalizedValue, '%'),\n        },\n      }))\n    },\n    __cachedIndeterminate (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-progress-linear__indeterminate',\n        class: {\n          'v-progress-linear__indeterminate--active': this.active,\n        },\n      }, [\n        this.genProgressBar('long'),\n        this.genProgressBar('short'),\n      ])\n    },\n    __cachedStream (): VNode | null {\n      if (!this.stream) return null\n\n      return this.$createElement('div', this.setTextColor(this.color, {\n        staticClass: 'v-progress-linear__stream',\n        style: {\n          width: convertToUnit(100 - this.normalizedBuffer, '%'),\n        },\n      }))\n    },\n    backgroundStyle (): object {\n      const backgroundOpacity = this.backgroundOpacity == null\n        ? (this.backgroundColor ? 1 : 0.3)\n        : parseFloat(this.backgroundOpacity)\n\n      return {\n        opacity: backgroundOpacity,\n        [this.isReversed ? 'right' : 'left']: convertToUnit(this.normalizedValue, '%'),\n        width: convertToUnit(Math.max(0, this.normalizedBuffer - this.normalizedValue), '%'),\n      }\n    },\n    classes (): object {\n      return {\n        'v-progress-linear--absolute': this.absolute,\n        'v-progress-linear--fixed': this.fixed,\n        'v-progress-linear--query': this.query,\n        'v-progress-linear--reactive': this.reactive,\n        'v-progress-linear--reverse': this.isReversed,\n        'v-progress-linear--rounded': this.rounded,\n        'v-progress-linear--striped': this.striped,\n        'v-progress-linear--visible': this.isVisible,\n        ...this.themeClasses,\n      }\n    },\n    computedTransition (): FunctionalComponentOptions {\n      return this.indeterminate ? VFadeTransition : VSlideXTransition\n    },\n    isReversed (): boolean {\n      return this.$vuetify.rtl !== this.reverse\n    },\n    normalizedBuffer (): number {\n      return this.normalize(this.bufferValue)\n    },\n    normalizedValue (): number {\n      return this.normalize(this.internalLazyValue)\n    },\n    reactive (): boolean {\n      return Boolean(this.$listeners.change)\n    },\n    styles (): object {\n      const styles: Record<string, any> = {}\n\n      if (!this.active) {\n        styles.height = 0\n      }\n\n      if (!this.indeterminate && parseFloat(this.normalizedBuffer) !== 100) {\n        styles.width = convertToUnit(this.normalizedBuffer, '%')\n      }\n\n      return styles\n    },\n  },\n\n  methods: {\n    genContent () {\n      const slot = getSlot(this, 'default', { value: this.internalLazyValue })\n\n      if (!slot) return null\n\n      return this.$createElement('div', {\n        staticClass: 'v-progress-linear__content',\n      }, slot)\n    },\n    genListeners () {\n      const listeners = this.$listeners\n\n      if (this.reactive) {\n        listeners.click = this.onClick\n      }\n\n      return listeners\n    },\n    genProgressBar (name: 'long' | 'short') {\n      return this.$createElement('div', this.setBackgroundColor(this.color, {\n        staticClass: 'v-progress-linear__indeterminate',\n        class: {\n          [name]: true,\n        },\n      }))\n    },\n    onClick (e: MouseEvent) {\n      if (!this.reactive) return\n\n      const { width } = this.$el.getBoundingClientRect()\n\n      this.internalValue = e.offsetX / width * 100\n    },\n    onObserve (entries: IntersectionObserverEntry[], observer: IntersectionObserver, isIntersecting: boolean) {\n      this.isVisible = isIntersecting\n    },\n    normalize (value: string | number) {\n      if (value < 0) return 0\n      if (value > 100) return 100\n      return parseFloat(value)\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      staticClass: 'v-progress-linear',\n      attrs: {\n        role: 'progressbar',\n        'aria-valuemin': 0,\n        'aria-valuemax': this.normalizedBuffer,\n        'aria-valuenow': this.indeterminate ? undefined : this.normalizedValue,\n      },\n      class: this.classes,\n      directives: [{\n        name: 'intersect',\n        value: this.onObserve,\n      }],\n      style: {\n        bottom: this.bottom ? 0 : undefined,\n        height: this.active ? convertToUnit(this.height) : 0,\n        top: this.top ? 0 : undefined,\n      },\n      on: this.genListeners(),\n    }\n\n    return h('div', data, [\n      this.__cachedStream,\n      this.__cachedBackground,\n      this.__cachedBuffer,\n      this.__cachedBar,\n      this.genContent(),\n    ])\n  },\n})\n","import VProgressLinear from './VProgressLinear'\n\nexport { VProgressLinear }\nexport default VProgressLinear\n","import Vue, { VNode } from 'vue'\nimport VProgressLinear from '../../components/VProgressLinear'\n\ninterface colorable extends Vue {\n  color?: string\n}\n\n/**\n * Loadable\n *\n * @mixin\n *\n * Used to add linear progress bar to components\n * Can use a default bar with a specific color\n * or designate a custom progress linear bar\n */\n/* @vue/component */\nexport default Vue.extend<colorable>().extend({\n  name: 'loadable',\n\n  props: {\n    loading: {\n      type: [Boolean, String],\n      default: false,\n    },\n    loaderHeight: {\n      type: [Number, String],\n      default: 2,\n    },\n  },\n\n  methods: {\n    genProgress (): VNode | VNode[] | null {\n      if (this.loading === false) return null\n\n      return this.$slots.progress || this.$createElement(VProgressLinear, {\n        props: {\n          absolute: true,\n          color: (this.loading === true || this.loading === '')\n            ? (this.color || 'primary')\n            : this.loading,\n          height: this.loaderHeight,\n          indeterminate: true,\n        },\n      })\n    },\n  },\n})\n","// Styles\nimport './VCard.sass'\n\n// Extensions\nimport VSheet from '../VSheet'\n\n// Mixins\nimport Loadable from '../../mixins/loadable'\nimport Routable from '../../mixins/routable'\n\n// Helpers\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default mixins(\n  Loadable,\n  Routable,\n  VSheet\n).extend({\n  name: 'v-card',\n\n  props: {\n    flat: Boolean,\n    hover: Boolean,\n    img: String,\n    link: Boolean,\n    loaderHeight: {\n      type: [Number, String],\n      default: 4,\n    },\n    raised: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-card': true,\n        ...Routable.options.computed.classes.call(this),\n        'v-card--flat': this.flat,\n        'v-card--hover': this.hover,\n        'v-card--link': this.isClickable,\n        'v-card--loading': this.loading,\n        'v-card--disabled': this.disabled,\n        'v-card--raised': this.raised,\n        ...VSheet.options.computed.classes.call(this),\n      }\n    },\n    styles (): object {\n      const style: Dictionary<string> = {\n        ...VSheet.options.computed.styles.call(this),\n      }\n\n      if (this.img) {\n        style.background = `url(\"${this.img}\") center center / cover no-repeat`\n      }\n\n      return style\n    },\n  },\n\n  methods: {\n    genProgress () {\n      const render = Loadable.options.methods.genProgress.call(this)\n\n      if (!render) return null\n\n      return this.$createElement('div', {\n        staticClass: 'v-card__progress',\n        key: 'progress',\n      }, [render])\n    },\n  },\n\n  render (h): VNode {\n    const { tag, data } = this.generateRouteLink()\n\n    data.style = this.styles\n\n    if (this.isClickable) {\n      data.attrs = data.attrs || {}\n      data.attrs.tabindex = 0\n    }\n\n    return h(tag, this.setBackgroundColor(this.color, data), [\n      this.genProgress(),\n      this.$slots.default,\n    ])\n  },\n})\n","import VCard from './VCard'\nimport { createSimpleFunctional } from '../../util/helpers'\n\nconst VCardActions = createSimpleFunctional('v-card__actions')\nconst VCardSubtitle = createSimpleFunctional('v-card__subtitle')\nconst VCardText = createSimpleFunctional('v-card__text')\nconst VCardTitle = createSimpleFunctional('v-card__title')\n\nexport {\n  VCard,\n  VCardActions,\n  VCardSubtitle,\n  VCardText,\n  VCardTitle,\n}\n\nexport default {\n  $_vuetify_subcomponents: {\n    VCard,\n    VCardActions,\n    VCardSubtitle,\n    VCardText,\n    VCardTitle,\n  },\n}\n","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","/*! @license DOMPurify 2.4.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.1/LICENSE */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.DOMPurify = factory());\n})(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (_isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var hasOwnProperty = Object.hasOwnProperty,\n      setPrototypeOf = Object.setPrototypeOf,\n      isFrozen = Object.isFrozen,\n      getPrototypeOf = Object.getPrototypeOf,\n      getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n  var freeze = Object.freeze,\n      seal = Object.seal,\n      create = Object.create; // eslint-disable-line import/no-mutable-exports\n\n  var _ref = typeof Reflect !== 'undefined' && Reflect,\n      apply = _ref.apply,\n      construct = _ref.construct;\n\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return _construct(Func, _toConsumableArray(args));\n    };\n  }\n\n  var arrayForEach = unapply(Array.prototype.forEach);\n  var arrayPop = unapply(Array.prototype.pop);\n  var arrayPush = unapply(Array.prototype.push);\n  var stringToLowerCase = unapply(String.prototype.toLowerCase);\n  var stringToString = unapply(String.prototype.toString);\n  var stringMatch = unapply(String.prototype.match);\n  var stringReplace = unapply(String.prototype.replace);\n  var stringIndexOf = unapply(String.prototype.indexOf);\n  var stringTrim = unapply(String.prototype.trim);\n  var regExpTest = unapply(RegExp.prototype.test);\n  var typeErrorCreate = unconstruct(TypeError);\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return apply(func, thisArg, args);\n    };\n  }\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return construct(func, args);\n    };\n  }\n  /* Add properties to a lookup table */\n\n  function addToSet(set, array, transformCaseFunc) {\n    transformCaseFunc = transformCaseFunc ? transformCaseFunc : stringToLowerCase;\n\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n\n    var l = array.length;\n\n    while (l--) {\n      var element = array[l];\n\n      if (typeof element === 'string') {\n        var lcElement = transformCaseFunc(element);\n\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n\n          element = lcElement;\n        }\n      }\n\n      set[element] = true;\n    }\n\n    return set;\n  }\n  /* Shallow clone an object */\n\n  function clone(object) {\n    var newObject = create(null);\n    var property;\n\n    for (property in object) {\n      if (apply(hasOwnProperty, object, [property])) {\n        newObject[property] = object[property];\n      }\n    }\n\n    return newObject;\n  }\n  /* IE10 doesn't support __lookupGetter__ so lets'\n   * simulate it. It also automatically checks\n   * if the prop is function or getter and behaves\n   * accordingly. */\n\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      var desc = getOwnPropertyDescriptor(object, prop);\n\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n\n      object = getPrototypeOf(object);\n    }\n\n    function fallbackValue(element) {\n      console.warn('fallback value for', element);\n      return null;\n    }\n\n    return fallbackValue;\n  }\n\n  var html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']); // SVG\n\n  var svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n  var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']); // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n\n  var svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'fedropshadow', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n  var mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']); // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n\n  var mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n  var text = freeze(['#text']);\n\n  var html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\n  var svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n  var mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n  var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n\n  var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n  var TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\n  var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n\n  var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n\n  var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n  var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n  var DOCTYPE_NAME = seal(/^html$/i);\n\n  var getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {Document} document The document object (to determine policy name suffix)\n   * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported).\n   */\n\n\n  var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n    if (_typeof(trustedTypes) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    } // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n\n\n    var suffix = null;\n    var ATTR_NAME = 'data-tt-policy-suffix';\n\n    if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n      suffix = document.currentScript.getAttribute(ATTR_NAME);\n    }\n\n    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML: function createHTML(html) {\n          return html;\n        },\n        createScriptURL: function createScriptURL(scriptUrl) {\n          return scriptUrl;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n\n  function createDOMPurify() {\n    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n    var DOMPurify = function DOMPurify(root) {\n      return createDOMPurify(root);\n    };\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n\n\n    DOMPurify.version = '2.4.1';\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n      return DOMPurify;\n    }\n\n    var originalDocument = window.document;\n    var document = window.document;\n    var DocumentFragment = window.DocumentFragment,\n        HTMLTemplateElement = window.HTMLTemplateElement,\n        Node = window.Node,\n        Element = window.Element,\n        NodeFilter = window.NodeFilter,\n        _window$NamedNodeMap = window.NamedNodeMap,\n        NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n        HTMLFormElement = window.HTMLFormElement,\n        DOMParser = window.DOMParser,\n        trustedTypes = window.trustedTypes;\n    var ElementPrototype = Element.prototype;\n    var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    var getParentNode = lookupGetter(ElementPrototype, 'parentNode'); // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n\n    if (typeof HTMLTemplateElement === 'function') {\n      var template = document.createElement('template');\n\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n\n    var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n\n    var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n    var _document = document,\n        implementation = _document.implementation,\n        createNodeIterator = _document.createNodeIterator,\n        createDocumentFragment = _document.createDocumentFragment,\n        getElementsByTagName = _document.getElementsByTagName;\n    var importNode = originalDocument.importNode;\n    var documentMode = {};\n\n    try {\n      documentMode = clone(document).documentMode ? document.documentMode : {};\n    } catch (_) {}\n\n    var hooks = {};\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n\n    DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n    var MUSTACHE_EXPR$1 = MUSTACHE_EXPR,\n        ERB_EXPR$1 = ERB_EXPR,\n        TMPLIT_EXPR$1 = TMPLIT_EXPR,\n        DATA_ATTR$1 = DATA_ATTR,\n        ARIA_ATTR$1 = ARIA_ATTR,\n        IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA,\n        ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n    var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n    /* Allowed attribute names */\n\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n    /*\n     * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n     * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n     * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n     * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n     */\n\n    var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false\n      }\n    }));\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n\n    var FORBID_TAGS = null;\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n\n    var FORBID_ATTR = null;\n    /* Decide if ARIA attributes are okay */\n\n    var ALLOW_ARIA_ATTR = true;\n    /* Decide if custom data attributes are okay */\n\n    var ALLOW_DATA_ATTR = true;\n    /* Decide if unknown protocols are okay */\n\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n\n    var SAFE_FOR_TEMPLATES = false;\n    /* Decide if document with <html>... should be returned */\n\n    var WHOLE_DOCUMENT = false;\n    /* Track whether config is already set on this instance of DOMPurify. */\n\n    var SET_CONFIG = false;\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n\n    var FORCE_BODY = false;\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n\n    var RETURN_DOM = false;\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n\n    var RETURN_DOM_FRAGMENT = false;\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n\n    var RETURN_TRUSTED_TYPE = false;\n    /* Output should be free from DOM clobbering attacks?\n     * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n     */\n\n    var SANITIZE_DOM = true;\n    /* Achieve full DOM Clobbering protection by isolating the namespace of named\n     * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n     *\n     * HTML/DOM spec rules that enable DOM Clobbering:\n     *   - Named Access on Window (7.3.3)\n     *   - DOM Tree Accessors (3.1.5)\n     *   - Form Element Parent-Child Relations (4.10.3)\n     *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n     *   - HTMLCollection (4.2.10.2)\n     *\n     * Namespace isolation is implemented by prefixing `id` and `name` attributes\n     * with a constant string, i.e., `user-content-`\n     */\n\n    var SANITIZE_NAMED_PROPS = false;\n    var SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n    /* Keep element content when removing element? */\n\n    var KEEP_CONTENT = true;\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n\n    var IN_PLACE = false;\n    /* Allow usage of profiles like html, svg and mathMl */\n\n    var USE_PROFILES = {};\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n\n    var FORBID_CONTENTS = null;\n    var DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n    /* Tags that are safe for data: URIs */\n\n    var DATA_URI_TAGS = null;\n    var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n    /* Attributes safe for values like \"javascript:\" */\n\n    var URI_SAFE_ATTRIBUTES = null;\n    var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n    var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n\n    var NAMESPACE = HTML_NAMESPACE;\n    var IS_EMPTY_INPUT = false;\n    /* Allowed XHTML+XML namespaces */\n\n    var ALLOWED_NAMESPACES = null;\n    var DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n    /* Parsing of strict XHTML documents */\n\n    var PARSER_MEDIA_TYPE;\n    var SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n    var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n    var transformCaseFunc;\n    /* Keep a reference to config to pass to hooks */\n\n    var CONFIG = null;\n    /* Ideally, do not touch anything below this line */\n\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    var isRegexOrFunction = function isRegexOrFunction(testValue) {\n      return testValue instanceof RegExp || testValue instanceof Function;\n    };\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n\n\n    var _parseConfig = function _parseConfig(cfg) {\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n      /* Shield configuration object from tampering */\n\n\n      if (!cfg || _typeof(cfg) !== 'object') {\n        cfg = {};\n      }\n      /* Shield configuration object from prototype pollution */\n\n\n      cfg = clone(cfg);\n      PARSER_MEDIA_TYPE = // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE; // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n\n      transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n      /* Set configuration parameters */\n\n      ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n      ALLOWED_NAMESPACES = 'ALLOWED_NAMESPACES' in cfg ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n      URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n      cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n      cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_DATA_URI_TAGS;\n      FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n      FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n      FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n      USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n\n      SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n\n      IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n        CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n      }\n\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n      /* Parse profile info */\n\n\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n        ALLOWED_ATTR = [];\n\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html$1);\n          addToSet(ALLOWED_ATTR, html);\n        }\n\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg$1);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl$1);\n          addToSet(ALLOWED_ATTR, mathMl);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n      /* Merge configuration parameters */\n\n\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n      }\n\n      if (cfg.FORBID_CONTENTS) {\n        if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n          FORBID_CONTENTS = clone(FORBID_CONTENTS);\n        }\n\n        addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n      }\n      /* Add #text in case KEEP_CONTENT is set to true */\n\n\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n\n\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n\n\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      } // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n\n\n      if (freeze) {\n        freeze(cfg);\n      }\n\n      CONFIG = cfg;\n    };\n\n    var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n    var HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']); // Certain elements are allowed in both SVG and HTML\n    // namespace. We need to specify them explicitly\n    // so that they don't get erroneously deleted from\n    // HTML namespace.\n\n    var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n\n    var ALL_SVG_TAGS = addToSet({}, svg$1);\n    addToSet(ALL_SVG_TAGS, svgFilters);\n    addToSet(ALL_SVG_TAGS, svgDisallowed);\n    var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n    addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n    /**\n     *\n     *\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n\n    var _checkValidNamespace = function _checkValidNamespace(element) {\n      var parent = getParentNode(element); // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: NAMESPACE,\n          tagName: 'template'\n        };\n      }\n\n      var tagName = stringToLowerCase(element.tagName);\n      var parentTagName = stringToLowerCase(parent.tagName);\n\n      if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return false;\n      }\n\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        } // The only way to switch from MathML to SVG is via`\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n\n\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        } // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n\n\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        } // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n\n\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        } // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n\n\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        } // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n\n\n        return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n      } // For XHTML and XML documents that support custom namespaces\n\n\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return true;\n      } // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n      // Return false just in case.\n\n\n      return false;\n    };\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n\n\n    var _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, {\n        element: node\n      });\n\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        try {\n          node.outerHTML = emptyHTML;\n        } catch (_) {\n          node.remove();\n        }\n      }\n    };\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n\n\n    var _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n\n      node.removeAttribute(name); // We void attribute values for unremovable \"is\"\" attributes\n\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n\n\n    var _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      var doc;\n      var leadingWhitespace;\n\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n        // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n        dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n      }\n\n      var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n        } catch (_) {}\n      }\n      /* Use createHTMLDocument in case DOMParser is not available */\n\n\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n        } catch (_) {// Syntax error if dirtyPayload is invalid xml\n        }\n      }\n\n      var body = doc.body || doc.documentElement;\n\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n      /* Work on whole document or just its body */\n\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n    /**\n     * _createIterator\n     *\n     * @param  {Document} root document/fragment to create iterator for\n     * @return {Iterator} iterator instance\n     */\n\n\n    var _createIterator = function _createIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root, // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n    };\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n\n\n    var _isClobbered = function _isClobbered(elm) {\n      return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n    };\n    /**\n     * _isNode\n     *\n     * @param  {Node} obj object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n\n\n    var _isNode = function _isNode(object) {\n      return _typeof(Node) === 'object' ? object instanceof Node : object && _typeof(object) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n    };\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n\n\n    var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n\n      arrayForEach(hooks[entryPoint], function (hook) {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n\n\n    var _sanitizeElements = function _sanitizeElements(currentNode) {\n      var content;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeElements', currentNode, null);\n      /* Check if element is clobbered or can clobber */\n\n\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Check if tagname contains Unicode */\n\n\n      if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Now let's check the element's type and name */\n\n\n      var tagName = transformCaseFunc(currentNode.nodeName);\n      /* Execute a hook if present */\n\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName: tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n      /* Detect mXSS attempts abusing namespace confusion */\n\n\n      if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Mitigate a problem with templates inside select */\n\n\n      if (tagName === 'select' && regExpTest(/<template/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Remove element if anything forbids its presence */\n\n\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Check if we have a custom element to handle */\n        if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) return false;\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) return false;\n        }\n        /* Keep content except for bad-listed elements */\n\n\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n          if (childNodes && parentNode) {\n            var childCount = childNodes.length;\n\n            for (var i = childCount - 1; i >= 0; --i) {\n              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n            }\n          }\n        }\n\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Check whether element has a valid namespace */\n\n\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n\n      if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Sanitize element content to be template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        content = stringReplace(content, MUSTACHE_EXPR$1, ' ');\n        content = stringReplace(content, ERB_EXPR$1, ' ');\n        content = stringReplace(content, TMPLIT_EXPR$1, ' ');\n\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, {\n            element: currentNode.cloneNode()\n          });\n          currentNode.textContent = content;\n        }\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeElements', currentNode, null);\n\n      return false;\n    };\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n\n\n    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n\n\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        if ( // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        _basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n          return false;\n        }\n        /* Check value is safe. First, is attr inert? If so, is safe */\n\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ; else if (!value) ; else {\n        return false;\n      }\n\n      return true;\n    };\n    /**\n     * _basicCustomElementCheck\n     * checks if at least one dash is included in tagName, and it's not the first char\n     * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n     * @param {string} tagName name of the tag of the node to sanitize\n     */\n\n\n    var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n      return tagName.indexOf('-') > 0;\n    };\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n\n\n    var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      var attr;\n      var value;\n      var lcName;\n      var l;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n      var attributes = currentNode.attributes;\n      /* Check if we have attributes; if not we might have a text node */\n\n      if (!attributes) {\n        return;\n      }\n\n      var hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      l = attributes.length;\n      /* Go backwards over all attributes; safely remove bad ones */\n\n      while (l--) {\n        attr = attributes[l];\n        var _attr = attr,\n            name = _attr.name,\n            namespaceURI = _attr.namespaceURI;\n        value = name === 'value' ? attr.value : stringTrim(attr.value);\n        lcName = transformCaseFunc(name);\n        /* Execute a hook if present */\n\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n        /* Remove attribute */\n\n\n        _removeAttribute(name, currentNode);\n        /* Did the hooks approve of the attribute? */\n\n\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n        /* Work around a security issue in jQuery 3.0 */\n\n\n        if (regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n\n          continue;\n        }\n        /* Sanitize attribute content to be template-safe */\n\n\n        if (SAFE_FOR_TEMPLATES) {\n          value = stringReplace(value, MUSTACHE_EXPR$1, ' ');\n          value = stringReplace(value, ERB_EXPR$1, ' ');\n          value = stringReplace(value, TMPLIT_EXPR$1, ' ');\n        }\n        /* Is `value` valid for this attribute? */\n\n\n        var lcTag = transformCaseFunc(currentNode.nodeName);\n\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n        /* Full DOM Clobbering protection via namespace isolation,\n         * Prefix id and name attributes with `user-content-`\n         */\n\n\n        if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n          // Remove the attribute with this value\n          _removeAttribute(name, currentNode); // Prefix the value and later re-create the attribute with the sanitized value\n\n\n          value = SANITIZE_NAMED_PROPS_PREFIX + value;\n        }\n        /* Handle attributes that require Trusted Types */\n\n\n        if (trustedTypesPolicy && _typeof(trustedTypes) === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n          if (namespaceURI) ; else {\n            switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n              case 'TrustedHTML':\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n\n              case 'TrustedScriptURL':\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n            }\n          }\n        }\n        /* Handle invalid data-* attribute set by try-catching it */\n\n\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n\n\n    var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      var shadowNode;\n\n      var shadowIterator = _createIterator(fragment);\n      /* Execute a hook if present */\n\n\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n        /* Sanitize tags and elements */\n\n\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n        /* Deep shadow DOM detected */\n\n\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n\n        _sanitizeAttributes(shadowNode);\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    // eslint-disable-next-line complexity\n\n\n    DOMPurify.sanitize = function (dirty) {\n      var cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var body;\n      var importedNode;\n      var currentNode;\n      var oldNode;\n      var returnNode;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n\n      IS_EMPTY_INPUT = !dirty;\n\n      if (IS_EMPTY_INPUT) {\n        dirty = '<!-->';\n      }\n      /* Stringify, in case dirty is an object */\n\n\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        // eslint-disable-next-line no-negated-condition\n        if (typeof dirty.toString !== 'function') {\n          throw typeErrorCreate('toString is not a function');\n        } else {\n          dirty = dirty.toString();\n\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        }\n      }\n      /* Check we can run. Otherwise fall back or ignore */\n\n\n      if (!DOMPurify.isSupported) {\n        if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n          if (typeof dirty === 'string') {\n            return window.toStaticHTML(dirty);\n          }\n\n          if (_isNode(dirty)) {\n            return window.toStaticHTML(dirty.outerHTML);\n          }\n        }\n\n        return dirty;\n      }\n      /* Assign config vars */\n\n\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n      /* Clean up removed elements */\n\n\n      DOMPurify.removed = [];\n      /* Check if dirty is correctly typed for IN_PLACE */\n\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n\n      if (IN_PLACE) {\n        /* Do some early pre-sanitization to avoid unsafe root nodes */\n        if (dirty.nodeName) {\n          var tagName = transformCaseFunc(dirty.nodeName);\n\n          if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n          }\n        }\n      } else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!---->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n        /* Initialize the document to work on */\n\n\n        body = _initDocument(dirty);\n        /* Check we have a DOM node from the data */\n\n        if (!body) {\n          return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n        }\n      }\n      /* Remove first element node (ours) if FORCE_BODY is set */\n\n\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n      /* Get node iterator */\n\n\n      var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n      /* Now start iterating over the created document */\n\n\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Fix IE's strange behavior with manipulated textNodes #89 */\n        if (currentNode.nodeType === 3 && currentNode === oldNode) {\n          continue;\n        }\n        /* Sanitize tags and elements */\n\n\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n        /* Shadow DOM detected, sanitize it */\n\n\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n\n        _sanitizeAttributes(currentNode);\n\n        oldNode = currentNode;\n      }\n\n      oldNode = null;\n      /* If we sanitized `dirty` in-place, return it. */\n\n      if (IN_PLACE) {\n        return dirty;\n      }\n      /* Return sanitized string or DOM */\n\n\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n\n        if (ALLOWED_ATTR.shadowroot) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n\n        return returnNode;\n      }\n\n      var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n      /* Serialize doctype if allowed */\n\n      if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n        serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n      }\n      /* Sanitize final string template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES) {\n        serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, TMPLIT_EXPR$1, ' ');\n      }\n\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n\n\n    DOMPurify.setConfig = function (cfg) {\n      _parseConfig(cfg);\n\n      SET_CONFIG = true;\n    };\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n\n\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {string} tag Tag name of containing element.\n     * @param  {string} attr Attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n\n\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n\n      var lcTag = transformCaseFunc(tag);\n      var lcName = transformCaseFunc(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n\n\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     * @return {Function} removed(popped) hook\n     */\n\n\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        return arrayPop(hooks[entryPoint]);\n      }\n    };\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n\n\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     */\n\n\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n\n    return DOMPurify;\n  }\n\n  var purify = createDOMPurify();\n\n  return purify;\n\n}));\n//# sourceMappingURL=purify.js.map\n","var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Fallback to standard globalThis if available\n\tif (typeof globalThis === \"object\" && globalThis) return globalThis;\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of updates to Object.prototype being restricted\n\t\t// via preventExtensions, seal or freeze\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ works, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n","var _globalThis;\nif (typeof globalThis === 'object') {\n\t_globalThis = globalThis;\n} else {\n\ttry {\n\t\t_globalThis = require('es5-ext/global');\n\t} catch (error) {\n\t} finally {\n\t\tif (!_globalThis && typeof window !== 'undefined') { _globalThis = window; }\n\t\tif (!_globalThis) { throw new Error('Could not determine global this'); }\n\t}\n}\n\nvar NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;\nvar websocket_version = require('./version');\n\n\n/**\n * Expose a W3C WebSocket class with just one or two arguments.\n */\nfunction W3CWebSocket(uri, protocols) {\n\tvar native_instance;\n\n\tif (protocols) {\n\t\tnative_instance = new NativeWebSocket(uri, protocols);\n\t}\n\telse {\n\t\tnative_instance = new NativeWebSocket(uri);\n\t}\n\n\t/**\n\t * 'native_instance' is an instance of nativeWebSocket (the browser's WebSocket\n\t * class). Since it is an Object it will be returned as it is when creating an\n\t * instance of W3CWebSocket via 'new W3CWebSocket()'.\n\t *\n\t * ECMAScript 5: http://bclary.com/2004/11/07/#a-13.2.2\n\t */\n\treturn native_instance;\n}\nif (NativeWebSocket) {\n\t['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'].forEach(function(prop) {\n\t\tObject.defineProperty(W3CWebSocket, prop, {\n\t\t\tget: function() { return NativeWebSocket[prop]; }\n\t\t});\n\t});\n}\n\n/**\n * Module exports.\n */\nmodule.exports = {\n    'w3cwebsocket' : NativeWebSocket ? W3CWebSocket : null,\n    'version'      : websocket_version\n};\n","module.exports = require('../package.json').version;\n"],"names":["staticClass","attrs","currentRecipe","domProps","staticRenderFns","_typeof","obj","Symbol","iterator","constructor","prototype","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","call","TypeError","String","Number","_toPropertyKey","arg","key","_defineProperty","value","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","getDefaults","async","baseUrl","breaks","extensions","gfm","headerIds","headerPrefix","highlight","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartypants","tokenizer","walkTokens","xhtml","defaults","changeDefaults","newDefaults","escapeTest","escapeReplace","RegExp","source","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","ch","html","encode","test","replace","unescapeTest","_","n","toLowerCase","charAt","fromCharCode","parseInt","substring","caret","edit","regex","opt","name","val","getRegex","nonWordAndColonTest","originIndependentUrl","cleanUrl","base","href","prot","decodeURIComponent","e","indexOf","resolveUrl","encodeURI","baseUrls","justDomain","protocol","domain","rtrim","relativeBase","noopTest","exec","merge","target","i","arguments","length","hasOwnProperty","splitCells","tableRow","count","row","match","offset","str","escaped","curr","cells","split","trim","shift","pop","splice","push","c","invert","l","suffLen","currChar","slice","findClosingBracket","b","level","checkSanitizeDeprecation","console","warn","repeatString","pattern","result","outputLink","cap","link","raw","lexer","title","text","state","inLink","token","type","tokens","inlineTokens","indentCodeCompensation","matchIndentToCode","indentToCode","map","node","matchIndentInNode","indentInNode","join","Tokenizer","options","this","space","src","rules","block","newline","code","codeBlockStyle","fences","lang","inline","_escapes","heading","trimmed","depth","hr","blockquote","top","blockTokens","list","istask","ischecked","indent","blankLine","endsWithBlankLine","line","nextLine","rawLine","itemContents","endEarly","bull","isordered","ordered","start","loose","items","itemRegex","t","repeat","trimLeft","search","nextBulletRegex","Math","min","hrRegex","fencesBeginRegex","headingBeginRegex","task","checked","trimRight","spacers","filter","hasMultipleLineBreaks","some","pre","def","tag","table","item","header","align","rows","j","k","lheading","paragraph","escape","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","linkLen","reflink","links","nolink","emStrong","maskedSrc","prevChar","lDelim","nextChar","punctuation","lLength","rDelim","rLength","delimTotal","midDelimTotal","endReg","rDelimAst","rDelimUnd","lastIndex","index","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","br","del","autolink","url","prevCapZero","_backpedal","inlineText","_paragraph","_label","_title","bullet","listItemStart","_tag","_comment","normal","reflinkSearch","out","charCodeAt","random","toString","_punctuation","blockSkip","escapedEmSt","_scheme","_email","_attribute","_href","strong","middle","endAst","endUnd","em","_extended_email","Lexer","create","inlineQueue","static","lex","next","lastToken","cutSrc","lastParagraphClipped","leading","tabs","extTokenizer","startBlock","startIndex","Infinity","tempSrc","tempStart","forEach","getStartIndex","errMsg","error","Error","keepPrevChar","keys","includes","lastIndexOf","startInline","Renderer","infostring","quote","slugger","id","slug","body","startatt","listitem","checkbox","tablerow","content","tablecell","flags","image","TextRenderer","Slugger","seen","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","Parser","textRenderer","parser","parse","parseInline","l2","l3","cell","itemBody","ret","renderers","unshift","marked","callback","done","err","pending","setTimeout","onError","message","Promise","all","then","catch","setOptions","use","args","childTokens","pack","opts","ext","prevRenderer","apply","prop","prevTokenizer","values","concat","lexInline","Reflect","getMetadata","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Array","isArray","arr2","iter","from","reflectionIsSupported","defineMetadata","getOwnMetadataKeys","copyReflectionMetadata","to","forwardMetadata","getOwnPropertyNames","propertyKey","metaKeys","metaKey","metadata","getOwnMetadata","fakeArray","__proto__","hasProto","isPrimitive","collectDataFromConstructor","vm","Component","originalInit","_init","_this","$options","props","get","set","data","plainData","$internalHooks","componentFactory","_componentTag","proto","descriptor","getOwnPropertyDescriptor","methods","mixins","computed","decorators","__decorators__","fn","superProto","getPrototypeOf","Super","Extended","extend","forwardStaticMembers","shouldIgnore","callee","caller","Original","extendedDescriptor","superDescriptor","registerHooks","RecipeView","Vue","$route","params","curRec","curSlug","fetchRecipes","allRecipes","x","HtmlBody","dirtyHtml","details","log","DOMPurify","component","render","Grid","_c","_vm","recipe","thumbnail_url","thumbnailImage","_v","required","subtitle","setup","components","RecipePreview","script","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","reject","fulfilled","step","rejected","resolveFetch","customFetch","_fetch","fetch","FunctionsError","context","super","FunctionsFetchError","FunctionsRelayError","FunctionsHttpError","FunctionsClient","headers","setAuth","Authorization","invoke","functionName","invokeOptions","_a","functionArgs","_headers","Blob","ArrayBuffer","FormData","JSON","stringify","response","method","assign","fetchError","isRelayError","ok","responseType","json","blob","formData","PostgrestBuilder","builder","shouldThrowOnError","schema","signal","allowEmpty","throwOnError","onfulfilled","onrejected","_b","status","statusText","countHeader","contentRange","_d","postgrestResponse","PostgrestTransformBuilder","select","columns","quoted","cleanedColumns","searchParams","order","column","ascending","nullsFirst","foreignTable","existingOrder","limit","range","keyOffset","keyLimit","abortSignal","single","maybeSingle","csv","geojson","explain","analyze","verbose","settings","buffers","wal","format","Boolean","forMediatype","rollback","returns","PostgrestFilterBuilder","eq","append","neq","gt","gte","lt","lte","like","ilike","is","in","cleanedValues","s","contains","containedBy","rangeGt","rangeGte","rangeLt","rangeLte","rangeAdjacent","overlaps","textSearch","query","config","typePart","configPart","entries","not","operator","or","filters","PostgrestQueryBuilder","head","insert","prefersHeaders","reduce","acc","uniqueColumns","Set","upsert","onConflict","ignoreDuplicates","update","delete","version","DEFAULT_HEADERS","PostgrestClient","relation","URL","rpc","VSN","DEFAULT_TIMEOUT","WS_CLOSE_NORMAL","SOCKET_STATES","CHANNEL_STATES","CHANNEL_EVENTS","TRANSPORTS","CONNECTION_STATE","REALTIME_PRESENCE_LISTEN_EVENTS","PostgresTypes","Timer","timerCalc","timer","tries","reset","clearTimeout","scheduleTimeout","Serializer","HEADER_LENGTH","decode","rawPayload","_binaryDecode","buffer","view","DataView","decoder","TextDecoder","_decodeBroadcast","topicSize","getUint8","eventSize","topic","event","byteLength","ref","payload","Push","channel","timeout","sent","timeoutTimer","receivedResp","recHooks","refEvent","rateLimited","resend","_cancelRefEvent","send","_hasReceived","startTimeout","socket","join_ref","_joinRef","updatePayload","receive","_makeRef","_replyEventName","_cancelTimeout","_matchReceive","_on","trigger","_trigger","destroy","_off","h","RealtimePresence","pendingDiffs","joinRef","onJoin","onLeave","onSync","events","diff","newState","syncState","syncDiff","inPendingSyncState","currentPresences","newPresences","leftPresences","currentState","cloneDeep","transformedState","transformState","joins","leaves","presences","newPresenceRefs","m","presence_ref","curPresenceRefs","joinedPresences","joinedPresenceRefs","curPresences","presenceRefsToRemove","func","metas","presence","convertChangeData","record","skipTypes","rec_key","convertColumn","columnName","find","colType","convertCell","noop","dataType","toArray","bool","toBoolean","float4","float8","int2","int4","int8","numeric","oid","toNumber","jsonb","toJson","timestamp","toTimestampString","abstime","date","daterange","int4range","int8range","money","reltime","time","timestamptz","timetz","tsrange","tstzrange","parsedValue","parseFloat","isNaN","lastIdx","closeBrace","openBrace","valTrim","REALTIME_POSTGRES_CHANGES_LISTEN_EVENT","REALTIME_LISTEN_TYPES","REALTIME_SUBSCRIBE_STATES","RealtimeChannel","bindings","closed","joinedOnce","pushBuffer","broadcast","ack","self","joinPush","rejoinTimer","_rejoinUntilConnected","reconnectAfterMs","joined","pushEvent","_onClose","_remove","_onError","reason","_isLeaving","_isClosed","errored","_isJoining","reply","subscribe","accessTokenPayload","postgres_changes","r","accessToken","access_token","updateJoinPayload","_rejoin","serverPostgresFilters","clientPostgresBindings","bindingsLen","newPostgresBindings","clientPostgresBinding","serverPostgresFilter","unsubscribe","presenceState","track","untrack","on","_push","leaving","onClose","close","leavePush","leave","_canPush","_onMessage","_event","_ref","_isMember","typeLower","toLocaleLowerCase","handledPayload","bind","_e","_f","bindId","bindEvent","ids","postgresChanges","commit_timestamp","errors","enrichedPayload","eventType","new","old","_getPayloadRecords","_isJoined","joining","binding","isEqual","obj1","obj2","isConnected","_leaveOpenTopic","records","old_record","RealtimeClient","endPoint","channels","transport","w3cwebsocket","heartbeatIntervalMs","heartbeatTimer","pendingHeartbeatRef","logger","conn","sendBuffer","serializer","stateChangeCallbacks","open","eventsPerSecondLimitMs","inThrottle","websocket","eventsPerSecond","floor","reconnectTimer","disconnect","connect","_endPointURL","binaryType","onopen","_onConnOpen","onerror","_onConnError","onmessage","_onConnMessage","onclose","_onConnClose","clearInterval","getChannels","removeChannel","removeAllChannels","kind","msg","connectionState","readyState","connecting","Connecting","Open","closing","Closing","Closed","chan","isThrottled","_throttle","newRef","dupChannel","_appendParams","vsn","rawMessage","_flushSendBuffer","setInterval","_sendHeartbeat","_triggerChanError","prefix","URLSearchParams","eventsPerSecondLimit","StorageError","__isStorageError","isStorageError","StorageApiError","toJSON","StorageUnknownError","originalError","resolveResponse","Response","_getErrorMessage","error_description","handleError","Res","_getRequestParams","parameters","_handleRequest","fetcher","noResolveJson","post","put","remove","DEFAULT_SEARCH_OPTIONS","sortBy","DEFAULT_FILE_OPTIONS","cacheControl","contentType","StorageFileApi","bucketId","uploadOrUpdate","path","fileBody","fileOptions","cleanPath","_removeEmptyFolders","_path","_getFinalPath","upload","move","fromPath","toPath","sourceKey","destinationKey","copy","Key","createSignedUrl","expiresIn","transform","downloadQueryParam","download","signedUrl","signedURL","createSignedUrls","paths","datum","wantsTransformation","renderPath","transformationQuery","transformOptsToQueryString","queryString","getPublicUrl","_queryString","publicUrl","prefixes","width","height","resize","StorageBucketApi","listBuckets","getBucket","createBucket","public","updateBucket","emptyBucket","deleteBucket","StorageClient","resolveHeadersConstructor","Headers","fetchWithAuth","supabaseKey","getAccessToken","HeadersConstructor","init","has","stripTrailingSlash","applySettingDefaults","db","dbOptions","auth","authOptions","realtime","realtimeOptions","global","globalOptions","DEFAULT_DB_OPTIONS","DEFAULT_AUTH_OPTIONS","DEFAULT_REALTIME_OPTIONS","DEFAULT_GLOBAL_OPTIONS","expiresAt","timeNow","round","Date","now","v","document","getParameterByName","window","location","results","looksLikeFetchResponse","maybeResponse","setItemAsync","storage","setItem","getItemAsync","getItem","removeItemAsync","removeItem","decodeBase64URL","atob","ReferenceError","Buffer","Deferred","promise","promiseConstructor","rej","decodeJWTPayload","base64UrlRegex","parts","base64Url","AuthError","__isAuthError","isAuthError","AuthApiError","isAuthApiError","AuthUnknownError","CustomAuthError","AuthSessionMissingError","AuthInvalidCredentialsError","AuthImplicitGrantRedirectError","AuthRetryableFetchError","__rest","p","getOwnPropertySymbols","propertyIsEnumerable","NETWORK_ERROR_CODES","_request","jwt","qs","redirectTo","xform","_sessionResponse","session","hasSession","expires_at","expires_in","user","_userResponse","_ssoResponse","_generateLinkResponse","action_link","email_otp","hashed_token","redirect_to","verification_type","rest","properties","_noResolveJsonResponse","refresh_token","GoTrueAdminApi","mfa","listFactors","_listFactors","deleteFactor","_deleteFactor","signOut","inviteUserByEmail","email","generateLink","new_email","newEmail","createUser","attributes","listUsers","_g","pagination","nextPage","lastPage","total","page","per_page","perPage","users","rel","getUserById","uid","updateUserById","deleteUser","userId","factors","GOTRUE_URL","STORAGE_KEY","EXPIRY_MARGIN","NETWORK_FAILURE","MAX_RETRIES","RETRY_INTERVAL","localStorageAdapter","globalThis","localStorage","polyfillGlobalThis","__magic__","DEFAULT_OPTIONS","storageKey","autoRefreshToken","persistSession","detectSessionInUrl","GoTrueClient","stateChangeEmitters","Map","networkRetries","refreshingDeferred","initializePromise","inMemorySession","admin","initialize","verify","_verify","enroll","_enroll","unenroll","_unenroll","challenge","_challenge","challengeAndVerify","_challengeAndVerify","getAuthenticatorAssuranceLevel","_getAuthenticatorAssuranceLevel","_initialize","_isImplicitGrantFlow","_getSessionFromUrl","_removeSession","redirectType","_saveSession","_notifyAllSubscribers","_recoverAndRefresh","_handleVisibilityChange","signUp","credentials","password","emailRedirectTo","gotrue_meta_security","captcha_token","captchaToken","phone","signInWithPassword","signInWithOAuth","_handleProviderSignIn","provider","scopes","queryParams","signInWithOtp","create_user","shouldCreateUser","verifyOtp","signInWithSSO","provider_id","providerId","skip_http_redirect","getSession","currentSession","maybeSession","_isValidSession","hasExpired","_callRefreshToken","getUser","updateUser","sessionData","sessionError","userError","_decodeJWT","setSession","exp","refreshedSession","token_type","refreshSession","error_code","provider_token","provider_refresh_token","hash","onAuthStateChange","subscription","resetPasswordForEmail","_refreshAccessToken","refreshToken","isValidSession","_getUrlForProvider","refreshTokenTimer","pow","refreshDurationBeforeExpires","_startAutoRefreshToken","_persistSession","unref","addEventListener","visibilityState","urlParams","encodeURIComponent","factorId","friendly_name","friendlyName","factor_type","factorType","issuer","totp","qr_code","challenge_id","challengeId","challengeData","challengeError","factor","currentLevel","nextLevel","currentAuthenticationMethods","aal","verifiedFactors","amr","SupabaseAuthClient","SupabaseClient","supabaseUrl","_h","_supabaseUrl","realtimeUrl","authUrl","storageUrl","isPlatform","urlParts","functionsUrl","defaultStorageKey","hostname","DEFAULTS","_initSupabaseAuthClient","_getAccessToken","_initRealtimeClient","_listenForAuthEvents","functions","authHeaders","apikey","_handleTokenChanged","changedAccessToken","createClient","supabase","process","recipes","mergeTransitions","dest","transitions","createSimpleTransition","origin","mode","functional","group","default","hideOnLeave","leaveAbsolute","beforeEnter","el","style","transformOrigin","webkitTransformOrigin","offsetTop","offsetLeft","offsetWidth","offsetHeight","_transitionInitialStyles","position","left","afterLeave","setProperty","mergeData","children","createJavascriptTransition","expandedParentClass","sizeProperty","offsetProperty","upperFirst","_parent","parentNode","_initialStyle","transition","overflow","enter","initialStyle","classList","add","requestAnimationFrame","afterEnter","resetStyles","enterCancelled","leaveCancelled","size","VFadeTransition","VSlideXTransition","ExpandTransitionGenerator","factory","model","internalLazyValue","internalValue","$emit","watch","Proxyable","baseMixins","Colorable","PositionableFactory","Themeable","directives","intersect","active","backgroundColor","backgroundOpacity","bufferValue","color","indeterminate","reverse","rounded","stream","striped","isVisible","__cachedBackground","$createElement","setBackgroundColor","backgroundStyle","__cachedBar","computedTransition","__cachedBarType","__cachedIndeterminate","__cachedDeterminate","__cachedBuffer","styles","convertToUnit","normalizedValue","class","genProgressBar","__cachedStream","setTextColor","normalizedBuffer","opacity","isReversed","max","classes","absolute","fixed","reactive","themeClasses","$vuetify","rtl","normalize","$listeners","change","genContent","slot","getSlot","genListeners","listeners","click","onClick","$el","getBoundingClientRect","offsetX","onObserve","observer","isIntersecting","role","bottom","loading","loaderHeight","genProgress","$slots","progress","VProgressLinear","Loadable","Routable","VSheet","flat","hover","img","raised","isClickable","disabled","background","generateRouteLink","tabindex","VCardActions","createSimpleFunctional","VCardSubtitle","VCardText","VCardTitle","__self__","F","DOMException","exports","support","iterable","arrayBuffer","isDataView","isPrototypeOf","viewClasses","isArrayBufferView","isView","normalizeName","normalizeValue","iteratorFor","consumed","bodyUsed","fileReaderReady","reader","onload","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","Uint8Array","chars","bufferClone","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","_bodyFormData","_bodyArrayBuffer","oldValue","normalizeMethod","upcased","toUpperCase","Request","referrer","form","bytes","parseHeaders","rawHeaders","preProcessedHeaders","bodyInit","clone","redirectStatuses","redirect","RangeError","stack","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","withCredentials","setRequestHeader","onreadystatechange","removeEventListener","polyfill","ponyfill","ctx","module","_setPrototypeOf","o","setPrototypeOf","_isNativeReflectConstruct","construct","sham","Proxy","valueOf","_construct","Parent","Class","a","Constructor","Function","instance","_unsupportedIterableToArray","_arrayLikeToArray","minLen","len","isFrozen","freeze","seal","fun","thisValue","Func","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","typeErrorCreate","unconstruct","_len","_key","_len2","_key2","addToSet","array","transformCaseFunc","element","lcElement","object","property","newObject","lookupGetter","desc","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","_createTrustedTypesPolicy","trustedTypes","createPolicy","suffix","ATTR_NAME","currentScript","hasAttribute","getAttribute","policyName","createHTML","createScriptURL","scriptUrl","createDOMPurify","root","removed","nodeType","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","template","createElement","ownerDocument","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","documentMode","hooks","createHTMLDocument","PARSER_MEDIA_TYPE","MUSTACHE_EXPR$1","ERB_EXPR$1","TMPLIT_EXPR$1","DATA_ATTR$1","ARIA_ATTR$1","IS_SCRIPT_OR_DATA$1","ATTR_WHITESPACE$1","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parent","tagName","namespaceURI","parentTagName","_forceRemove","removeChild","outerHTML","_removeAttribute","attribute","getAttributeNode","removeAttribute","setAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","insertBefore","createTextNode","childNodes","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","elm","nodeName","textContent","hasChildNodes","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","allowedTags","firstElementChild","_basicCustomElementTest","childCount","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","importedNode","oldNode","returnNode","toStaticHTML","appendChild","firstChild","nodeIterator","shadowroot","serializedHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","purify","naiveFallback","__global__","_globalThis","NativeWebSocket","WebSocket","MozWebSocket","websocket_version","W3CWebSocket","uri","protocols","native_instance"],"sourceRoot":""}